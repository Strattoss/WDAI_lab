"use strict";(self.webpackChunktravelAgency=self.webpackChunktravelAgency||[]).push([[179],{2011:(qe,me,O)=>{O.d(me,{Dh:()=>ae,GT:()=>se,cc:()=>ve,hO:()=>Me,on:()=>V,pX:()=>re,xv:()=>oe});var a=O(4650),K=O(9260),x=O(2122);qe=O.hmd(qe);const ie=["ngOnDestroy"],re=(ye,_e,Te,De={})=>new Proxy(ye,{get:(pe,be)=>Te.runOutsideAngular(()=>{var Oe;if(ye[be])return!(null===(Oe=De?.spy)||void 0===Oe)&&Oe.get&&De.spy.get(be,ye[be]),ye[be];if(ie.indexOf(be)>-1)return()=>{};const Ae=_e.toPromise().then(U=>{const fe=U&&U[be];return"function"==typeof fe?fe.bind(U):fe&&fe.then?fe.then(W=>Te.run(()=>W)):Te.run(()=>fe)});return new Proxy(()=>{},{get:(U,fe)=>Ae[fe],apply:(U,fe,W)=>Ae.then(Y=>{var ne;const ee=Y&&Y(...W);return!(null===(ne=De?.spy)||void 0===ne)&&ne.apply&&De.spy.apply(be,W,ee),ee})})})}),se=(ye,_e)=>{_e.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(De=>{Object.defineProperty(ye.prototype,De,Object.getOwnPropertyDescriptor(Te.prototype||Te,De))})})};class ce{constructor(_e){return _e}}const ae=new a.OlP("angularfire2.app.options"),oe=new a.OlP("angularfire2.app.name");function V(ye,_e,Te){const pe="object"==typeof Te&&Te||{};pe.name=pe.name||"string"==typeof Te&&Te||"[DEFAULT]";const Oe=K.Z.apps.filter(Ae=>Ae&&Ae.name===pe.name)[0]||_e.runOutsideAngular(()=>K.Z.initializeApp(ye,pe));try{JSON.stringify(ye)!==JSON.stringify(Oe.options)&&B("error",`${Oe.name} Firebase App already initialized with different options${qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(Oe)}const B=(ye,..._e)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ye](..._e)},q={provide:ce,useFactory:V,deps:[ae,a.R0b,[new a.FiY,oe]]};let Me=(()=>{class ye{constructor(Te){K.Z.registerVersion("angularfire",x.q4.full,"core"),K.Z.registerVersion("angularfire",x.q4.full,"app-compat"),K.Z.registerVersion("angular",a.q4F.full,Te.toString())}static initializeApp(Te,De){return{ngModule:ye,providers:[{provide:ae,useValue:Te},{provide:oe,useValue:De}]}}}return ye.\u0275fac=function(Te){return new(Te||ye)(a.LFG(a.Lbi))},ye.\u0275mod=a.oAB({type:ye}),ye.\u0275inj=a.cJS({providers:[q]}),ye})();function ve(ye,_e,Te,De,pe){const[,be,Oe]=globalThis.\u0275AngularfireInstanceCache.find(Ae=>Ae[0]===ye)||[];if(be)return function Fe(ye,_e){try{return ye.toString()===_e.toString()}catch{return ye===_e}}(pe,Oe)||(ue("error",`${_e} was already initialized on the ${Te} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),ue("warn",{is:pe,was:Oe})),be;{const Ae=De();return globalThis.\u0275AngularfireInstanceCache.push([ye,Ae,pe]),Ae}}const We=!!qe.hot,ue=(ye,..._e)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ye](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(qe,me,O)=>{O.d(me,{q4:()=>Oo,iC:()=>Ze,HU:()=>eh,vb:()=>_r,JM:()=>St});var a=O(4650),K=O(259),x=O(5861),ie=O(9681),re=O(2090),se=O(4859),ce=O(1877),ae=O(8766);const oe="@firebase/installations",V="0.6.0",q=`w:${V}`,Me="FIS_v2",_e=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(D){return D instanceof re.ZR&&D.code.includes("request-failed")}function De({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function pe(D){return{token:D.token,requestStatus:2,expiresIn:Y(D.expiresIn),creationTime:Date.now()}}function be(D,b){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,x.Z)(function*(D,b){const k=(yield b.json()).error;return _e.create("request-failed",{requestName:D,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function Ae({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function U(D,{refreshToken:b}){const A=Ae(D);return A.append("Authorization",function ne(D){return`${Me} ${D}`}(b)),A}function fe(D){return W.apply(this,arguments)}function W(){return(W=(0,x.Z)(function*(D){const b=yield D();return b.status>=500&&b.status<600?D():b})).apply(this,arguments)}function Y(D){return Number(D.replace("s","000"))}function ee(D,b){return Re.apply(this,arguments)}function Re(){return(Re=(0,x.Z)(function*({appConfig:D,heartbeatServiceProvider:b},{fid:A}){const k=De(D),z=Ae(D),te=b.getImmediate({optional:!0});if(te){const Ge=yield te.getHeartbeatsHeader();Ge&&z.append("x-firebase-client",Ge)}const $e={method:"POST",headers:z,body:JSON.stringify({fid:A,authVersion:Me,appId:D.appId,sdkVersion:q})},ze=yield fe(()=>fetch(k,$e));if(ze.ok){const Ge=yield ze.json();return{fid:Ge.fid||A,registrationStatus:2,refreshToken:Ge.refreshToken,authToken:pe(Ge.authToken)}}throw yield be("Create Installation",ze)})).apply(this,arguments)}function Se(D){return new Promise(b=>{setTimeout(b,D)})}const Ut=/^[cdef][\w-]{21}$/;function _t(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const A=function Dt(D){return function Ye(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Ut.test(A)?A:""}catch{return""}}function Qe(D){return`${D.appName}!${D.appId}`}const Lt=new Map;function Gn(D,b){const A=Qe(D);qt(A,b),function Tr(D,b){const A=function nr(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=D=>{qt(D.data.key,D.data.fid)}),cr}();A&&A.postMessage({key:D,fid:b}),function Wn(){0===Lt.size&&cr&&(cr.close(),cr=null)}()}(A,b)}function qt(D,b){const A=Lt.get(D);if(A)for(const k of A)k(b)}let cr=null;const Ar="firebase-installations-store";let rr=null;function Ni(){return rr||(rr=(0,ae.X3)("firebase-installations-database",1,{upgrade:(D,b)=>{0===b&&D.createObjectStore(Ar)}})),rr}function Zt(D,b){return dr.apply(this,arguments)}function dr(){return(dr=(0,x.Z)(function*(D,b){const A=Qe(D),z=(yield Ni()).transaction(Ar,"readwrite"),te=z.objectStore(Ar),Ee=yield te.get(A);return yield te.put(b,A),yield z.done,(!Ee||Ee.fid!==b.fid)&&Gn(D,b.fid),b})).apply(this,arguments)}function Xe(D){return yi.apply(this,arguments)}function yi(){return(yi=(0,x.Z)(function*(D){const b=Qe(D),k=(yield Ni()).transaction(Ar,"readwrite");yield k.objectStore(Ar).delete(b),yield k.done})).apply(this,arguments)}function Vr(D,b){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,x.Z)(function*(D,b){const A=Qe(D),z=(yield Ni()).transaction(Ar,"readwrite"),te=z.objectStore(Ar),Ee=yield te.get(A),$e=b(Ee);return void 0===$e?yield te.delete(A):yield te.put($e,A),yield z.done,$e&&(!Ee||Ee.fid!==$e.fid)&&Gn(D,$e.fid),$e})).apply(this,arguments)}function Zn(D){return ki.apply(this,arguments)}function ki(){return(ki=(0,x.Z)(function*(D){let b;const A=yield Vr(D.appConfig,k=>{const z=ht(k),te=et(D,z);return b=te.registrationPromise,te.installationEntry});return""===A.fid?{installationEntry:yield b}:{installationEntry:A,registrationPromise:b}})).apply(this,arguments)}function ht(D){return Un(D||{fid:_t(),registrationStatus:0})}function et(D,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(_e.create("app-offline"))};const A={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},k=function it(D,b){return Ci.apply(this,arguments)}(D,A);return{installationEntry:A,registrationPromise:k}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:en(D)}:{installationEntry:b}}function Ci(){return(Ci=(0,x.Z)(function*(D,b){try{const A=yield ee(D,b);return Zt(D.appConfig,A)}catch(A){throw Te(A)&&409===A.customData.serverCode?yield Xe(D.appConfig):yield Zt(D.appConfig,{fid:b.fid,registrationStatus:0}),A}})).apply(this,arguments)}function en(D){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,x.Z)(function*(D){let b=yield Br(D.appConfig);for(;1===b.registrationStatus;)yield Se(100),b=yield Br(D.appConfig);if(0===b.registrationStatus){const{installationEntry:A,registrationPromise:k}=yield Zn(D);return k||A}return b})).apply(this,arguments)}function Br(D){return Vr(D,b=>{if(!b)throw _e.create("installation-not-found");return Un(b)})}function Un(D){return function Ds(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Vt(D,b){return ei.apply(this,arguments)}function ei(){return(ei=(0,x.Z)(function*({appConfig:D,heartbeatServiceProvider:b},A){const k=Pt(D,A),z=U(D,A),te=b.getImmediate({optional:!0});if(te){const Ge=yield te.getHeartbeatsHeader();Ge&&z.append("x-firebase-client",Ge)}const $e={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:q,appId:D.appId}})},ze=yield fe(()=>fetch(k,$e));if(ze.ok)return pe(yield ze.json());throw yield be("Generate Auth Token",ze)})).apply(this,arguments)}function Pt(D,{fid:b}){return`${De(D)}/${b}/authTokens:generate`}function zn(D){return ti.apply(this,arguments)}function ti(){return(ti=(0,x.Z)(function*(D,b=!1){let A;const k=yield Vr(D.appConfig,te=>{if(!vt(te))throw _e.create("not-registered");const Ee=te.authToken;if(!b&&$(Ee))return te;if(1===Ee.requestStatus)return A=Pe(D,b),te;{if(!navigator.onLine)throw _e.create("app-offline");const $e=Z(te);return A=ot(D,$e),$e}});return A?yield A:k.authToken})).apply(this,arguments)}function Pe(D,b){return ge.apply(this,arguments)}function ge(){return(ge=(0,x.Z)(function*(D,b){let A=yield Be(D.appConfig);for(;1===A.authToken.requestStatus;)yield Se(100),A=yield Be(D.appConfig);const k=A.authToken;return 0===k.requestStatus?zn(D,b):k})).apply(this,arguments)}function Be(D){return Vr(D,b=>{if(!vt(b))throw _e.create("not-registered");return function de(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function ot(D,b){return ct.apply(this,arguments)}function ct(){return(ct=(0,x.Z)(function*(D,b){try{const A=yield Vt(D,b),k=Object.assign(Object.assign({},b),{authToken:A});return yield Zt(D.appConfig,k),A}catch(A){if(!Te(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const k=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield Zt(D.appConfig,k)}else yield Xe(D.appConfig);throw A}})).apply(this,arguments)}function vt(D){return void 0!==D&&2===D.registrationStatus}function $(D){return 2===D.requestStatus&&!function L(D){const b=Date.now();return b<D.creationTime||D.creationTime+D.expiresIn<b+36e5}(D)}function Z(D){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:b})}function He(){return(He=(0,x.Z)(function*(D){const b=D,{installationEntry:A,registrationPromise:k}=yield Zn(b);return k?k.catch(console.error):zn(b).catch(console.error),A.fid})).apply(this,arguments)}function At(){return(At=(0,x.Z)(function*(D,b=!1){const A=D;return yield tn(A),(yield zn(A,b)).token})).apply(this,arguments)}function tn(D){return nt.apply(this,arguments)}function nt(){return(nt=(0,x.Z)(function*(D){const{registrationPromise:b}=yield Zn(D);b&&(yield b)})).apply(this,arguments)}function da(D){return _e.create("missing-app-config-values",{valueName:D})}const yl="installations",nn=D=>{const b=D.getProvider("app").getImmediate(),A=function co(D){if(!D||!D.options)throw da("App Configuration");if(!D.name)throw da("App Name");const b=["projectId","apiKey","appId"];for(const A of b)if(!D.options[A])throw da(A);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(b);return{app:b,appConfig:A,heartbeatServiceProvider:(0,ie._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},sc=D=>{const b=D.getProvider("app").getImmediate(),A=(0,ie._getProvider)(b,yl).getImmediate();return{getId:()=>function J(D){return He.apply(this,arguments)}(A),getToken:z=>function yt(D){return At.apply(this,arguments)}(A,z)}};(function Cl(){(0,ie._registerComponent)(new se.wA(yl,nn,"PUBLIC")),(0,ie._registerComponent)(new se.wA("installations-internal",sc,"PRIVATE"))})(),(0,ie.registerVersion)(oe,V),(0,ie.registerVersion)(oe,V,"esm2017");const ho="@firebase/remote-config",cn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ii{constructor(b,A,k,z){this.client=b,this.storage=A,this.storageCache=k,this.logger=z}isCachedDataFresh(b,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-A,z=k<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${z}.`),z}fetch(b){var A=this;return(0,x.Z)(function*(){const[k,z]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(z&&A.isCachedDataFresh(b.cacheMaxAgeMillis,k))return z;b.eTag=z&&z.eTag;const te=yield A.client.fetch(b),Ee=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Ee.push(A.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Ee),te})()}}function Sr(D=navigator){return D.languages&&D.languages[0]||D.language}class Fi{constructor(b,A,k,z,te,Ee){this.firebaseInstallations=b,this.sdkVersion=A,this.namespace=k,this.projectId=z,this.apiKey=te,this.appId=Ee}fetch(b){var A=this;return(0,x.Z)(function*(){const[k,z]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),Ee=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},ze={sdk_version:A.sdkVersion,app_instance_id:k,app_instance_id_token:z,app_id:A.appId,language_code:Sr()},Ge={method:"POST",headers:$e,body:JSON.stringify(ze)},at=fetch(Ee,Ge),dt=new Promise((bt,hi)=>{b.signal.addEventListener(()=>{const Gi=new Error("The operation was aborted.");Gi.name="AbortError",hi(Gi)})});let gn;try{yield Promise.race([at,dt]),gn=yield at}catch(bt){let hi="fetch-client-network";throw"AbortError"===bt?.name&&(hi="fetch-timeout"),cn.create(hi,{originalErrorMessage:bt?.message})}let bn=gn.status;const mn=gn.headers.get("ETag")||void 0;let di,Hs;if(200===gn.status){let bt;try{bt=yield gn.json()}catch(hi){throw cn.create("fetch-client-parse",{originalErrorMessage:hi?.message})}di=bt.entries,Hs=bt.state}if("INSTANCE_STATE_UNSPECIFIED"===Hs?bn=500:"NO_CHANGE"===Hs?bn=304:("NO_TEMPLATE"===Hs||"EMPTY_CONFIG"===Hs)&&(di={}),304!==bn&&200!==bn)throw cn.create("fetch-status",{httpStatus:bn});return{status:bn,eTag:mn,config:di}})()}}class Vf{constructor(b,A){this.client=b,this.storage=A}fetch(b){var A=this;return(0,x.Z)(function*(){const k=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(b,k)})()}attemptFetch(b,{throttleEndTimeMillis:A,backoffCount:k}){var z=this;return(0,x.Z)(function*(){yield function hn(D,b){return new Promise((A,k)=>{const z=Math.max(b-Date.now(),0),te=setTimeout(A,z);D.addEventListener(()=>{clearTimeout(te),k(cn.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,A);try{const te=yield z.client.fetch(b);return yield z.storage.deleteThrottleMetadata(),te}catch(te){if(!function Ht(D){if(!(D instanceof re.ZR&&D.customData))return!1;const b=Number(D.customData.httpStatus);return 429===b||500===b||503===b||504===b}(te))throw te;const Ee={throttleEndTimeMillis:Date.now()+(0,re.$s)(k),backoffCount:k+1};return yield z.storage.setThrottleMetadata(Ee),z.attemptFetch(b,Ee)}})()}}class es{constructor(b,A,k,z,te){this.app=b,this._client=A,this._storageCache=k,this._storage=z,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ts(D,b){const A=D.target.error||void 0;return cn.create(b,{originalErrorMessage:A&&A?.message})}const ir="app_namespace_store";class Hr{constructor(b,A,k,z=function fr(){return new Promise((D,b)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=k=>{b(ts(k,"storage-open"))},A.onsuccess=k=>{D(k.target.result)},A.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(ir,{keyPath:"compositeKey"})}}catch(A){b(cn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=b,this.appName=A,this.namespace=k,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise((z,te)=>{const $e=k.transaction([ir],"readonly").objectStore(ir),ze=A.createCompositeKey(b);try{const Ge=$e.get(ze);Ge.onerror=at=>{te(ts(at,"storage-get"))},Ge.onsuccess=at=>{const dt=at.target.result;z(dt?dt.value:void 0)}}catch(Ge){te(cn.create("storage-get",{originalErrorMessage:Ge?.message}))}})})()}set(b,A){var k=this;return(0,x.Z)(function*(){const z=yield k.openDbPromise;return new Promise((te,Ee)=>{const ze=z.transaction([ir],"readwrite").objectStore(ir),Ge=k.createCompositeKey(b);try{const at=ze.put({compositeKey:Ge,value:A});at.onerror=dt=>{Ee(ts(dt,"storage-set"))},at.onsuccess=()=>{te()}}catch(at){Ee(cn.create("storage-set",{originalErrorMessage:at?.message}))}})})()}delete(b){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise((z,te)=>{const $e=k.transaction([ir],"readwrite").objectStore(ir),ze=A.createCompositeKey(b);try{const Ge=$e.delete(ze);Ge.onerror=at=>{te(ts(at,"storage-delete"))},Ge.onsuccess=()=>{z()}}catch(Ge){te(cn.create("storage-delete",{originalErrorMessage:Ge?.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class go{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,x.Z)(function*(){const A=b.storage.getLastFetchStatus(),k=b.storage.getLastSuccessfulFetchTimestampMillis(),z=b.storage.getActiveConfig(),te=yield A;te&&(b.lastFetchStatus=te);const Ee=yield k;Ee&&(b.lastSuccessfulFetchTimestampMillis=Ee);const $e=yield z;$e&&(b.activeConfig=$e)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function mo(){return $d.apply(this,arguments)}function $d(){return($d=(0,x.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function Qn(){(0,ie._registerComponent)(new se.wA("remote-config",function D(b,{instanceIdentifier:A}){const k=b.getProvider("app").getImmediate(),z=b.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw cn.create("registration-window");if(!(0,re.hl)())throw cn.create("indexed-db-unavailable");const{projectId:te,apiKey:Ee,appId:$e}=k.options;if(!te)throw cn.create("registration-project-id");if(!Ee)throw cn.create("registration-api-key");if(!$e)throw cn.create("registration-app-id");const ze=new Hr($e,k.name,A=A||"firebase"),Ge=new go(ze),at=new ce.Yd(ho);at.logLevel=ce.in.ERROR;const dt=new Fi(z,ie.SDK_VERSION,A,te,Ee,$e),gn=new Vf(dt,ze),bn=new ii(gn,ze,Ge,at),mn=new es(k,bn,Ge,ze,at);return function xt(D){const b=(0,re.m9)(D);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(mn),mn},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(ho,"0.4.0"),(0,ie.registerVersion)(ho,"0.4.0","esm2017")}();const Dl="/firebase-messaging-sw.js",Ei="/firebase-cloud-messaging-push-scope",ns="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ac="google.c.a.c_id",_o="google.c.a.c_l",bl="google.c.a.ts",lc="google.c.a.e";var pa=(()=>{return(D=pa||(pa={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",pa;var D})();function jr(D){const b=new Uint8Array(D);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function uc(D){const A=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(A),z=new Uint8Array(k.length);for(let te=0;te<k.length;++te)z[te]=k.charCodeAt(te);return z}const Il="fcm_token_details_db",sr="fcm_token_object_Store";function dc(D){return hc.apply(this,arguments)}function hc(){return hc=(0,x.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Il))return null;let b=null;return(yield(0,ae.X3)(Il,5,{upgrade:(k=(0,x.Z)(function*(z,te,Ee,$e){var ze;if(te<2||!z.objectStoreNames.contains(sr))return;const Ge=$e.objectStore(sr),at=yield Ge.index("fcmSenderId").get(D);if(yield Ge.clear(),at)if(2===te){const dt=at;if(!dt.auth||!dt.p256dh||!dt.endpoint)return;b={token:dt.fcmToken,createTime:null!==(ze=dt.createTime)&&void 0!==ze?ze:Date.now(),subscriptionOptions:{auth:dt.auth,p256dh:dt.p256dh,endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:"string"==typeof dt.vapidKey?dt.vapidKey:jr(dt.vapidKey)}}}else if(3===te){const dt=at;b={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:jr(dt.auth),p256dh:jr(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:jr(dt.vapidKey)}}}else if(4===te){const dt=at;b={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:jr(dt.auth),p256dh:jr(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:jr(dt.vapidKey)}}}}),function(te,Ee,$e,ze){return k.apply(this,arguments)})})).close(),yield(0,ae.Lj)(Il),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),Hd(b)?b:null;var k}),hc.apply(this,arguments)}function Hd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:b}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}const Li="firebase-messaging-store";let vo=null;function is(){return vo||(vo=(0,ae.X3)("firebase-messaging-database",1,{upgrade:(D,b)=>{0===b&&D.createObjectStore(Li)}})),vo}function ga(D){return ma.apply(this,arguments)}function ma(){return(ma=(0,x.Z)(function*(D){const b=va(D),k=yield(yield is()).transaction(Li).objectStore(Li).get(b);if(k)return k;{const z=yield dc(D.appConfig.senderId);if(z)return yield ss(D,z),z}})).apply(this,arguments)}function ss(D,b){return yo.apply(this,arguments)}function yo(){return(yo=(0,x.Z)(function*(D,b){const A=va(D),z=(yield is()).transaction(Li,"readwrite");return yield z.objectStore(Li).put(b,A),yield z.done,b})).apply(this,arguments)}function _a(D){return As.apply(this,arguments)}function As(){return(As=(0,x.Z)(function*(D){const b=va(D),k=(yield is()).transaction(Li,"readwrite");yield k.objectStore(Li).delete(b),yield k.done})).apply(this,arguments)}function va({appConfig:D}){return D.appId}const an=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Co(D,b){return fn.apply(this,arguments)}function fn(){return(fn=(0,x.Z)(function*(D,b){const A=yield Ui(D),k=Eo(b),z={method:"POST",headers:A,body:JSON.stringify(k)};let te;try{te=yield(yield fetch(Ms(D.appConfig),z)).json()}catch(Ee){throw an.create("token-subscribe-failed",{errorInfo:Ee?.toString()})}if(te.error)throw an.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw an.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function Ss(D,b){return os.apply(this,arguments)}function os(){return(os=(0,x.Z)(function*(D,b){const A=yield Ui(D),k=Eo(b.subscriptionOptions),z={method:"PATCH",headers:A,body:JSON.stringify(k)};let te;try{te=yield(yield fetch(`${Ms(D.appConfig)}/${b.token}`,z)).json()}catch(Ee){throw an.create("token-update-failed",{errorInfo:Ee?.toString()})}if(te.error)throw an.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw an.create("token-update-no-token");return te.token})).apply(this,arguments)}function Bn(D,b){return pc.apply(this,arguments)}function pc(){return(pc=(0,x.Z)(function*(D,b){const k={method:"DELETE",headers:yield Ui(D)};try{const te=yield(yield fetch(`${Ms(D.appConfig)}/${b}`,k)).json();if(te.error)throw an.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(z){throw an.create("token-unsubscribe-failed",{errorInfo:z?.toString()})}})).apply(this,arguments)}function Ms({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Ui(D){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,x.Z)(function*({appConfig:D,installations:b}){const A=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Eo({p256dh:D,auth:b,endpoint:A,vapidKey:k}){const z={web:{endpoint:A,auth:b,p256dh:D}};return k!==ns&&(z.web.applicationPubKey=k),z}const Do=6048e5;function ya(D){return si.apply(this,arguments)}function si(){return(si=(0,x.Z)(function*(D){const b=yield Tl(D.swRegistration,D.vapidKey),A={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:b.endpoint,auth:jr(b.getKey("auth")),p256dh:jr(b.getKey("p256dh"))},k=yield ga(D.firebaseDependencies);if(k){if(Da(k.subscriptionOptions,A))return Date.now()>=k.createTime+Do?ft(D,{token:k.token,createTime:Date.now(),subscriptionOptions:A}):k.token;try{yield Bn(D.firebaseDependencies,k.token)}catch(z){console.warn(z)}return wl(D.firebaseDependencies,A)}return wl(D.firebaseDependencies,A)})).apply(this,arguments)}function bo(D){return Io.apply(this,arguments)}function Io(){return(Io=(0,x.Z)(function*(D){const b=yield ga(D.firebaseDependencies);b&&(yield Bn(D.firebaseDependencies,b.token),yield _a(D.firebaseDependencies));const A=yield D.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function ft(D,b){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,x.Z)(function*(D,b){try{const A=yield Ss(D.firebaseDependencies,b),k=Object.assign(Object.assign({},b),{token:A,createTime:Date.now()});return yield ss(D.firebaseDependencies,k),A}catch(A){throw yield bo(D),A}})).apply(this,arguments)}function wl(D,b){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,x.Z)(function*(D,b){const k={token:yield Co(D,b),createTime:Date.now(),subscriptionOptions:b};return yield ss(D,k),k.token})).apply(this,arguments)}function Tl(D,b){return gc.apply(this,arguments)}function gc(){return(gc=(0,x.Z)(function*(D,b){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:uc(b)})})).apply(this,arguments)}function Da(D,b){return b.vapidKey===D.vapidKey&&b.endpoint===D.endpoint&&b.auth===D.auth&&b.p256dh===D.p256dh}function pn(D){const b={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function mc(D,b){if(!b.notification)return;D.notification={};const A=b.notification.title;A&&(D.notification.title=A);const k=b.notification.body;k&&(D.notification.body=k);const z=b.notification.image;z&&(D.notification.image=z);const te=b.notification.icon;te&&(D.notification.icon=te)}(b,D),function Ce(D,b){!b.data||(D.data=b.data)}(b,D),function kt(D,b){var A,k,z,te,Ee;if(!(b.fcmOptions||null!==(A=b.notification)&&void 0!==A&&A.click_action))return;D.fcmOptions={};const $e=null!==(z=null===(k=b.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==z?z:null===(te=b.notification)||void 0===te?void 0:te.click_action;$e&&(D.fcmOptions.link=$e);const ze=null===(Ee=b.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;ze&&(D.fcmOptions.analyticsLabel=ze)}(b,D),b}function Al(D){return"object"==typeof D&&!!D&&ac in D}function _c(D,b){const A=[];for(let k=0;k<D.length;k++)A.push(D.charAt(k)),k<b.length&&A.push(b.charAt(k));return A.join("")}function Rs(D){return an.create("missing-app-config-values",{valueName:D})}_c("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_c("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ba{constructor(b,A,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function $n(D){if(!D||!D.options)throw Rs("App Configuration Object");if(!D.name)throw Rs("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:A}=D;for(const k of b)if(!A[k])throw Rs(k);return{appName:D.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:z,installations:A,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Rr(D){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,x.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Dl,{scope:Ei}),D.swRegistration.update().catch(()=>{})}catch(b){throw an.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function xs(D,b){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,x.Z)(function*(D,b){if(!b&&!D.swRegistration&&(yield Rr(D)),b||!D.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");D.swRegistration=b}})).apply(this,arguments)}function vc(D,b){return Os.apply(this,arguments)}function Os(){return(Os=(0,x.Z)(function*(D,b){b?D.vapidKey=b:D.vapidKey||(D.vapidKey=ns)})).apply(this,arguments)}function oi(){return(oi=(0,x.Z)(function*(D,b){if(!navigator)throw an.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw an.create("permission-blocked");return yield vc(D,b?.vapidKey),yield xs(D,b?.serviceWorkerRegistration),ya(D)})).apply(this,arguments)}function Ml(D,b,A){return Di.apply(this,arguments)}function Di(){return(Di=(0,x.Z)(function*(D,b,A){const k=xr(b);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:A[ac],message_name:A[_o],message_time:A[bl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xr(D){switch(D){case pa.NOTIFICATION_CLICKED:return"notification_open";case pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Rl(){return(Rl=(0,x.Z)(function*(D,b){const A=b.data;if(!A.isFirebaseMessaging)return;D.onMessageHandler&&A.messageType===pa.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(pn(A)):D.onMessageHandler.next(pn(A)));const k=A.data;Al(k)&&"1"===k[lc]&&(yield Ml(D,A.messageType,k))})).apply(this,arguments)}const xl="@firebase/messaging",yc=D=>{const b=new ba(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Bf(D,b){return Rl.apply(this,arguments)}(b,A)),b},as=D=>{const b=D.getProvider("messaging").getImmediate();return{getToken:k=>function rn(D,b){return oi.apply(this,arguments)}(b,k)}};function Ol(){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,x.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cc(){(0,ie._registerComponent)(new se.wA("messaging",yc,"PUBLIC")),(0,ie._registerComponent)(new se.wA("messaging-internal",as,"PRIVATE")),(0,ie.registerVersion)(xl,"0.12.0"),(0,ie.registerVersion)(xl,"0.12.0","esm2017")}();const Pl="analytics",gr="firebase_id",Ps="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nl="https://www.googletagmanager.com/gtag/js",Hn=new ce.Yd("@firebase/analytics");function Wd(D){return Promise.all(D.map(b=>b.catch(A=>A)))}function jf(D,b){const A=document.createElement("script");A.src=`${Nl}?l=${D}&id=${b}`,A.async=!0,document.head.appendChild(A)}function Vi(D,b,A,k,z,te){return Or.apply(this,arguments)}function Or(){return(Or=(0,x.Z)(function*(D,b,A,k,z,te){const Ee=k[z];try{if(Ee)yield b[Ee];else{const ze=(yield Wd(A)).find(Ge=>Ge.measurementId===z);ze&&(yield b[ze.appId])}}catch($e){Hn.error($e)}D("config",z,te)})).apply(this,arguments)}function Aa(D,b,A,k,z){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,x.Z)(function*(D,b,A,k,z){try{let te=[];if(z&&z.send_to){let Ee=z.send_to;Array.isArray(Ee)||(Ee=[Ee]);const $e=yield Wd(A);for(const ze of Ee){const Ge=$e.find(dt=>dt.measurementId===ze),at=Ge&&b[Ge.appId];if(!at){te=[];break}te.push(at)}}0===te.length&&(te=Object.values(b)),yield Promise.all(te),D("event",k,z||{})}catch(te){Hn.error(te)}})).apply(this,arguments)}function Ns(D){const b=window.document.getElementsByTagName("script");for(const A of Object.values(b))if(A.src&&A.src.includes(Nl)&&A.src.includes(D))return A;return null}const Pr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ll=new class ai{constructor(b={},A=1e3){this.throttleMetadata=b,this.intervalMillis=A}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,A){this.throttleMetadata[b]=A}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function bc(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Bi(D){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,x.Z)(function*(D){var b;const{appId:A,apiKey:k}=D,z={method:"GET",headers:bc(k)},te=Ps.replace("{app-id}",A),Ee=yield fetch(te,z);if(200!==Ee.status&&304!==Ee.status){let $e="";try{const ze=yield Ee.json();null!==(b=ze.error)&&void 0!==b&&b.message&&($e=ze.error.message)}catch{}throw Pr.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:$e})}return Ee.json()})).apply(this,arguments)}function Jt(D){return ks.apply(this,arguments)}function ks(){return(ks=(0,x.Z)(function*(D,b=Ll,A){const{appId:k,apiKey:z,measurementId:te}=D.options;if(!k)throw Pr.create("no-app-id");if(!z){if(te)return{measurementId:te,appId:k};throw Pr.create("no-api-key")}const Ee=b.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Ma;return setTimeout((0,x.Z)(function*(){$e.abort()}),void 0!==A?A:6e4),Fs({appId:k,apiKey:z,measurementId:te},Ee,$e,b)})).apply(this,arguments)}function Fs(D,b,A){return $i.apply(this,arguments)}function $i(){return($i=(0,x.Z)(function*(D,{throttleEndTimeMillis:b,backoffCount:A},k,z=Ll){var te;const{appId:Ee,measurementId:$e}=D;try{yield Sa(k,b)}catch(ze){if($e)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${ze?.message}]`),{appId:Ee,measurementId:$e};throw ze}try{const ze=yield Bi(D);return z.deleteThrottleMetadata(Ee),ze}catch(ze){const Ge=ze;if(!Ic(Ge)){if(z.deleteThrottleMetadata(Ee),$e)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${Ge?.message}]`),{appId:Ee,measurementId:$e};throw ze}const at=503===Number(null===(te=Ge?.customData)||void 0===te?void 0:te.httpStatus)?(0,re.$s)(A,z.intervalMillis,30):(0,re.$s)(A,z.intervalMillis),dt={throttleEndTimeMillis:Date.now()+at,backoffCount:A+1};return z.setThrottleMetadata(Ee,dt),Hn.debug(`Calling attemptFetch again in ${at} millis`),Fs(D,dt,k,z)}})).apply(this,arguments)}function Sa(D,b){return new Promise((A,k)=>{const z=Math.max(b-Date.now(),0),te=setTimeout(A,z);D.addEventListener(()=>{clearTimeout(te),k(Pr.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}function Ic(D){if(!(D instanceof re.ZR&&D.customData))return!1;const b=Number(D.customData.httpStatus);return 429===b||500===b||503===b||504===b}class Ma{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let Ra,us;function bi(){return(bi=(0,x.Z)(function*(D,b,A,k,z){if(z&&z.global)D("event",A,k);else{const te=yield b;D("event",A,Object.assign(Object.assign({},k),{send_to:te}))}})).apply(this,arguments)}function Mo(D){us=D}function Na(D){Ra=D}function Bl(){return wc.apply(this,arguments)}function wc(){return(wc=(0,x.Z)(function*(){if(!(0,re.hl)())return Hn.warn(Pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(D){return Hn.warn(Pr.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function $l(){return($l=(0,x.Z)(function*(D,b,A,k,z,te,Ee){var $e;const ze=Jt(D);ze.then(bn=>{A[bn.measurementId]=bn.appId,D.options.measurementId&&bn.measurementId!==D.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bn=>Hn.error(bn)),b.push(ze);const Ge=Bl().then(bn=>{if(bn)return k.getId()}),[at,dt]=yield Promise.all([ze,Ge]);Ns(te)||jf(te,at.measurementId),us&&(z("consent","default",us),Mo(void 0)),z("js",new Date);const gn=null!==($e=Ee?.config)&&void 0!==$e?$e:{};return gn.origin="firebase",gn.update=!0,null!=dt&&(gn[gr]=dt),z("config",at.measurementId,gn),Ra&&(z("set",Ra),Na(void 0)),at.measurementId})).apply(this,arguments)}class zd{constructor(b){this.app=b}_delete(){return delete Wr[this.app.options.appId],Promise.resolve()}}let Wr={},Hl=[];const Ro={};let ka,li,Zr="dataLayer",Nr=!1;function Wl(D,b,A){!function Gl(){const D=[];if((0,re.ru)()&&D.push("This is a browser extension environment."),(0,re.zI)()||D.push("Cookies are not available."),D.length>0){const b=D.map((k,z)=>`(${z+1}) ${k}`).join(" "),A=Pr.create("invalid-analytics-context",{errorInfo:b});Hn.warn(A.message)}}();const k=D.options.appId;if(!k)throw Pr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Pr.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wr[k])throw Pr.create("already-exists",{id:k});if(!Nr){!function Zd(D){let b=[];Array.isArray(window[D])?b=window[D]:window[D]=b}(Zr);const{wrappedGtag:te,gtagCore:Ee}=function Dc(D,b,A,k,z){let te=function(...Ee){window[k].push(arguments)};return window[z]&&"function"==typeof window[z]&&(te=window[z]),window[z]=function kl(D,b,A,k){function te(){return(te=(0,x.Z)(function*(Ee,$e,ze){try{"event"===Ee?yield Aa(D,b,A,$e,ze):"config"===Ee?yield Vi(D,b,A,k,$e,ze):"consent"===Ee?D("consent","update",ze):D("set",$e)}catch(Ge){Hn.error(Ge)}})).apply(this,arguments)}return function z(Ee,$e,ze){return te.apply(this,arguments)}}(te,D,b,A),{gtagCore:te,wrappedGtag:window[z]}}(Wr,Hl,Ro,Zr,"gtag");li=te,ka=Ee,Nr=!0}return Wr[k]=function Ii(D,b,A,k,z,te,Ee){return $l.apply(this,arguments)}(D,Hl,Ro,b,ka,Zr,A),new zd(D)}function Ac(){return ji.apply(this,arguments)}function ji(){return(ji=(0,x.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const jt="@firebase/analytics";!function Mc(){(0,ie._registerComponent)(new se.wA(Pl,(b,{options:A})=>Wl(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ie._registerComponent)(new se.wA("analytics-internal",function D(b){try{const A=b.getProvider(Pl).getImmediate();return{logEvent:(k,z,te)=>function Qd(D,b,A,k){D=(0,re.m9)(D),function Ls(D,b,A,k,z){return bi.apply(this,arguments)}(li,Wr[D.app.options.appId],b,A,k).catch(z=>Hn.error(z))}(A,k,z,te)}}catch(A){throw Pr.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ie.registerVersion)(jt,"0.9.0"),(0,ie.registerVersion)(jt,"0.9.0","esm2017")}();var zl=O(4408),Jd=O(7565);const xc=new class Rc extends Jd.v{}(class $g extends zl.o{constructor(b,A){super(b,A),this.scheduler=b,this.work=A}schedule(b,A=0){return A>0?super.schedule(b,A):(this.delay=A,this.state=b,this.scheduler.flush(this),this)}execute(b,A){return A>0||this.closed?super.execute(b,A):this._execute(b,A)}requestAsyncId(b,A,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(b,A,k):(b.flush(this),0)}});var Xd=O(4986),Yl=O(8505),Kt=O(9468),La=O(5363);const Oo=new a.GfV("7.5.0"),Oc="__angularfire_symbol__analyticsIsSupportedValue",mr="__angularfire_symbol__analyticsIsSupported",ui="__angularfire_symbol__remoteConfigIsSupportedValue",Ua="__angularfire_symbol__remoteConfigIsSupported",Po="__angularfire_symbol__messagingIsSupportedValue",Bs="__angularfire_symbol__messagingIsSupported";function St(D,b,A){if(b){if(1===b.length)return b[0];const te=b.filter(Ee=>Ee.app===A);if(1===te.length)return te[0]}return A.container.getProvider(D).getImmediate({optional:!0})}globalThis[mr]||(globalThis[mr]=Ac().then(D=>globalThis[Oc]=D).catch(()=>globalThis[Oc]=!1)),globalThis[Bs]||(globalThis[Bs]=Ol().then(D=>globalThis[Po]=D).catch(()=>globalThis[Po]=!1)),globalThis[Ua]||(globalThis[Ua]=mo().then(D=>globalThis[ui]=D).catch(()=>globalThis[ui]=!1));const _r=(D,b)=>{const A=b?[b]:(0,K.C6)(),k=[];return A.forEach(z=>{z.container.getProvider(D).instances.forEach(Ee=>{k.includes(Ee)||k.push(Ee)})}),k};function zr(){}class No{constructor(b,A=xc){this.zone=b,this.delegate=A}now(){return this.delegate.now()}schedule(b,A,k){const z=this.zone;return this.delegate.schedule(function(Ee){z.runGuarded(()=>{b.apply(this,[Ee])})},A,k)}}class Nc{constructor(b){this.zone=b,this.task=null}call(b,A){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zr,{},zr,zr)),A.pipe((0,Yl.b)({next:k,complete:k,error:k})).subscribe(b).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eh=(()=>{class D{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new No(Zone.current)),this.insideAngular=A.run(()=>new No(Zone.current,Xd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(A){return new(A||D)(a.LFG(a.R0b))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function ci(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ze(D){return ci(),function ko(D){return function(A){return(A=A.lift(new Nc(D.ngZone))).pipe((0,Kt.R)(D.outsideAngular),(0,La.Q)(D.insideAngular))}}(ci())(D)}},2090:(qe,me,O)=>{O.d(me,{$s:()=>Be,BH:()=>Wt,DV:()=>Ar,Dv:()=>en,GJ:()=>Qi,L:()=>ae,LL:()=>Lt,Pz:()=>Ut,Sg:()=>_t,UG:()=>Fe,UI:()=>Ni,US:()=>se,Wj:()=>Un,Wl:()=>qt,Yr:()=>pe,ZB:()=>B,ZR:()=>Qe,aH:()=>Ye,b$:()=>ye,cI:()=>Je,dS:()=>Vt,eu:()=>Ae,g5:()=>x,gK:()=>Qt,gQ:()=>Zn,h$:()=>ce,hl:()=>Oe,hu:()=>K,jU:()=>We,lb:()=>Ds,m9:()=>vt,ne:()=>ki,p$:()=>V,pd:()=>Xt,r3:()=>Pi,ru:()=>ue,tV:()=>oe,uI:()=>ve,ug:()=>ei,vZ:()=>Zt,w1:()=>Te,w9:()=>Wn,xO:()=>yi,xb:()=>rr,z$:()=>Me,zI:()=>U,zd:()=>Vr});const K=function($,L){if(!$)throw x(L)},x=function($){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$)},ie=function($){const L=[];let Z=0;for(let de=0;de<$.length;de++){let J=$.charCodeAt(de);J<128?L[Z++]=J:J<2048?(L[Z++]=J>>6|192,L[Z++]=63&J|128):55296==(64512&J)&&de+1<$.length&&56320==(64512&$.charCodeAt(de+1))?(J=65536+((1023&J)<<10)+(1023&$.charCodeAt(++de)),L[Z++]=J>>18|240,L[Z++]=J>>12&63|128,L[Z++]=J>>6&63|128,L[Z++]=63&J|128):(L[Z++]=J>>12|224,L[Z++]=J>>6&63|128,L[Z++]=63&J|128)}return L},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,L){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let J=0;J<$.length;J+=3){const He=$[J],yt=J+1<$.length,At=yt?$[J+1]:0,tn=J+2<$.length,nt=tn?$[J+2]:0;let wn=(15&At)<<2|nt>>6,bs=63&nt;tn||(bs=64,yt||(wn=64)),de.push(Z[He>>2],Z[(3&He)<<4|At>>4],Z[wn],Z[bs])}return de.join("")},encodeString($,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa($):this.encodeByteArray(ie($),L)},decodeString($,L){return this.HAS_NATIVE_SUPPORT&&!L?atob($):function($){const L=[];let Z=0,de=0;for(;Z<$.length;){const J=$[Z++];if(J<128)L[de++]=String.fromCharCode(J);else if(J>191&&J<224){const He=$[Z++];L[de++]=String.fromCharCode((31&J)<<6|63&He)}else if(J>239&&J<365){const tn=((7&J)<<18|(63&$[Z++])<<12|(63&$[Z++])<<6|63&$[Z++])-65536;L[de++]=String.fromCharCode(55296+(tn>>10)),L[de++]=String.fromCharCode(56320+(1023&tn))}else{const He=$[Z++],yt=$[Z++];L[de++]=String.fromCharCode((15&J)<<12|(63&He)<<6|63&yt)}}return L.join("")}(this.decodeStringToByteArray($,L))},decodeStringToByteArray($,L){this.init_();const Z=L?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let J=0;J<$.length;){const He=Z[$.charAt(J++)],At=J<$.length?Z[$.charAt(J)]:0;++J;const nt=J<$.length?Z[$.charAt(J)]:64;++J;const It=J<$.length?Z[$.charAt(J)]:64;if(++J,null==He||null==At||null==nt||null==It)throw Error();de.push(He<<2|At>>4),64!==nt&&(de.push(At<<4&240|nt>>2),64!==It&&de.push(nt<<6&192|It))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},ce=function($){const L=ie($);return se.encodeByteArray(L,!0)},ae=function($){return ce($).replace(/\./g,"")},oe=function($){try{return se.decodeString($,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function V($){return B(void 0,$)}function B($,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return L}for(const Z in L)!L.hasOwnProperty(Z)||!q(Z)||($[Z]=B($[Z],L[Z]));return $}function q($){return"__proto__"!==$}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function Fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function ue(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Te(){const $=Me();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function pe(){return!1}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise(($,L)=>{try{let Z=!0;const de="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(de);J.onsuccess=()=>{J.result.close(),Z||self.indexedDB.deleteDatabase(de),$(!0)},J.onupgradeneeded=()=>{Z=!1},J.onerror=()=>{var He;L((null===(He=J.error)||void 0===He?void 0:He.message)||"")}}catch(Z){L(Z)}})}function U(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ee=()=>{try{return function fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=$&&oe($[1]);return L&&JSON.parse(L)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Ye=()=>{var $;return null===($=ee())||void 0===$?void 0:$.config},Ut=$=>{var L;return null===(L=ee())||void 0===L?void 0:L[`_${$}`]};class Wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,Z)=>{this.resolve=L,this.reject=Z})}wrapCallback(L){return(Z,de)=>{Z?this.reject(Z):this.resolve(de),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(Z):L(Z,de))}}}function _t($,L){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=L||"demo-project",J=$.iat||0,He=$.sub||$.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:J,exp:J+3600,auth_time:J,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(yt)),""].join(".")}class Qe extends Error{constructor(L,Z,de){super(Z),this.code=L,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(L,Z,de){this.service=L,this.serviceName=Z,this.errors=de}create(L,...Z){const de=Z[0]||{},J=`${this.service}/${L}`,He=this.errors[L],yt=He?function Gn($,L){return $.replace(tr,(Z,de)=>{const J=L[de];return null!=J?String(J):`<${de}?>`})}(He,de):"Error";return new Qe(J,`${this.serviceName}: ${yt} (${J}).`,de)}}const tr=/\{\$([^}]+)}/g;function Je($){return JSON.parse($)}function qt($){return JSON.stringify($)}const Tr=function($){let L={},Z={},de={},J="";try{const He=$.split(".");L=Je(oe(He[0])||""),Z=Je(oe(He[1])||""),J=He[2],de=Z.d||{},delete Z.d}catch{}return{header:L,claims:Z,data:de,signature:J}},Wn=function($){const Z=Tr($).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},Qi=function($){const L=Tr($).claims;return"object"==typeof L&&!0===L.admin};function Pi($,L){return Object.prototype.hasOwnProperty.call($,L)}function Ar($,L){if(Object.prototype.hasOwnProperty.call($,L))return $[L]}function rr($){for(const L in $)if(Object.prototype.hasOwnProperty.call($,L))return!1;return!0}function Ni($,L,Z){const de={};for(const J in $)Object.prototype.hasOwnProperty.call($,J)&&(de[J]=L.call(Z,$[J],J,$));return de}function Zt($,L){if($===L)return!0;const Z=Object.keys($),de=Object.keys(L);for(const J of Z){if(!de.includes(J))return!1;const He=$[J],yt=L[J];if(dr(He)&&dr(yt)){if(!Zt(He,yt))return!1}else if(He!==yt)return!1}for(const J of de)if(!Z.includes(J))return!1;return!0}function dr($){return null!==$&&"object"==typeof $}function yi($){const L=[];for(const[Z,de]of Object.entries($))Array.isArray(de)?de.forEach(J=>{L.push(encodeURIComponent(Z)+"="+encodeURIComponent(J))}):L.push(encodeURIComponent(Z)+"="+encodeURIComponent(de));return L.length?"&"+L.join("&"):""}function Vr($){const L={};return $.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[J,He]=de.split("=");L[decodeURIComponent(J)]=decodeURIComponent(He)}}),L}function Xt($){const L=$.indexOf("?");if(!L)return"";const Z=$.indexOf("#",L);return $.substring(L,Z>0?Z:void 0)}class Zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,Z){Z||(Z=0);const de=this.W_;if("string"==typeof L)for(let It=0;It<16;It++)de[It]=L.charCodeAt(Z)<<24|L.charCodeAt(Z+1)<<16|L.charCodeAt(Z+2)<<8|L.charCodeAt(Z+3),Z+=4;else for(let It=0;It<16;It++)de[It]=L[Z]<<24|L[Z+1]<<16|L[Z+2]<<8|L[Z+3],Z+=4;for(let It=16;It<80;It++){const wn=de[It-3]^de[It-8]^de[It-14]^de[It-16];de[It]=4294967295&(wn<<1|wn>>>31)}let nt,Mn,J=this.chain_[0],He=this.chain_[1],yt=this.chain_[2],At=this.chain_[3],tn=this.chain_[4];for(let It=0;It<80;It++){It<40?It<20?(nt=At^He&(yt^At),Mn=1518500249):(nt=He^yt^At,Mn=1859775393):It<60?(nt=He&yt|At&(He|yt),Mn=2400959708):(nt=He^yt^At,Mn=3395469782);const wn=(J<<5|J>>>27)+nt+tn+Mn+de[It]&4294967295;tn=At,At=yt,yt=4294967295&(He<<30|He>>>2),He=J,J=wn}this.chain_[0]=this.chain_[0]+J&4294967295,this.chain_[1]=this.chain_[1]+He&4294967295,this.chain_[2]=this.chain_[2]+yt&4294967295,this.chain_[3]=this.chain_[3]+At&4294967295,this.chain_[4]=this.chain_[4]+tn&4294967295}update(L,Z){if(null==L)return;void 0===Z&&(Z=L.length);const de=Z-this.blockSize;let J=0;const He=this.buf_;let yt=this.inbuf_;for(;J<Z;){if(0===yt)for(;J<=de;)this.compress_(L,J),J+=this.blockSize;if("string"==typeof L){for(;J<Z;)if(He[yt]=L.charCodeAt(J),++yt,++J,yt===this.blockSize){this.compress_(He),yt=0;break}}else for(;J<Z;)if(He[yt]=L[J],++yt,++J,yt===this.blockSize){this.compress_(He),yt=0;break}}this.inbuf_=yt,this.total_+=Z}digest(){const L=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let J=this.blockSize-1;J>=56;J--)this.buf_[J]=255&Z,Z/=256;this.compress_(this.buf_);let de=0;for(let J=0;J<5;J++)for(let He=24;He>=0;He-=8)L[de]=this.chain_[J]>>He&255,++de;return L}}function ki($,L){const Z=new ht($,L);return Z.subscribe.bind(Z)}class ht{constructor(L,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{L(this)}).catch(de=>{this.error(de)})}next(L){this.forEachObserver(Z=>{Z.next(L)})}error(L){this.forEachObserver(Z=>{Z.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,Z,de){let J;if(void 0===L&&void 0===Z&&void 0===de)throw new Error("Missing Observer.");J=function it($,L){if("object"!=typeof $||null===$)return!1;for(const Z of L)if(Z in $&&"function"==typeof $[Z])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:Z,complete:de},void 0===J.next&&(J.next=Ci),void 0===J.error&&(J.error=Ci),void 0===J.complete&&(J.complete=Ci);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),He}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,L)}sendOne(L,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{Z(this.observers[L])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ci(){}const en=function($,L,Z,de){let J;if(de<L?J="at least "+L:de>Z&&(J=0===Z?"none":"no more than "+Z),J)throw new Error($+" failed: Was called with "+de+(1===de?" argument.":" arguments.")+" Expects "+J+".")};function Qt($,L){return`${$} failed: ${L} argument `}function Un($,L,Z,de){if((!de||Z)&&"function"!=typeof Z)throw new Error(Qt($,L)+"must be a valid function.")}function Ds($,L,Z,de){if((!de||Z)&&("object"!=typeof Z||null===Z))throw new Error(Qt($,L)+"must be a valid context object.")}const Vt=function($){const L=[];let Z=0;for(let de=0;de<$.length;de++){let J=$.charCodeAt(de);if(J>=55296&&J<=56319){const He=J-55296;de++,K(de<$.length,"Surrogate pair missing trail surrogate."),J=65536+(He<<10)+($.charCodeAt(de)-56320)}J<128?L[Z++]=J:J<2048?(L[Z++]=J>>6|192,L[Z++]=63&J|128):J<65536?(L[Z++]=J>>12|224,L[Z++]=J>>6&63|128,L[Z++]=63&J|128):(L[Z++]=J>>18|240,L[Z++]=J>>12&63|128,L[Z++]=J>>6&63|128,L[Z++]=63&J|128)}return L},ei=function($){let L=0;for(let Z=0;Z<$.length;Z++){const de=$.charCodeAt(Z);de<128?L++:de<2048?L+=2:de>=55296&&de<=56319?(L+=4,Z++):L+=3}return L};function Be($,L=1e3,Z=2){const de=L*Math.pow(Z,$),J=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+J)}function vt($){return $&&$._delegate?$._delegate:$}},1150:(qe,me,O)=>{var a=O(4650);let K=null;function x(){return K}class re{}const se=new a.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ae(){return(0,a.LFG)(V)}()},providedIn:"platform"}),n})();const oe=new a.OlP("Location Initialized");let V=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,l){B()?this._history.pushState(e,i,l):this.location.hash=l}replaceState(e,i,l){B()?this._history.replaceState(e,i,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function q(){return new V((0,a.LFG)(se))}()},providedIn:"platform"}),n})();function B(){return!!window.history.pushState}function Me(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ve(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let We=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(ye)},providedIn:"root"}),n})();const ue=new a.OlP("appBaseHref");let ye=(()=>{class n extends We{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Me(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Fe(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${i}${l}`:i}pushState(e,i,l,d){const g=this.prepareExternalUrl(l+Fe(d));this._platformLocation.pushState(e,i,g)}replaceState(e,i,l,d){const g=this.prepareExternalUrl(l+Fe(d));this._platformLocation.replaceState(e,i,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ce),a.LFG(ue,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_e=(()=>{class n extends We{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Me(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,l,d){let g=this.prepareExternalUrl(l+Fe(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,i,g)}replaceState(e,i,l,d){let g=this.prepareExternalUrl(l+Fe(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ce),a.LFG(ue,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Oe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(ve(be(i))),this._locationStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Fe(i))}normalize(e){return n.stripTrailingSlash(function pe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._basePath,be(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",l=null){this._locationStrategy.pushState(l,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(i)),l)}replaceState(e,i="",l=null){this._locationStrategy.replaceState(l,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(i)),l)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(l=>l(e,i))}subscribe(e,i,l){return this._subject.subscribe({next:e,error:i,complete:l})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Me,n.stripTrailingSlash=ve,n.\u0275fac=function(e){return new(e||n)(a.LFG(We))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function De(){return new Te((0,a.LFG)(We))}()},providedIn:"root"}),n})();function be(n){return n.replace(/\/index.html$/,"")}const Ae={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Percent=1]="Percent",U[U.Currency=2]="Currency",U[U.Scientific=3]="Scientific",U))(),W=(()=>((W=W||{})[W.Format=0]="Format",W[W.Standalone=1]="Standalone",W))(),Y=(()=>((Y=Y||{})[Y.Narrow=0]="Narrow",Y[Y.Abbreviated=1]="Abbreviated",Y[Y.Wide=2]="Wide",Y[Y.Short=3]="Short",Y))(),ne=(()=>((ne=ne||{})[ne.Short=0]="Short",ne[ne.Medium=1]="Medium",ne[ne.Long=2]="Long",ne[ne.Full=3]="Full",ne))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function Lt(n,t){return Zt((0,a.cg1)(n)[a.wAp.DateFormat],t)}function Gn(n,t){return Zt((0,a.cg1)(n)[a.wAp.TimeFormat],t)}function tr(n,t){return Zt((0,a.cg1)(n)[a.wAp.DateTimeFormat],t)}function Je(n,t){const e=(0,a.cg1)(n),i=e[a.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ee.CurrencyDecimal)return e[a.wAp.NumberSymbols][ee.Decimal];if(t===ee.CurrencyGroup)return e[a.wAp.NumberSymbols][ee.Group]}return i}function qt(n,t){return(0,a.cg1)(n)[a.wAp.NumberFormats][t]}function Pi(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Zt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function dr(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Xt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zn={},ki=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ht=(()=>((ht=ht||{})[ht.Short=0]="Short",ht[ht.ShortGMT=1]="ShortGMT",ht[ht.Long=2]="Long",ht[ht.Extended=3]="Extended",ht))(),et=(()=>((et=et||{})[et.FullYear=0]="FullYear",et[et.Month=1]="Month",et[et.Date=2]="Date",et[et.Hours=3]="Hours",et[et.Minutes=4]="Minutes",et[et.Seconds=5]="Seconds",et[et.FractionalSeconds=6]="FractionalSeconds",et[et.Day=7]="Day",et))(),it=(()=>((it=it||{})[it.DayPeriods=0]="DayPeriods",it[it.Days=1]="Days",it[it.Months=2]="Months",it[it.Eras=3]="Eras",it))();function Ci(n,t,e,i){let l=function He(n){if(At(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[l,d=1,g=1]=n.split("-").map(C=>+C);return en(l,d-1,g)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Xt))return function yt(n){const t=new Date(0);let e=0,i=0;const l=n[8]?t.setUTCFullYear:t.setFullYear,d=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),l.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const g=Number(n[4]||0)-e,C=Number(n[5]||0)-i,I=Number(n[6]||0),M=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return d.call(t,g,C,I,M),t}(i)}const t=new Date(n);if(!At(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Qt(e,t)||t;let C,g=[];for(;t;){if(C=ki.exec(t),!C){g.push(t);break}{g=g.concat(C.slice(1));const F=g.pop();if(!F)break;t=F}}let I=l.getTimezoneOffset();i&&(I=Z(i,I),l=function J(n,t,e){const i=e?-1:1,l=n.getTimezoneOffset();return function de(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Z(t,l)-l))}(l,i,!0));let M="";return g.forEach(F=>{const H=function L(n){if($[n])return $[n];let t;switch(n){case"G":case"GG":case"GGG":t=Pt(it.Eras,Y.Abbreviated);break;case"GGGG":t=Pt(it.Eras,Y.Wide);break;case"GGGGG":t=Pt(it.Eras,Y.Narrow);break;case"y":t=Vt(et.FullYear,1,0,!1,!0);break;case"yy":t=Vt(et.FullYear,2,0,!0,!0);break;case"yyy":t=Vt(et.FullYear,3,0,!1,!0);break;case"yyyy":t=Vt(et.FullYear,4,0,!1,!0);break;case"Y":t=vt(1);break;case"YY":t=vt(2,!0);break;case"YYY":t=vt(3);break;case"YYYY":t=vt(4);break;case"M":case"L":t=Vt(et.Month,1,1);break;case"MM":case"LL":t=Vt(et.Month,2,1);break;case"MMM":t=Pt(it.Months,Y.Abbreviated);break;case"MMMM":t=Pt(it.Months,Y.Wide);break;case"MMMMM":t=Pt(it.Months,Y.Narrow);break;case"LLL":t=Pt(it.Months,Y.Abbreviated,W.Standalone);break;case"LLLL":t=Pt(it.Months,Y.Wide,W.Standalone);break;case"LLLLL":t=Pt(it.Months,Y.Narrow,W.Standalone);break;case"w":t=ct(1);break;case"ww":t=ct(2);break;case"W":t=ct(1,!0);break;case"d":t=Vt(et.Date,1);break;case"dd":t=Vt(et.Date,2);break;case"c":case"cc":t=Vt(et.Day,1);break;case"ccc":t=Pt(it.Days,Y.Abbreviated,W.Standalone);break;case"cccc":t=Pt(it.Days,Y.Wide,W.Standalone);break;case"ccccc":t=Pt(it.Days,Y.Narrow,W.Standalone);break;case"cccccc":t=Pt(it.Days,Y.Short,W.Standalone);break;case"E":case"EE":case"EEE":t=Pt(it.Days,Y.Abbreviated);break;case"EEEE":t=Pt(it.Days,Y.Wide);break;case"EEEEE":t=Pt(it.Days,Y.Narrow);break;case"EEEEEE":t=Pt(it.Days,Y.Short);break;case"a":case"aa":case"aaa":t=Pt(it.DayPeriods,Y.Abbreviated);break;case"aaaa":t=Pt(it.DayPeriods,Y.Wide);break;case"aaaaa":t=Pt(it.DayPeriods,Y.Narrow);break;case"b":case"bb":case"bbb":t=Pt(it.DayPeriods,Y.Abbreviated,W.Standalone,!0);break;case"bbbb":t=Pt(it.DayPeriods,Y.Wide,W.Standalone,!0);break;case"bbbbb":t=Pt(it.DayPeriods,Y.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":t=Pt(it.DayPeriods,Y.Abbreviated,W.Format,!0);break;case"BBBB":t=Pt(it.DayPeriods,Y.Wide,W.Format,!0);break;case"BBBBB":t=Pt(it.DayPeriods,Y.Narrow,W.Format,!0);break;case"h":t=Vt(et.Hours,1,-12);break;case"hh":t=Vt(et.Hours,2,-12);break;case"H":t=Vt(et.Hours,1);break;case"HH":t=Vt(et.Hours,2);break;case"m":t=Vt(et.Minutes,1);break;case"mm":t=Vt(et.Minutes,2);break;case"s":t=Vt(et.Seconds,1);break;case"ss":t=Vt(et.Seconds,2);break;case"S":t=Vt(et.FractionalSeconds,1);break;case"SS":t=Vt(et.FractionalSeconds,2);break;case"SSS":t=Vt(et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ti(ht.Short);break;case"ZZZZZ":t=ti(ht.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ti(ht.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ti(ht.Long);break;default:return null}return $[n]=t,t}(F);M+=H?H(l,e,I):"''"===F?"'":F.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),M}function en(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Qt(n,t){const e=function Se(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(Zn[e]=Zn[e]||{},Zn[e][t])return Zn[e][t];let i="";switch(t){case"shortDate":i=Lt(n,ne.Short);break;case"mediumDate":i=Lt(n,ne.Medium);break;case"longDate":i=Lt(n,ne.Long);break;case"fullDate":i=Lt(n,ne.Full);break;case"shortTime":i=Gn(n,ne.Short);break;case"mediumTime":i=Gn(n,ne.Medium);break;case"longTime":i=Gn(n,ne.Long);break;case"fullTime":i=Gn(n,ne.Full);break;case"short":const l=Qt(n,"shortTime"),d=Qt(n,"shortDate");i=Br(tr(n,ne.Short),[l,d]);break;case"medium":const g=Qt(n,"mediumTime"),C=Qt(n,"mediumDate");i=Br(tr(n,ne.Medium),[g,C]);break;case"long":const I=Qt(n,"longTime"),M=Qt(n,"longDate");i=Br(tr(n,ne.Long),[I,M]);break;case"full":const F=Qt(n,"fullTime"),H=Qt(n,"fullDate");i=Br(tr(n,ne.Full),[F,H])}return i&&(Zn[e][t]=i),i}function Br(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Un(n,t,e="-",i,l){let d="";(n<0||l&&n<=0)&&(l?n=1-n:(n=-n,d=e));let g=String(n);for(;g.length<t;)g="0"+g;return i&&(g=g.slice(g.length-t)),d+g}function Vt(n,t,e=0,i=!1,l=!1){return function(d,g){let C=function ei(n,t){switch(n){case et.FullYear:return t.getFullYear();case et.Month:return t.getMonth();case et.Date:return t.getDate();case et.Hours:return t.getHours();case et.Minutes:return t.getMinutes();case et.Seconds:return t.getSeconds();case et.FractionalSeconds:return t.getMilliseconds();case et.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,d);if((e>0||C>-e)&&(C+=e),n===et.Hours)0===C&&-12===e&&(C=12);else if(n===et.FractionalSeconds)return function Ds(n,t){return Un(n,3).substring(0,t)}(C,t);const I=Je(g,ee.MinusSign);return Un(C,t,I,i,l)}}function Pt(n,t,e=W.Format,i=!1){return function(l,d){return function zn(n,t,e,i,l,d){switch(e){case it.Months:return function Wt(n,t,e){const i=(0,a.cg1)(n),d=Zt([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],t);return Zt(d,e)}(t,l,i)[n.getMonth()];case it.Days:return function Ut(n,t,e){const i=(0,a.cg1)(n),d=Zt([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],t);return Zt(d,e)}(t,l,i)[n.getDay()];case it.DayPeriods:const g=n.getHours(),C=n.getMinutes();if(d){const M=function Ar(n){const t=(0,a.cg1)(n);return Pi(t),(t[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?dr(i):[dr(i[0]),dr(i[1])])}(t),F=function rr(n,t,e){const i=(0,a.cg1)(n);Pi(i);const d=Zt([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],t)||[];return Zt(d,e)||[]}(t,l,i),H=M.findIndex(X=>{if(Array.isArray(X)){const[Ie,ke]=X,st=g>=Ie.hours&&C>=Ie.minutes,Et=g<ke.hours||g===ke.hours&&C<ke.minutes;if(Ie.hours<ke.hours){if(st&&Et)return!0}else if(st||Et)return!0}else if(X.hours===g&&X.minutes===C)return!0;return!1});if(-1!==H)return F[H]}return function Ye(n,t,e){const i=(0,a.cg1)(n),d=Zt([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],t);return Zt(d,e)}(t,l,i)[g<12?0:1];case it.Eras:return function _t(n,t){return Zt((0,a.cg1)(n)[a.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(l,d,n,t,e,i)}}function ti(n){return function(t,e,i){const l=-1*i,d=Je(e,ee.MinusSign),g=l>0?Math.floor(l/60):Math.ceil(l/60);switch(n){case ht.Short:return(l>=0?"+":"")+Un(g,2,d)+Un(Math.abs(l%60),2,d);case ht.ShortGMT:return"GMT"+(l>=0?"+":"")+Un(g,1,d);case ht.Long:return"GMT"+(l>=0?"+":"")+Un(g,2,d)+":"+Un(Math.abs(l%60),2,d);case ht.Extended:return 0===i?"Z":(l>=0?"+":"")+Un(g,2,d)+":"+Un(Math.abs(l%60),2,d);default:throw new Error(`Unknown zone width "${n}"`)}}}function ot(n){return en(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function ct(n,t=!1){return function(e,i){let l;if(t){const d=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,g=e.getDate();l=1+Math.floor((g+d)/7)}else{const d=ot(e),g=function Be(n){const t=en(n,0,1).getDay();return en(n,0,1+(t<=4?4:11)-t)}(d.getFullYear()),C=d.getTime()-g.getTime();l=1+Math.round(C/6048e5)}return Un(l,n,Je(i,ee.MinusSign))}}function vt(n,t=!1){return function(e,i){return Un(ot(e).getFullYear(),n,Je(i,ee.MinusSign),t)}}const $={};function Z(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function At(n){return n instanceof Date&&!isNaN(n.valueOf())}const tn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function co(n,t,e,i,l,d,g=!1){let C="",I=!1;if(isFinite(n)){let M=function Cl(n){let i,l,d,g,C,t=Math.abs(n)+"",e=0;for((l=t.indexOf("."))>-1&&(t=t.replace(".","")),(d=t.search(/e/i))>0?(l<0&&(l=d),l+=+t.slice(d+1),t=t.substring(0,d)):l<0&&(l=t.length),d=0;"0"===t.charAt(d);d++);if(d===(C=t.length))i=[0],l=1;else{for(C--;"0"===t.charAt(C);)C--;for(l-=d,i=[],g=0;d<=C;d++,g++)i[g]=Number(t.charAt(d))}return l>22&&(i=i.splice(0,21),e=l-1,l=1),{digits:i,exponent:e,integerLen:l}}(n);g&&(M=function sc(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(M));let F=t.minInt,H=t.minFrac,X=t.maxFrac;if(d){const En=d.match(tn);if(null===En)throw new Error(`${d} is not a valid digit info`);const Xr=En[1],Sn=En[3],lo=En[5];null!=Xr&&(F=fo(Xr)),null!=Sn&&(H=fo(Sn)),null!=lo?X=fo(lo):null!=Sn&&H>X&&(X=H)}!function ho(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,l=i.length-n.integerLen;const d=Math.min(Math.max(t,l),e);let g=d+n.integerLen,C=i[g];if(g>0){i.splice(Math.max(n.integerLen,g));for(let H=g;H<i.length;H++)i[H]=0}else{l=Math.max(0,l),n.integerLen=1,i.length=Math.max(1,g=d+1),i[0]=0;for(let H=1;H<g;H++)i[H]=0}if(C>=5)if(g-1<0){for(let H=0;H>g;H--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[g-1]++;for(;l<Math.max(0,d);l++)i.push(0);let I=0!==d;const M=t+n.integerLen,F=i.reduceRight(function(H,X,Ie,ke){return ke[Ie]=(X+=H)<10?X:X-10,I&&(0===ke[Ie]&&Ie>=M?ke.pop():I=!1),X>=10?1:0},0);F&&(i.unshift(F),n.integerLen++)}(M,H,X);let Ie=M.digits,ke=M.integerLen;const st=M.exponent;let Et=[];for(I=Ie.every(En=>!En);ke<F;ke++)Ie.unshift(0);for(;ke<0;ke++)Ie.unshift(0);ke>0?Et=Ie.splice(ke,Ie.length):(Et=Ie,Ie=[0]);const Cn=[];for(Ie.length>=t.lgSize&&Cn.unshift(Ie.splice(-t.lgSize,Ie.length).join(""));Ie.length>t.gSize;)Cn.unshift(Ie.splice(-t.gSize,Ie.length).join(""));Ie.length&&Cn.unshift(Ie.join("")),C=Cn.join(Je(e,i)),Et.length&&(C+=Je(e,l)+Et.join("")),st&&(C+=Je(e,ee.Exponential)+"+"+st)}else C=Je(e,ee.Infinity);return C=n<0&&!I?t.negPre+C+t.negSuf:t.posPre+C+t.posSuf,C}function nn(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),l=i[0],d=i[1],g=-1!==l.indexOf(".")?l.split("."):[l.substring(0,l.lastIndexOf("0")+1),l.substring(l.lastIndexOf("0")+1)],C=g[0],I=g[1]||"";e.posPre=C.substring(0,C.indexOf("#"));for(let F=0;F<I.length;F++){const H=I.charAt(F);"0"===H?e.minFrac=e.maxFrac=F+1:"#"===H?e.maxFrac=F+1:e.posSuf+=H}const M=C.split(",");if(e.gSize=M[1]?M[1].length:0,e.lgSize=M[2]||M[1]?(M[2]||M[1]).length:0,d){const F=l.length-e.posPre.length-e.posSuf.length,H=d.indexOf("#");e.negPre=d.substring(0,H).replace(/'/g,""),e.negSuf=d.slice(H+F).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function fo(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let $r=(()=>{class n{constructor(e,i,l,d){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=l,this._renderer=d,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(l=>{i?this._renderer.addClass(this._ngEl.nativeElement,l):this._renderer.removeClass(this._ngEl.nativeElement,l)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class hr{constructor(t,e,i,l){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let An=(()=>{class n{constructor(e,i,l){this._viewContainer=e,this._template=i,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((l,d,g)=>{if(null==l.previousIndex)i.createEmbeddedView(this._template,new hr(l.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)i.remove(null===d?void 0:d);else if(null!==d){const C=i.get(d);i.move(C,g),dn(C,l)}});for(let l=0,d=i.length;l<d;l++){const C=i.get(l).context;C.index=l,C.count=d,C.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{dn(i.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function dn(n,t){n.context.$implicit=t.item}let xt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Is,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ji("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ji("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Is{constructor(){this.$implicit=null,this.ngIf=null}}function Ji(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}let ii=(()=>{class n{constructor(e,i,l){this._ngEl=e,this._differs=i,this._renderer=l,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[l,d]=e.split("."),g=-1===l.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,l,d?`${i}${d}`:i,g):this._renderer.removeStyle(this._ngEl.nativeElement,l,g)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function hn(n,t){return new a.vHH(2100,!1)}class Ht{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Vf{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Mr=new Vf,oc=new Ht;let es=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.QGY)(e))return Mr;if((0,a.F4k)(e))return oc;throw hn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),po=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw hn();return e.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const Hr=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),go=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Qn=(()=>{class n{constructor(e,i,l){this.locale=e,this.defaultTimezone=i,this.defaultOptions=l}transform(e,i,l,d){if(null==e||""===e||e!=e)return null;try{return Ci(e,i??this.defaultOptions?.dateFormat??"mediumDate",d||this.locale,l??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(g){throw hn()}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.soG,16),a.Y36(Hr,24),a.Y36(go,24))},n.\u0275pipe=a.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Ts=(()=>{class n{constructor(e){this._locale=e}transform(e,i,l){if(!bl(e))return null;l=l||this._locale;try{return function ic(n,t,e){return co(n,nn(qt(t,U.Decimal),Je(t,ee.MinusSign)),t,ee.Group,ee.Decimal,e)}(lc(e),l,i)}catch(d){throw hn()}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.soG,16))},n.\u0275pipe=a.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})(),_o=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,l="symbol",d,g){if(!bl(e))return null;g=g||this._locale,"boolean"==typeof l&&(l=l?"symbol":"code");let C=i||this._defaultCurrencyCode;"code"!==l&&(C="symbol"===l||"symbol-narrow"===l?function Xe(n,t,e="en"){const i=function Wn(n){return(0,a.cg1)(n)[a.wAp.Currencies]}(e)[n]||Ae[n]||[],l=i[1];return"narrow"===t&&"string"==typeof l?l:i[0]||n}(C,"symbol"===l?"wide":"narrow",g):l);try{return function da(n,t,e,i,l){const g=nn(qt(t,U.Currency),Je(t,ee.MinusSign));return g.minFrac=function Vr(n){let t;const e=Ae[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),g.maxFrac=g.minFrac,co(n,g,t,ee.CurrencyGroup,ee.CurrencyDecimal,l).replace("\xa4",e).replace("\xa4","").trim()}(lc(e),g,C,i,d)}catch(I){throw hn()}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.soG,16),a.Y36(a.EJc,16))},n.\u0275pipe=a.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();function bl(n){return!(null==n||""===n||n!=n)}function lc(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let jr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();let Li=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new vo((0,a.LFG)(se),window)}),n})();class vo{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ga(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let l=i.currentNode;for(;l;){const d=l.shadowRoot;if(d){const g=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(g)return g}l=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(i-d[0],l-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=is(this.window.history)||is(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function is(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Zd extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Vi extends Zd{static makeCurrent(){!function ie(n){K||(K=n)}(new Vi)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Aa(){return Or=Or||document.querySelector("base"),Or?Or.getAttribute("href"):null}();return null==e?null:function kl(n){Gr=Gr||document.createElement("a"),Gr.setAttribute("href",n);const t=Gr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Or=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Yn(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[l,d]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(l.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let Gr,Or=null;const Dc=new a.OlP("TRANSITION_ID"),Ao=[{provide:a.ip1,useFactory:function Ns(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=x(),l=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<l.length;d++)i.remove(l[d])})}},deps:[Dc,se,a.zs3],multi:!0}];let Fl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const So=new a.OlP("EventManagerPlugins");let ai=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,l){return this._findPluginFor(i).addEventListener(e,i,l)}addGlobalEventListener(e,i,l){return this._findPluginFor(i).addGlobalEventListener(e,i,l)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const l=this._plugins;for(let d=0;d<l.length;d++){const g=l[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(So),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ll{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const l=x().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,i)}}let bc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),i.add(l))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Bi=(()=>{class n extends bc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,l){e.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,l.push(i.appendChild(g))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ul),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,l)=>{this._addStylesToHost(e,l,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ul))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Ul(n){x().remove(n)}const Jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ks=/%COMP%/g;function Ls(n,t){return t.flat(100).map(e=>e.replace(ks,n))}function bi(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Hi=(()=>{class n{constructor(e,i,l){this.eventManager=e,this.sharedStylesHost=i,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new ls(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let l=this.rendererByCompId.get(i.id);return l||(l=new Vl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,l)),l.applyToHost(e),l}case 1:case a.ifc.ShadowDom:return new Us(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const l=Ls(i.id,i.styles);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ai),a.LFG(Bi),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ls{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Jt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(ar(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(ar(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,l){if(l){e=l+":"+e;const d=Jt[l];d?t.setAttributeNS(d,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const l=Jt[i];l?t.removeAttributeNS(l,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,l){l&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,l&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,bi(i)):this.eventManager.addEventListener(t,e,bi(i))}}function ar(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Vl extends ls{constructor(t,e,i,l){super(t),this.component=i;const d=Ls(l+"-"+i.id,i.styles);e.addStyles(d),this.contentAttr=function Ma(n){return"_ngcontent-%COMP%".replace(ks,n)}(l+"-"+i.id),this.hostAttr=function Ra(n){return"_nghost-%COMP%".replace(ks,n)}(l+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Us extends ls{constructor(t,e,i,l){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Ls(l.id,l.styles);for(let g=0;g<d.length;g++){const C=document.createElement("style");C.textContent=d[g],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let us=(()=>{class n extends Ll{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,l){return e.addEventListener(i,l,!1),()=>this.removeEventListener(e,i,l)}removeEventListener(e,i,l){return e.removeEventListener(i,l)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Mo=["alt","control","meta","shift"],Na={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wc=(()=>{class n extends Ll{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,l){const d=n.parseEventName(i),g=n.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const i=e.toLowerCase().split("."),l=i.shift();if(0===i.length||"keydown"!==l&&"keyup"!==l)return null;const d=n._normalizeKey(i.pop());let g="",C=i.indexOf("code");if(C>-1&&(i.splice(C,1),g="code."),Mo.forEach(M=>{const F=i.indexOf(M);F>-1&&(i.splice(F,1),g+=M+".")}),g+=d,0!=i.length||0===d.length)return null;const I={};return I.domEventName=l,I.fullKey=g,I}static matchEventFullKeyCode(e,i){let l=Na[e.key]||e.key,d="";return i.indexOf("code.")>-1&&(l=e.code,d="code."),!(null==l||!l)&&(l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Mo.forEach(g=>{g!==l&&(0,Bl[g])(e)&&(d+=g+".")}),d+=l,d===i)}static eventCallback(e,i,l){return d=>{n.matchEventFullKeyCode(d,e)&&l.runGuarded(()=>i(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const li=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function Ro(){Vi.makeCurrent()},multi:!0},{provide:se,useFactory:function jl(){return(0,a.RDi)(document),document},deps:[]}]),Nr=new a.OlP(""),qd=[{provide:a.rWj,useClass:class Pr{addToWindow(t){a.dqk.getAngularTestability=(i,l=!0)=>{const d=t.findTestabilityInTree(i,l);if(null==d)throw new Error("Could not find testability for element.");return d},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const l=a.dqk.getAllAngularTestabilities();let d=l.length,g=!1;const C=function(I){g=g||I,d--,0==d&&i(g)};l.forEach(function(I){I.whenStable(C)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Gl=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Zr(){return new a.qLn},deps:[]},{provide:So,useClass:us,multi:!0,deps:[se,a.R0b,a.Lbi]},{provide:So,useClass:wc,multi:!0,deps:[se]},{provide:Hi,useClass:Hi,deps:[ai,Bi,a.AFp]},{provide:a.FYo,useExisting:Hi},{provide:bc,useExisting:Bi},{provide:Bi,useClass:Bi,deps:[se]},{provide:ai,useClass:ai,deps:[So,a.R0b]},{provide:class ss{},useClass:Fl,deps:[]},[]];let Wl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:Dc,useExisting:a.AFp},Ao]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Nr,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Gl,...qd],imports:[jr,a.hGG]}),n})(),Vs=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ji(){return new Vs((0,a.LFG)(se))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var St=O(8996),_r=O(9751);const{isArray:zr}=Array,{getPrototypeOf:No,prototype:Nc,keys:eh}=Object;function ci(n){if(1===n.length){const t=n[0];if(zr(t))return{args:t,keys:null};if(function Kl(n){return n&&"object"==typeof n&&No(n)===Nc}(t)){const e=eh(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var vr=O(8421),$s=O(7669),Dn=O(5403),Ze=O(4004);const{isArray:ko}=Array;function Fo(n){return(0,Ze.U)(t=>function Ql(n,t){return ko(t)?n(...t):n(t)}(n,t))}function D(n,t){return n.reduce((e,i,l)=>(e[i]=t[l],e),{})}let A=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),k=(()=>{class n extends A{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const z=new a.OlP("NgValueAccessor"),$e={provide:z,useExisting:(0,a.Gpc)(()=>at),multi:!0},Ge=new a.OlP("CompositionEventMode");let at=(()=>{class n extends A{constructor(e,i,l){super(e,i),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ze(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ge,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(d){return i._handleInput(d.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(d){return i._compositionEnd(d.target.value)})},features:[a._Bn([$e]),a.qOj]}),n})();function gn(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function bn(n){return null!=n&&"number"==typeof n.length}const mn=new a.OlP("NgValidators"),di=new a.OlP("NgAsyncValidators"),Hs=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bt{static min(t){return hi(t)}static max(t){return function Gi(n){return t=>{if(gn(t.value)||gn(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return th(t)}static requiredTrue(t){return function Gf(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function nh(n){return gn(n.value)||Hs.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function rh(n){return t=>gn(t.value)||!bn(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ih(n){return t=>bn(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Hg(n){if(!n)return Jl;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(gn(i.value))return null;const l=i.value;return t.test(l)?null:{pattern:{requiredPattern:e,actualValue:l}}}}(t)}static nullValidator(t){return null}static compose(t){return Zg(t)}static composeAsync(t){return zg(t)}}function hi(n){return t=>{if(gn(t.value)||gn(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function th(n){return gn(n.value)?{required:!0}:null}function Jl(n){return null}function Wf(n){return null!=n}function Lo(n){return(0,a.QGY)(n)?(0,St.D)(n):n}function jg(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Gg(n,t){return t.map(e=>e(n))}function Wg(n){return n.map(t=>function sh(n){return!n.validate}(t)?t:e=>t.validate(e))}function Zg(n){if(!n)return null;const t=n.filter(Wf);return 0==t.length?null:function(e){return jg(Gg(e,t))}}function Zf(n){return null!=n?Zg(Wg(n)):null}function zg(n){if(!n)return null;const t=n.filter(Wf);return 0==t.length?null:function(e){return function b(...n){const t=(0,$s.jO)(n),{args:e,keys:i}=ci(n),l=new _r.y(d=>{const{length:g}=e;if(!g)return void d.complete();const C=new Array(g);let I=g,M=g;for(let F=0;F<g;F++){let H=!1;(0,vr.Xf)(e[F]).subscribe((0,Dn.x)(d,X=>{H||(H=!0,M--),C[F]=X},()=>I--,void 0,()=>{(!I||!H)&&(M||d.next(i?D(i,C):C),d.complete())}))}});return t?l.pipe(Fo(t)):l}(Gg(e,t).map(Lo)).pipe((0,Ze.U)(jg))}}function zf(n){return null!=n?zg(Wg(n)):null}function kc(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function oh(n){return n._rawValidators}function Fc(n){return n._rawAsyncValidators}function Lc(n){return n?Array.isArray(n)?n:[n]:[]}function Xl(n,t){return Array.isArray(n)?n.includes(t):n===t}function ah(n,t){const e=Lc(t);return Lc(n).forEach(l=>{Xl(e,l)||e.push(l)}),e}function fi(n,t){return Lc(t).filter(e=>!Xl(n,e))}class qf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Zf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class yr extends qf{get formDirective(){return null}get path(){return null}}class js extends qf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lh{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uo=(()=>{class n extends lh{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(js,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),eu=(()=>{class n extends lh{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yr,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();const ru="VALID",Ws="INVALID",Zs="PENDING",iu="DISABLED";function cs(n){return(Ba(n)?n.validators:n)||null}function ch(n,t){return(Ba(t)?t.asyncValidators:n)||null}function Ba(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function dh(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")}function Vo(n,t,e){n._forEachChild((i,l)=>{if(void 0===e[l])throw new a.vHH(1002,"")})}class $a{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ru}get invalid(){return this.status===Ws}get pending(){return this.status==Zs}get disabled(){return this.status===iu}get enabled(){return this.status!==iu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ah(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ah(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fi(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fi(t,this._rawAsyncValidators))}hasValidator(t){return Xl(this._rawValidators,t)}hasAsyncValidator(t){return Xl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Zs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=iu,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ru,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ru||this.status===Zs)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?iu:ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator=!0;const e=Lo(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,l)=>i&&i._find(l),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?iu:this.errors?Ws:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(Ws)?Ws:ru}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ba(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Xg(n){return Array.isArray(n)?Zf(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function su(n){return Array.isArray(n)?zf(n):n||null}(this._rawAsyncValidators)}}class Ha extends $a{constructor(t,e,i){super(cs(e),ch(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Vo(this,0,t),Object.keys(t).forEach(i=>{dh(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const l=this.controls[i];l&&l.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,l)=>{i.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,l)=>((i.enabled||this.disabled)&&(e[l]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((l,d)=>{i=e(i,l,d)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Xf extends Ha{}const zs=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ja}),ja="always";function jc(n,t){return[...t.path,n]}function ou(n,t,e=ja){au(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function tm(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hh(n,t)})}(n,t),function Bo(n,t){const e=(i,l)=>{t.valueAccessor.writeValue(i),l&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function tp(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hh(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function ep(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function qs(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),lu(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ga(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function au(n,t){const e=oh(n);null!==t.validator?n.setValidators(kc(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Fc(n);null!==t.asyncValidator?n.setAsyncValidators(kc(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const l=()=>n.updateValueAndValidity();Ga(t._rawValidators,l),Ga(t._rawAsyncValidators,l)}function lu(n,t){let e=!1;if(null!==n){if(null!==t.validator){const l=oh(n);if(Array.isArray(l)&&l.length>0){const d=l.filter(g=>g!==t.validator);d.length!==l.length&&(e=!0,n.setValidators(d))}}if(null!==t.asyncValidator){const l=Fc(n);if(Array.isArray(l)&&l.length>0){const d=l.filter(g=>g!==t.asyncValidator);d.length!==l.length&&(e=!0,n.setAsyncValidators(d))}}}const i=()=>{};return Ga(t._rawValidators,i),Ga(t._rawAsyncValidators,i),e}function hh(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hu(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function za(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ho=class extends $a{constructor(t=null,e,i){super(cs(e),ch(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ba(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=za(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){hu(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){hu(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){za(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let ph=(()=>{class n extends yr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return jc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),jo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const vh={provide:z,useExisting:(0,a.Gpc)(()=>Ti),multi:!0};let Ti=(()=>{class n extends k{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(d){return i.onChange(d.target.value)})("blur",function(){return i.onTouched()})},features:[a._Bn([vh]),a.qOj]}),n})(),fu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Ch=new a.OlP("NgModelWithFormControlWarning"),h={provide:yr,useExisting:(0,a.Gpc)(()=>p)};let p=(()=>{class n extends yr{constructor(e,i,l){super(),this.callSetDisabledState=l,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return ou(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){qs(e.control||null,e,!1),function Wc(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function Za(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,l=this.form.get(e.path);i!==l&&(qs(i||null,e),(n=>n instanceof Ho)(l)&&(ou(l,e,this.callSetDisabledState),e.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function $o(n,t){au(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function np(n,t){return lu(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){au(this.form,this),this._oldForm&&lu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(mn,10),a.Y36(di,10),a.Y36(zs,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([h]),a.qOj,a.TTD]}),n})();const v={provide:yr,useExisting:(0,a.Gpc)(()=>T)};let T=(()=>{class n extends ph{constructor(e,i,l){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(l)}_checkParentType(){le(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yr,13),a.Y36(mn,10),a.Y36(di,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a._Bn([v]),a.qOj]}),n})();const R={provide:yr,useExisting:(0,a.Gpc)(()=>j)};let j=(()=>{class n extends yr{constructor(e,i,l){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(l)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return jc(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){le(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yr,13),a.Y36(mn,10),a.Y36(di,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a._Bn([R]),a.qOj]}),n})();function le(n){return!(n instanceof T||n instanceof p||n instanceof j)}const Ne={provide:js,useExisting:(0,a.Gpc)(()=>Ve)};let Ve=(()=>{class n extends js{constructor(e,i,l,d,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(l),this.valueAccessor=function cu(n,t){if(!t)return null;let e,i,l;return Array.isArray(t),t.forEach(d=>{d.constructor===at?e=d:function Gc(n){return Object.getPrototypeOf(n.constructor)===k}(d)?i=d:l=d}),l||i||e||null}(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function uu(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return jc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(yr,13),a.Y36(mn,10),a.Y36(di,10),a.Y36(z,10),a.Y36(Ch,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Ne]),a.qOj,a.TTD]}),n})();const lt={provide:z,useExisting:(0,a.Gpc)(()=>kr),multi:!0};function Ke(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let kr=(()=>{class n extends k{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const l=Ke(this._getOptionId(e),e);this.setProperty("value",l)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function On(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&a.NdJ("change",function(d){return i.onChange(d.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([lt]),a.qOj]}),n})(),Ya=(()=>{class n{constructor(e,i,l){this._element=e,this._renderer=i,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Ke(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(kr,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const lp={provide:z,useExisting:(0,a.Gpc)(()=>Qa),multi:!0};function Ka(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Qa=(()=>{class n extends k{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const l=e.map(d=>this._getOptionId(d));i=(d,g)=>{d._setSelected(l.indexOf(g.toString())>-1)}}else i=(l,d)=>{l._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const l=[],d=i.selectedOptions;if(void 0!==d){const g=d;for(let C=0;C<g.length;C++){const M=this._getOptionValue(g[C].value);l.push(M)}}else{const g=i.options;for(let C=0;C<g.length;C++){const I=g[C];if(I.selected){const M=this._getOptionValue(I.value);l.push(M)}}}this.value=l,e(l)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Wi(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&a.NdJ("change",function(d){return i.onChange(d.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([lp]),a.qOj]}),n})(),mu=(()=>{class n{constructor(e,i,l){this._element=e,this._renderer=i,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Ka(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Ka(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Qa,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Go=(()=>{class n{constructor(){this._validator=Jl}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Jl,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const Dh={provide:mn,useExisting:(0,a.Gpc)(()=>ny),multi:!0};let ny=(()=>{class n extends Go{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function Eh(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>hi(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[a._Bn([Dh]),a.qOj]}),n})();const NI={provide:mn,useExisting:(0,a.Gpc)(()=>bh),multi:!0};let bh=(()=>{class n extends Go{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=e=>th}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([NI]),a.qOj]}),n})(),om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fu]}),n})(),IE=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:zs,useValue:e.callSetDisabledState??ja}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[om]}),n})(),ly=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ch,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:zs,useValue:e.callSetDisabledState??ja}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[om]}),n})();class uy extends $a{constructor(t,e,i){super(cs(e),ch(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let l=this._adjustIndex(t);l<0&&(l=0),this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),this.controls.splice(l,1),e&&(this.controls.splice(l,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Vo(this,0,t),t.forEach((i,l)=>{dh(this,!1,l),this.at(l).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,l)=>{this.at(l)&&this.at(l).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,l)=>{i.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function TE(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let am=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const l=this._reduceControls(e);let d={};return TE(i)?d=i:null!==i&&(d.validators=i.validator,d.asyncValidators=i.asyncValidator),new Ha(l,d)}record(e,i=null){const l=this._reduceControls(e);return new Xf(l,i)}control(e,i,l){let d={};return this.useNonNullable?(TE(i)?d=i:(d.validators=i,d.asyncValidators=l),new Ho(e,{...d,nonNullable:!0})):new Ho(e,i,l)}array(e,i,l){const d=e.map(g=>this._createControl(g));return new uy(d,i,l)}_reduceControls(e){const i={};return Object.keys(e).forEach(l=>{i[l]=this._createControl(e[l])}),i}_createControl(e){return e instanceof Ho||e instanceof $a?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:ly}),n})();function tt(...n){const t=(0,$s.yG)(n);return(0,St.D)(n,t)}var Wo=O(7579);class Dr extends Wo.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const wh=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _u=O(4671),lm=O(9672);function ME(...n){const t=(0,$s.yG)(n),e=(0,$s.jO)(n),{args:i,keys:l}=ci(n);if(0===i.length)return(0,St.D)([],t);const d=new _r.y(function um(n,t,e=_u.y){return i=>{dy(t,()=>{const{length:l}=n,d=new Array(l);let g=l,C=l;for(let I=0;I<l;I++)dy(t,()=>{const M=(0,St.D)(n[I],t);let F=!1;M.subscribe((0,Dn.x)(i,H=>{d[I]=H,F||(F=!0,C--),C||i.next(e(d.slice()))},()=>{--g||i.complete()}))},i)},i)}}(i,t,l?g=>D(l,g):_u.y));return e?d.pipe(Fo(e)):d}function dy(n,t,e){n?(0,lm.f)(e,n,t):t()}var vu=O(8189);function dp(...n){return function hy(){return(0,vu.J)(1)}()((0,St.D)(n,(0,$s.yG)(n)))}function Xa(n){return new _r.y(t=>{(0,vr.Xf)(n()).subscribe(t)})}var RE=O(9635),Th=O(576);function el(n,t){const e=(0,Th.m)(n)?n:()=>n,i=l=>l.error(e());return new _r.y(t?l=>t.schedule(i,0,l):i)}var yu=O(515),hp=O(727),Jn=O(4482);function Zo(){return(0,Jn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Dn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const l=n._connection,d=e;e=null,l&&(!d||l===d)&&l.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class cm extends _r.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Jn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new hp.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Dn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=hp.w0.EMPTY)}return t}refCount(){return Zo()(this)}}function Nn(n,t){return(0,Jn.e)((e,i)=>{let l=null,d=0,g=!1;const C=()=>g&&!l&&i.complete();e.subscribe((0,Dn.x)(i,I=>{l?.unsubscribe();let M=0;const F=d++;(0,vr.Xf)(n(I,F)).subscribe(l=(0,Dn.x)(i,H=>i.next(t?t(I,H,F,M++):H),()=>{l=null,C()}))},()=>{g=!0,C()}))})}function Ah(n){return n<=0?()=>yu.E:(0,Jn.e)((t,e)=>{let i=0;t.subscribe((0,Dn.x)(e,l=>{++i<=n&&(e.next(l),n<=i&&e.complete())}))})}function Qs(n,t){return(0,Jn.e)((e,i)=>{let l=0;e.subscribe((0,Dn.x)(i,d=>n.call(t,d,l++)&&i.next(d)))})}var jn=O(5577);function fp(n){return(0,Jn.e)((t,e)=>{let i=!1;t.subscribe((0,Dn.x)(e,l=>{i=!0,e.next(l)},()=>{i||e.next(n),e.complete()}))})}function fy(n=OE){return(0,Jn.e)((t,e)=>{let i=!1;t.subscribe((0,Dn.x)(e,l=>{i=!0,e.next(l)},()=>i?e.complete():e.error(n())))})}function OE(){return new wh}function Zi(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Qs((l,d)=>n(l,d,i)):_u.y,Ah(1),e?fp(t):fy(()=>new wh))}function Cu(n,t){return(0,Th.m)(t)?(0,jn.z)(n,t,1):(0,jn.z)(n,1)}var br=O(8505);function tl(n){return(0,Jn.e)((t,e)=>{let d,i=null,l=!1;i=t.subscribe((0,Dn.x)(e,void 0,void 0,g=>{d=(0,vr.Xf)(n(g,tl(n)(t))),i?(i.unsubscribe(),i=null,d.subscribe(e)):l=!0})),l&&(i.unsubscribe(),i=null,d.subscribe(e))})}function py(n,t,e,i,l){return(d,g)=>{let C=e,I=t,M=0;d.subscribe((0,Dn.x)(g,F=>{const H=M++;I=C?n(I,F,H):(C=!0,F),i&&g.next(I)},l&&(()=>{C&&g.next(I),g.complete()})))}}function dm(n,t){return(0,Jn.e)(py(n,t,arguments.length>=2,!0))}function hm(n){return n<=0?()=>yu.E:(0,Jn.e)((t,e)=>{let i=[];t.subscribe((0,Dn.x)(e,l=>{i.push(l),n<i.length&&i.shift()},()=>{for(const l of i)e.next(l);e.complete()},void 0,()=>{i=null}))})}function qc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Qs((l,d)=>n(l,d,i)):_u.y,hm(1),e?fp(t):fy(()=>new wh))}function Eu(n){return(0,Jn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Mt="primary",Kc=Symbol("RouteTitle");class NE{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qc(n){return new NE(n)}function kE(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const l={};for(let d=0;d<i.length;d++){const g=i[d],C=n[d];if(g.startsWith(":"))l[g.substring(1)]=C;else if(g!==C.path)return null}return{consumed:n.slice(0,i.length),posParams:l}}function hs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let l;for(let d=0;d<e.length;d++)if(l=e[d],!pp(n[l],t[l]))return!1;return!0}function pp(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((l,d)=>i[d]===l)}return n===t}function gp(n){return Array.prototype.concat.apply([],n)}function my(n){return n.length>0?n[n.length-1]:null}function kn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function nl(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,St.D)(Promise.resolve(n)):tt(n)}const mp=!1,FE={exact:function yy(n,t,e){if(!rl(n.segments,t.segments)||!_p(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!yy(n.children[i],t.children[i],e))return!1;return!0},subset:Js},vy={exact:function LE(n,t){return hs(n,t)},subset:function Jc(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>pp(n[e],t[e]))},ignored:()=>!0};function fm(n,t,e){return FE[e.paths](n.root,t.root,e.matrixParams)&&vy[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Js(n,t,e){return Cy(n,t,t.segments,e)}function Cy(n,t,e,i){if(n.segments.length>e.length){const l=n.segments.slice(0,e.length);return!(!rl(l,e)||t.hasChildren()||!_p(l,e,i))}if(n.segments.length===e.length){if(!rl(n.segments,e)||!_p(n.segments,e,i))return!1;for(const l in t.children)if(!n.children[l]||!Js(n.children[l],t.children[l],i))return!1;return!0}{const l=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(rl(n.segments,l)&&_p(n.segments,l,i)&&n.children[Mt])&&Cy(n.children[Mt],t,d,i)}}function _p(n,t,e){return t.every((i,l)=>vy[e](n[l].parameters,i.parameters))}class Xc{constructor(t=new Ft([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return UE.serialize(this)}}class Ft{constructor(t,e){this.segments=t,this.children=e,this.parent=null,kn(e,(i,l)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yp(this)}}class ed{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qc(this.parameters)),this._parameterMap}toString(){return gm(this)}}function rl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Sh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new vp},providedIn:"root"}),n})();class vp{parse(t){const e=new GE(t);return new Xc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${qr(t.root,!0)}`,i=function $E(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(l=>`${Mh(e)}=${Mh(l)}`).join("&"):`${Mh(e)}=${Mh(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function VE(n){return encodeURI(n)}(t.fragment)}`:""}`}}const UE=new vp;function yp(n){return n.segments.map(t=>gm(t)).join("/")}function qr(n,t){if(!n.hasChildren())return yp(n);if(t){const e=n.children[Mt]?qr(n.children[Mt],!1):"",i=[];return kn(n.children,(l,d)=>{d!==Mt&&i.push(`${d}:${qr(l,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ey(n,t){let e=[];return kn(n.children,(i,l)=>{l===Mt&&(e=e.concat(t(i,l)))}),kn(n.children,(i,l)=>{l!==Mt&&(e=e.concat(t(i,l)))}),e}(n,(i,l)=>l===Mt?[qr(n.children[Mt],!1)]:[`${l}:${qr(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${yp(n)}/${e[0]}`:`${yp(n)}/(${e.join("//")})`}}function Dy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mh(n){return Dy(n).replace(/%3B/gi,";")}function pm(n){return Dy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cp(n){return decodeURIComponent(n)}function by(n){return Cp(n.replace(/\+/g,"%20"))}function gm(n){return`${pm(n.path)}${function BE(n){return Object.keys(n).map(t=>`;${pm(t)}=${pm(n[t])}`).join("")}(n.parameters)}`}const HE=/^[^\/()?;=#]+/;function mt(n){const t=n.match(HE);return t?t[0]:""}const Iy=/^[^=?&#]+/,Ty=/^[^&#]+/;class GE{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Mt]=new Ft(t,e)),i}parseSegment(){const t=mt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,mp);return this.capture(t),new ed(Cp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=mt(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=mt(this.remaining);l&&(i=l,this.capture(i))}t[Cp(e)]=Cp(i)}parseQueryParam(t){const e=function wy(n){const t=n.match(Iy);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const g=function jE(n){const t=n.match(Ty);return t?t[0]:""}(this.remaining);g&&(i=g,this.capture(i))}const l=by(e),d=by(i);if(t.hasOwnProperty(l)){let g=t[l];Array.isArray(g)||(g=[g],t[l]=g),g.push(d)}else t[l]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=mt(this.remaining),l=this.remaining[i.length];if("/"!==l&&")"!==l&&";"!==l)throw new a.vHH(4010,mp);let d;i.indexOf(":")>-1?(d=i.slice(0,i.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=Mt);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[Mt]:new Ft([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,mp)}}function Ep(n){return n.segments.length>0?new Ft([],{[Mt]:n}):n}function Dp(n){const t={};for(const i of Object.keys(n.children)){const d=Dp(n.children[i]);(d.segments.length>0||d.hasChildren())&&(t[i]=d)}return function Ay(n){if(1===n.numberOfChildren&&n.children[Mt]){const t=n.children[Mt];return new Ft(n.segments.concat(t.segments),t.children)}return n}(new Ft(n.segments,t))}function Du(n){return n instanceof Xc}function bu(n,t,e,i,l){if(0===e.length)return il(t.root,t.root,t.root,i,l);const d=function ZE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new WE(!0,0,n);let t=0,e=!1;const i=n.reduce((l,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const C={};return kn(d.outlets,(I,M)=>{C[M]="string"==typeof I?I.split("/"):I}),[...l,{outlets:C}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===g?(d.split("/").forEach((C,I)=>{0==I&&"."===C||(0==I&&""===C?e=!0:".."===C?t++:""!=C&&l.push(C))}),l):[...l,d]},[]);return new WE(e,t,i)}(e);return d.toRoot()?il(t.root,t.root,new Ft([],{}),i,l):function g(I){const M=function xy(n,t,e,i){if(n.isAbsolute)return new xh(t.root,!0,0);if(-1===i)return new xh(e,e===t.root,0);return function qE(n,t,e){let i=n,l=t,d=e;for(;d>l;){if(d-=l,i=i.parent,!i)throw new a.vHH(4005,!1);l=i.segments.length}return new xh(i,!1,l-d)}(e,i+(Rh(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,I),F=M.processChildren?Oh(M.segmentGroup,M.index,d.commands):sl(M.segmentGroup,M.index,d.commands);return il(t.root,M.segmentGroup,F,i,l)}(n.snapshot?._lastPathIndex)}function Rh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Iu(n){return"object"==typeof n&&null!=n&&n.outlets}function il(n,t,e,i,l){let g,d={};i&&kn(i,(I,M)=>{d[M]=Array.isArray(I)?I.map(F=>`${F}`):`${I}`}),g=n===t?e:Ry(n,t,e);const C=Ep(Dp(g));return new Xc(C,d,l)}function Ry(n,t,e){const i={};return kn(n.children,(l,d)=>{i[d]=l===t?e:Ry(l,t,e)}),new Ft(n.segments,i)}class WE{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Rh(i[0]))throw new a.vHH(4003,!1);const l=i.find(Iu);if(l&&l!==my(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function sl(n,t,e){if(n||(n=new Ft([],{})),0===n.segments.length&&n.hasChildren())return Oh(n,t,e);const i=function Oy(n,t,e){let i=0,l=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<n.segments.length;){if(i>=e.length)return d;const g=n.segments[l],C=e[i];if(Iu(C))break;const I=`${C}`,M=i<e.length-1?e[i+1]:null;if(l>0&&void 0===I)break;if(I&&M&&"object"==typeof M&&void 0===M.outlets){if(!Py(I,M,g))return d;i+=2}else{if(!Py(I,{},g))return d;i++}l++}return{match:!0,pathIndex:l,commandIndex:i}}(n,t,e),l=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const d=new Ft(n.segments.slice(0,i.pathIndex),{});return d.children[Mt]=new Ft(n.segments.slice(i.pathIndex),n.children),Oh(d,0,l)}return i.match&&0===l.length?new Ft(n.segments,{}):i.match&&!n.hasChildren()?td(n,t,e):i.match?Oh(n,0,l):td(n,t,e)}function Oh(n,t,e){if(0===e.length)return new Ft(n.segments,{});{const i=function YE(n){return Iu(n[0])?n[0].outlets:{[Mt]:n}}(e),l={};return kn(i,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[g]=sl(n.children[g],t,d))}),kn(n.children,(d,g)=>{void 0===i[g]&&(l[g]=d)}),new Ft(n.segments,l)}}function td(n,t,e){const i=n.segments.slice(0,t);let l=0;for(;l<e.length;){const d=e[l];if(Iu(d)){const I=KE(d.outlets);return new Ft(i,I)}if(0===l&&Rh(e[0])){i.push(new ed(n.segments[t].path,_m(e[0]))),l++;continue}const g=Iu(d)?d.outlets[Mt]:`${d}`,C=l<e.length-1?e[l+1]:null;g&&C&&Rh(C)?(i.push(new ed(g,_m(C))),l+=2):(i.push(new ed(g,{})),l++)}return new Ft(i,{})}function KE(n){const t={};return kn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=td(new Ft([],{}),0,e))}),t}function _m(n){const t={};return kn(n,(e,i)=>t[i]=`${e}`),t}function Py(n,t,e){return n==e.path&&hs(t,e.parameters)}class zo{constructor(t,e){this.id=t,this.url=e}}class vm extends zo{constructor(t,e,i="imperative",l=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wu extends zo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bp extends zo{constructor(t,e,i,l){super(t,e),this.reason=i,this.code=l,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ym extends zo{constructor(t,e,i,l){super(t,e),this.error=i,this.target=l,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class QE extends zo{constructor(t,e,i,l){super(t,e),this.urlAfterRedirects=i,this.state=l,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ny extends zo{constructor(t,e,i,l){super(t,e),this.urlAfterRedirects=i,this.state=l,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ky extends zo{constructor(t,e,i,l,d){super(t,e),this.urlAfterRedirects=i,this.state=l,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cm extends zo{constructor(t,e,i,l){super(t,e),this.urlAfterRedirects=i,this.state=l,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VI extends zo{constructor(t,e,i,l){super(t,e),this.urlAfterRedirects=i,this.state=l,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Em{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class JE{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BI{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nd{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fy{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XE{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dm{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ip=(()=>{class n{createUrlTree(e,i,l,d,g,C){return bu(e||i.root,l,d,g,C)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),bm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){return Ip.\u0275fac(t)},providedIn:"root"}),n})();class rd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Nh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Nh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=id(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return id(t,this._root).map(e=>e.value)}}function Nh(n,t){if(n===t.value)return t;for(const e of t.children){const i=Nh(n,e);if(i)return i}return null}function id(n,t){if(n===t.value)return[t];for(const e of t.children){const i=id(n,e);if(i.length)return i.unshift(t),i}return[]}class Xs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ol(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class wp extends rd{constructor(t,e){super(t),this.snapshot=e,Ap(this,t)}toString(){return this.snapshot.toString()}}function Tp(n,t){const e=function Ly(n,t){const g=new kh([],{},{},"",{},Mt,t,null,n.root,-1,{});return new Vy("",new Xs(g,[]))}(n,t),i=new Dr([new ed("",{})]),l=new Dr({}),d=new Dr({}),g=new Dr({}),C=new Dr(""),I=new eo(i,l,g,C,d,Mt,t,e.root);return I.snapshot=e.root,new wp(new Xs(I,[]),e)}class eo{constructor(t,e,i,l,d,g,C,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=l,this.data=d,this.outlet=g,this.component=C,this.title=this.data?.pipe((0,Ze.U)(M=>M[Kc]))??tt(void 0),this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(t=>Qc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(t=>Qc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uy(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const l=e[i],d=e[i-1];if(l.routeConfig&&""===l.routeConfig.path)i--;else{if(d.component)break;i--}}return function tD(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class kh{constructor(t,e,i,l,d,g,C,I,M,F,H){this.url=t,this.params=e,this.queryParams=i,this.fragment=l,this.data=d,this.outlet=g,this.component=C,this.routeConfig=I,this._urlSegment=M,this._lastPathIndex=F,this._resolve=H}get title(){return this.data?.[Kc]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vy extends rd{constructor(t,e){super(e),this.url=t,Ap(this,e)}toString(){return Im(this._root)}}function Ap(n,t){t.value._routerState=n,t.children.forEach(e=>Ap(n,e))}function Im(n){const t=n.children.length>0?` { ${n.children.map(Im).join(", ")} } `:"";return`${n.value}${t}`}function wm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,hs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),hs(t.params,e.params)||n.params.next(e.params),function gy(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!hs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),hs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Tm(n,t){const e=hs(n.params,t.params)&&function UI(n,t){return rl(n,t)&&n.every((e,i)=>hs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Tm(n.parent,t.parent))}function sd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const l=function nD(n,t,e){return t.children.map(i=>{for(const l of e.children)if(n.shouldReuseRoute(i.value,l.value.snapshot))return sd(n,i,l);return sd(n,i)})}(n,t,e);return new Xs(i,l)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const g=d.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(C=>sd(n,C)),g}}const i=function HI(n){return new eo(new Dr(n.url),new Dr(n.params),new Dr(n.queryParams),new Dr(n.fragment),new Dr(n.data),n.outlet,n.component,n)}(t.value),l=t.children.map(d=>sd(n,d));return new Xs(i,l)}}const Fh="ngNavigationCancelingError";function Am(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Du(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,l=By(!1,0,t);return l.url=e,l.navigationBehaviorOptions=i,l}function By(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Fh]=!0,i.cancellationCode=t,e&&(i.url=e),i}function $y(n){return Hy(n)&&Du(n.url)}function Hy(n){return n&&n[Fh]}class jy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Lh,this.attachRef=null}}let Lh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const l=this.getOrCreateContext(e);l.outlet=i,this.contexts.set(e,l)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new jy,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sp=!1;let Uh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Lh),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:l}=e.name;if(i)return;this.isTrackedInParentContexts(l)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(l)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Sp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Sp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Sp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.vHH(4013,Sp);this._activatedRoute=e;const l=this.location,g=e.snapshot.component,C=this.parentContexts.getOrCreateContext(this.name).children,I=new rD(e,C,l.injector);if(i&&function iD(n){return!!n.resolveComponentFactory}(i)){const M=i.resolveComponentFactory(g);this.activated=l.createComponent(M,l.length,I)}else this.activated=l.createComponent(g,{index:l.length,injector:I,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class rD{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===eo?this.route:t===Lh?this.childContexts:this.parent.get(t,e)}}let Sm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},dependencies:[Uh],encapsulation:2}),n})();function Gy(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Rm(n){const t=n.children&&n.children.map(Rm),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Mt&&(e.component=Sm),e}function pi(n){return n.outlet||Mt}function zy(n,t){const e=n.filter(i=>pi(i)===t);return e.push(...n.filter(i=>pi(i)!==t)),e}function Vh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class xm{constructor(t,e,i,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=l}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),wm(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const l=ol(e);t.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,l[g],i),delete l[g]}),kn(l,(d,g)=>{this.deactivateRouteAndItsChildren(d,i)})}deactivateRoutes(t,e,i){const l=t.value,d=e?e.value:null;if(l===d)if(l.component){const g=i.getContext(l.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,i);else d&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),l=i&&t.value.component?i.children:e,d=ol(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);if(i&&i.outlet){const g=i.outlet.detach(),C=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:C})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),l=i&&t.value.component?i.children:e,d=ol(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const l=ol(e);t.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],i),this.forwardEvent(new XE(d.value.snapshot))}),t.children.length&&this.forwardEvent(new nd(t.value.snapshot))}activateRoutes(t,e,i){const l=t.value,d=e?e.value:null;if(wm(l),l===d)if(l.component){const g=i.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,i);else if(l.component){const g=i.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const C=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),g.children.onOutletReAttached(C.contexts),g.attachRef=C.componentRef,g.route=C.route.value,g.outlet&&g.outlet.attach(C.componentRef,C.route.value),wm(C.route.value),this.activateChildRoutes(t,null,g.children)}else{const C=Vh(l.snapshot),I=C?.get(a._Vd)??null;g.attachRef=null,g.route=l,g.resolver=I,g.injector=C,g.outlet&&g.outlet.activateWith(l,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,i)}}class Bh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Om{constructor(t,e){this.component=t,this.route=e}}function Pm(n,t,e){const i=n._root;return od(i,t?t._root:null,e,[i.value])}function Tu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.Z0I)(n)?t.get(n):n:i}function od(n,t,e,i,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=ol(t);return n.children.forEach(g=>{(function qy(n,t,e,i,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,g=t?t.value:null,C=e?e.getContext(n.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const I=function Yy(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!rl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!rl(n.url,t.url)||!hs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tm(n,t)||!hs(n.queryParams,t.queryParams);default:return!Tm(n,t)}}(g,d,d.routeConfig.runGuardsAndResolvers);I?l.canActivateChecks.push(new Bh(i)):(d.data=g.data,d._resolvedData=g._resolvedData),od(n,t,d.component?C?C.children:null:e,i,l),I&&C&&C.outlet&&C.outlet.isActivated&&l.canDeactivateChecks.push(new Om(C.outlet.component,g))}else g&&Au(t,C,l),l.canActivateChecks.push(new Bh(i)),od(n,null,d.component?C?C.children:null:e,i,l)})(g,d[g.value.outlet],e,i.concat([g.value]),l),delete d[g.value.outlet]}),kn(d,(g,C)=>Au(g,e.getContext(C),l)),l}function Au(n,t,e){const i=ol(n),l=n.value;kn(i,(d,g)=>{Au(d,l.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new Om(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}function Si(n){return"function"==typeof n}function Su(n){return n instanceof wh||"EmptyError"===n?.name}const Op=Symbol("INITIAL_VALUE");function Hh(){return Nn(n=>ME(n.map(t=>t.pipe(Ah(1),function xE(...n){const t=(0,$s.yG)(n);return(0,Jn.e)((e,i)=>{(t?dp(n,e,t):dp(n,e)).subscribe(i)})}(Op)))).pipe((0,Ze.U)(t=>{for(const e of t)if(!0!==e){if(e===Op)return Op;if(!1===e||e instanceof Xc)return e}return!0}),Qs(t=>t!==Op),Ah(1)))}function Xy(n){return(0,RE.z)((0,br.b)(t=>{if(Du(t))throw Am(0,t)}),(0,Ze.U)(t=>!0===t))}const Fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eC(n,t,e,i,l){const d=Lm(n,t,e);return d.matched?function km(n,t,e,i){const l=t.canMatch;return l&&0!==l.length?tt(l.map(g=>{const C=Tu(g,n);return nl(function Qy(n){return n&&Si(n.canMatch)}(C)?C.canMatch(t,e):n.runInContext(()=>C(t,e)))})).pipe(Hh(),Xy()):tt(!0)}(i=Gy(t,i),t,e).pipe((0,Ze.U)(g=>!0===g?d:{...Fm})):tt(d)}function Lm(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Fm}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const l=(t.matcher||kE)(e,n,t);if(!l)return{...Fm};const d={};kn(l.posParams,(C,I)=>{d[I]=C.path});const g=l.consumed.length>0?{...d,...l.consumed[l.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:e.slice(l.consumed.length),parameters:g,positionalParamSegments:l.posParams??{}}}function Pp(n,t,e,i){if(e.length>0&&function vD(n,t,e){return e.some(i=>jh(n,t,i)&&pi(i)!==Mt)}(n,e,i)){const d=new Ft(t,function _D(n,t,e,i){const l={};l[Mt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&pi(d)!==Mt){const g=new Ft([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,l[pi(d)]=g}return l}(n,t,i,new Ft(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function tC(n,t,e){return e.some(i=>jh(n,t,i))}(n,e,i)){const d=new Ft(n.segments,function mD(n,t,e,i,l){const d={};for(const g of i)if(jh(n,e,g)&&!l[pi(g)]){const C=new Ft([],{});C._sourceSegment=n,C._segmentIndexShift=t.length,d[pi(g)]=C}return{...l,...d}}(n,t,e,i,n.children));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const l=new Ft(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function jh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function nC(n,t,e,i){return!!(pi(n)===i||i!==Mt&&jh(t,e,n))&&("**"===n.path||Lm(t,n,e).matched)}function yD(n,t,e){return 0===t.length&&!n.children[e]}const Gh=!1;class Mu{constructor(t){this.segmentGroup=t||null}}class al{constructor(t){this.urlTree=t}}function Np(n){return el(new Mu(n))}function ad(n){return el(new al(n))}class DD{constructor(t,e,i,l,d){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=l,this.config=d,this.allowRedirects=!0}apply(){const t=Pp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ft(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Mt).pipe((0,Ze.U)(d=>this.createUrlTree(Dp(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tl(d=>{if(d instanceof al)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Mu?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Mt).pipe((0,Ze.U)(l=>this.createUrlTree(Dp(l),t.queryParams,t.fragment))).pipe(tl(l=>{throw l instanceof Mu?this.noMatchError(l):l}))}noMatchError(t){return new a.vHH(4002,Gh)}createUrlTree(t,e,i){const l=Ep(t);return new Xc(l,e,i)}expandSegmentGroup(t,e,i,l){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Ze.U)(d=>new Ft([],d))):this.expandSegment(t,i,e,i.segments,l,!0)}expandChildren(t,e,i){const l=[];for(const d of Object.keys(i.children))"primary"===d?l.unshift(d):l.push(d);return(0,St.D)(l).pipe(Cu(d=>{const g=i.children[d],C=zy(e,d);return this.expandSegmentGroup(t,C,g,d).pipe((0,Ze.U)(I=>({segment:I,outlet:d})))}),dm((d,g)=>(d[g.outlet]=g.segment,d),{}),qc())}expandSegment(t,e,i,l,d,g){return(0,St.D)(i).pipe(Cu(C=>this.expandSegmentAgainstRoute(t,e,i,C,l,d,g).pipe(tl(M=>{if(M instanceof Mu)return tt(null);throw M}))),Zi(C=>!!C),tl((C,I)=>{if(Su(C))return yD(e,l,d)?tt(new Ft([],{})):Np(e);throw C}))}expandSegmentAgainstRoute(t,e,i,l,d,g,C){return nC(l,e,d,g)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,d,g):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,l,d,g):Np(e):Np(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,l,d,g){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,l,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,l,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,l){const d=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ad(d):this.lineralizeSegments(i,d).pipe((0,jn.z)(g=>{const C=new Ft(g,{});return this.expandSegment(t,C,e,g,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,l,d,g){const{matched:C,consumedSegments:I,remainingSegments:M,positionalParamSegments:F}=Lm(e,l,d);if(!C)return Np(e);const H=this.applyRedirectCommands(I,l.redirectTo,F);return l.redirectTo.startsWith("/")?ad(H):this.lineralizeSegments(l,H).pipe((0,jn.z)(X=>this.expandSegment(t,e,i,X.concat(M),g,!1)))}matchSegmentAgainstRoute(t,e,i,l,d){return"**"===i.path?(t=Gy(i,t),i.loadChildren?(i._loadedRoutes?tt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Ze.U)(C=>(i._loadedRoutes=C.routes,i._loadedInjector=C.injector,new Ft(l,{})))):tt(new Ft(l,{}))):eC(e,i,l,t).pipe(Nn(({matched:g,consumedSegments:C,remainingSegments:I})=>g?this.getChildConfig(t=i._injector??t,i,l).pipe((0,jn.z)(F=>{const H=F.injector??t,X=F.routes,{segmentGroup:Ie,slicedSegments:ke}=Pp(e,C,I,X),st=new Ft(Ie.segments,Ie.children);if(0===ke.length&&st.hasChildren())return this.expandChildren(H,X,st).pipe((0,Ze.U)(Xr=>new Ft(C,Xr)));if(0===X.length&&0===ke.length)return tt(new Ft(C,{}));const Et=pi(i)===d;return this.expandSegment(H,st,X,ke,Et?Mt:d,!0).pipe((0,Ze.U)(En=>new Ft(C.concat(En.segments),En.children)))})):Np(e)))}getChildConfig(t,e,i){return e.children?tt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?tt({routes:e._loadedRoutes,injector:e._loadedInjector}):function Nm(n,t,e,i){const l=t.canLoad;return void 0===l||0===l.length?tt(!0):tt(l.map(g=>{const C=Tu(g,n);return nl(function xp(n){return n&&Si(n.canLoad)}(C)?C.canLoad(t,e):n.runInContext(()=>C(t,e)))})).pipe(Hh(),Xy())}(t,e,i).pipe((0,jn.z)(l=>l?this.configLoader.loadChildren(t,e).pipe((0,br.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function ED(n){return el(By(Gh,3))}())):tt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],l=e.root;for(;;){if(i=i.concat(l.segments),0===l.numberOfChildren)return tt(i);if(l.numberOfChildren>1||!l.children[Mt])return el(new a.vHH(4e3,Gh));l=l.children[Mt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,l){const d=this.createSegmentGroup(t,e.root,i,l);return new Xc(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return kn(t,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const C=l.substring(1);i[d]=e[C]}else i[d]=l}),i}createSegmentGroup(t,e,i,l){const d=this.createSegments(t,e.segments,i,l);let g={};return kn(e.children,(C,I)=>{g[I]=this.createSegmentGroup(t,C,i,l)}),new Ft(d,g)}createSegments(t,e,i,l){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,l):this.findOrReturn(d,i))}findPosParam(t,e,i){const l=i[e.path.substring(1)];if(!l)throw new a.vHH(4001,Gh);return l}findOrReturn(t,e){let i=0;for(const l of e){if(l.path===t.path)return e.splice(i),l;i++}return t}}class Fr{}class zi{constructor(t,e,i,l,d,g,C){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=l,this.url=d,this.paramsInheritanceStrategy=g,this.urlSerializer=C}recognize(){const t=Pp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Mt).pipe((0,Ze.U)(e=>{if(null===e)return null;const i=new kh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Xs(i,e),d=new Vy(this.url,l);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,i=Uy(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,i,l){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,l)}processChildren(t,e,i){return(0,St.D)(Object.keys(i.children)).pipe(Cu(l=>{const d=i.children[l],g=zy(e,l);return this.processSegmentGroup(t,g,d,l)}),dm((l,d)=>l&&d?(l.push(...d),l):null),function PE(n,t=!1){return(0,Jn.e)((e,i)=>{let l=0;e.subscribe((0,Dn.x)(i,d=>{const g=n(d,l++);(g||t)&&i.next(d),!g&&i.complete()}))})}(l=>null!==l),fp(null),qc(),(0,Ze.U)(l=>{if(null===l)return null;const d=xu(l);return function Vm(n){n.sort((t,e)=>t.value.outlet===Mt?-1:e.value.outlet===Mt?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,i,l,d){return(0,St.D)(e).pipe(Cu(g=>this.processSegmentAgainstRoute(g._injector??t,g,i,l,d)),Zi(g=>!!g),tl(g=>{if(Su(g))return yD(i,l,d)?tt([]):tt(null);throw g}))}processSegmentAgainstRoute(t,e,i,l,d){if(e.redirectTo||!nC(e,i,l,d))return tt(null);let g;if("**"===e.path){const C=l.length>0?my(l).parameters:{},I=Pu(i)+l.length;g=tt({snapshot:new kh(l,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nu(e),pi(e),e.component??e._loadedComponent??null,e,Ou(i),I,ku(e)),consumedSegments:[],remainingSegments:[]})}else g=eC(i,e,l,t).pipe((0,Ze.U)(({matched:C,consumedSegments:I,remainingSegments:M,parameters:F})=>{if(!C)return null;const H=Pu(i)+I.length;return{snapshot:new kh(I,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nu(e),pi(e),e.component??e._loadedComponent??null,e,Ou(i),H,ku(e)),consumedSegments:I,remainingSegments:M}}));return g.pipe(Nn(C=>{if(null===C)return tt(null);const{snapshot:I,consumedSegments:M,remainingSegments:F}=C;t=e._injector??t;const H=e._loadedInjector??t,X=function ud(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Ie,slicedSegments:ke}=Pp(i,M,F,X.filter(Et=>void 0===Et.redirectTo));if(0===ke.length&&Ie.hasChildren())return this.processChildren(H,X,Ie).pipe((0,Ze.U)(Et=>null===Et?null:[new Xs(I,Et)]));if(0===X.length&&0===ke.length)return tt([new Xs(I,[])]);const st=pi(e)===d;return this.processSegment(H,X,Ie,ke,st?Mt:d).pipe((0,Ze.U)(Et=>null===Et?null:[new Xs(I,Et)]))}))}}function cd(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function xu(n){const t=[],e=new Set;for(const i of n){if(!cd(i)){t.push(i);continue}const l=t.find(d=>i.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...i.children),e.add(l)):t.push(i)}for(const i of e){const l=xu(i.children);t.push(new Xs(i.value,l))}return t.filter(i=>!e.has(i))}function Ou(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Pu(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Nu(n){return n.data||{}}function ku(n){return n.resolve||{}}function Bm(n){return"string"==typeof n.title||null===n.title}function Fp(n){return Nn(t=>{const e=n(t);return e?(0,St.D)(e).pipe((0,Ze.U)(()=>t)):tt(t)})}const hd=new a.OlP("ROUTES");let Lp=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return tt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=nl(e.loadComponent()).pipe((0,Ze.U)($m),(0,br.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),Eu(()=>{this.componentLoaders.delete(e)})),l=new cm(i,()=>new Wo.x).pipe(Zo());return this.componentLoaders.set(e,l),l}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return tt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const d=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ze.U)(C=>{this.onLoadEndListener&&this.onLoadEndListener(i);let I,M,F=!1;Array.isArray(C)?M=C:(I=C.create(e).injector,M=gp(I.get(hd,[],a.XFs.Self|a.XFs.Optional)));return{routes:M.map(Rm),injector:I}}),Eu(()=>{this.childrenLoaders.delete(i)})),g=new cm(d,()=>new Wo.x).pipe(Zo());return this.childrenLoaders.set(i,g),g}loadModuleFactoryOrRoutes(e){return nl(e()).pipe((0,Ze.U)($m),(0,jn.z)(l=>l instanceof a.YKP||Array.isArray(l)?tt(l):(0,St.D)(this.compiler.compileModuleAsync(l))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $m(n){return function bD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Zh=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Wo.x,this.configLoader=(0,a.f3M)(Lp),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(Sh),this.rootContexts=(0,a.f3M)(Lh),this.navigationId=0,this.configLoader.onLoadEndListener=l=>this.events.next(new JE(l)),this.configLoader.onLoadStartListener=l=>this.events.next(new Em(l))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Dr({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qs(i=>0!==i.id),(0,Ze.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Nn(i=>{let l=!1,d=!1;return tt(i).pipe((0,br.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nn(g=>{const C=e.browserUrlTree.toString(),I=!e.navigated||g.extractedUrl.toString()!==C||C!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||I)&&e.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return dC(g.source)&&(e.browserUrlTree=g.extractedUrl),tt(g).pipe(Nn(F=>{const H=this.transitions?.getValue();return this.events.next(new vm(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),H!==this.transitions?.getValue()?yu.E:Promise.resolve(F)}),function to(n,t,e,i){return Nn(l=>function Um(n,t,e,i,l){return new DD(n,t,e,i,l).apply()}(n,t,e,l.extractedUrl,i).pipe((0,Ze.U)(d=>({...l,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,br.b)(F=>{this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects},i.urlAfterRedirects=F.urlAfterRedirects}),function rC(n,t,e,i,l){return(0,jn.z)(d=>function kp(n,t,e,i,l,d,g="emptyOnly"){return new zi(n,t,e,i,l,g,d).recognize().pipe(Nn(C=>null===C?function Ru(n){return new _r.y(t=>t.error(n))}(new Fr):tt(C)))}(n,t,e,d.urlAfterRedirects,i.serialize(d.urlAfterRedirects),i,l).pipe((0,Ze.U)(g=>({...d,targetSnapshot:g}))))}(this.environmentInjector,e.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,br.b)(F=>{if(i.targetSnapshot=F.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!F.extras.skipLocationChange){const X=e.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);e.setBrowserUrl(X,F)}e.browserUrlTree=F.urlAfterRedirects}const H=new QE(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(H)}));if(I&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:H,extractedUrl:X,source:Ie,restoredState:ke,extras:st}=g,Et=new vm(H,this.urlSerializer.serialize(X),Ie,ke);this.events.next(Et);const Cn=Tp(X,e.rootComponentType).snapshot;return tt(i={...g,targetSnapshot:Cn,urlAfterRedirects:X,extras:{...st,skipLocationChange:!1,replaceUrl:!1}})}return e.rawUrlTree=g.rawUrl,g.resolve(null),yu.E}),(0,br.b)(g=>{const C=new Ny(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(C)}),(0,Ze.U)(g=>i={...g,guards:Pm(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function uD(n,t){return(0,jn.z)(e=>{const{targetSnapshot:i,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?tt({...e,guardsResult:!0}):function cD(n,t,e,i){return(0,St.D)(n).pipe((0,jn.z)(l=>function Jy(n,t,e,i,l){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?tt(d.map(C=>{const I=Vh(t)??l,M=Tu(C,I);return nl(function Ky(n){return n&&Si(n.canDeactivate)}(M)?M.canDeactivate(n,t,e,i):I.runInContext(()=>M(n,t,e,i))).pipe(Zi())})).pipe(Hh()):tt(!0)}(l.component,l.route,e,t,i)),Zi(l=>!0!==l,!0))}(g,i,l,n).pipe((0,jn.z)(C=>C&&function Rp(n){return"boolean"==typeof n}(C)?function dD(n,t,e,i){return(0,St.D)(t).pipe(Cu(l=>dp(function fD(n,t){return null!==n&&t&&t(new BI(n)),tt(!0)}(l.route.parent,i),function hD(n,t){return null!==n&&t&&t(new Fy(n)),tt(!0)}(l.route,i),function gD(n,t,e){const i=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(g=>function WI(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Xa(()=>tt(g.guards.map(I=>{const M=Vh(g.node)??e,F=Tu(I,M);return nl(function aD(n){return n&&Si(n.canActivateChild)}(F)?F.canActivateChild(i,n):M.runInContext(()=>F(i,n))).pipe(Zi())})).pipe(Hh())));return tt(d).pipe(Hh())}(n,l.path,e),function pD(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return tt(!0);const l=i.map(d=>Xa(()=>{const g=Vh(t)??e,C=Tu(d,g);return nl(function $h(n){return n&&Si(n.canActivate)}(C)?C.canActivate(t,n):g.runInContext(()=>C(t,n))).pipe(Zi())}));return tt(l).pipe(Hh())}(n,l.route,e))),Zi(l=>!0!==l,!0))}(i,d,n,t):tt(C)),(0,Ze.U)(C=>({...e,guardsResult:C})))})}(this.environmentInjector,g=>this.events.next(g)),(0,br.b)(g=>{if(i.guardsResult=g.guardsResult,Du(g.guardsResult))throw Am(0,g.guardsResult);const C=new ky(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(C)}),Qs(g=>!!g.guardsResult||(e.restoreHistory(g),this.cancelNavigationTransition(g,"",3,e),!1)),Fp(g=>{if(g.guards.canActivateChecks.length)return tt(g).pipe((0,br.b)(C=>{const I=new Cm(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(I)}),Nn(C=>{let I=!1;return tt(C).pipe(function iC(n,t){return(0,jn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:l}}=e;if(!l.length)return tt(e);let d=0;return(0,St.D)(l).pipe(Cu(g=>function sC(n,t,e,i){const l=n.routeConfig,d=n._resolve;return void 0!==l?.title&&!Bm(l)&&(d[Kc]=l.title),function oC(n,t,e,i){const l=function aC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===l.length)return tt({});const d={};return(0,St.D)(l).pipe((0,jn.z)(g=>function lC(n,t,e,i){const l=Vh(t)??i,d=Tu(n,l);return nl(d.resolve?d.resolve(t,e):l.runInContext(()=>d(t,e)))}(n[g],t,e,i).pipe(Zi(),(0,br.b)(C=>{d[g]=C}))),hm(1),function Yc(n){return(0,Ze.U)(()=>n)}(d),tl(g=>Su(g)?yu.E:el(g)))}(d,n,t,i).pipe((0,Ze.U)(g=>(n._resolvedData=g,n.data=Uy(n,e).resolve,l&&Bm(l)&&(n.data[Kc]=l.title),null)))}(g.route,i,n,t)),(0,br.b)(()=>d++),hm(1),(0,jn.z)(g=>d===l.length?tt(e):yu.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,br.b)({next:()=>I=!0,complete:()=>{I||(e.restoreHistory(C),this.cancelNavigationTransition(C,"",2,e))}}))}),(0,br.b)(C=>{const I=new VI(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(I)}))}),Fp(g=>{const C=I=>{const M=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,br.b)(F=>{I.component=F}),(0,Ze.U)(()=>{})));for(const F of I.children)M.push(...C(F));return M};return ME(C(g.targetSnapshot.root)).pipe(fp(),Ah(1))}),Fp(()=>e.afterPreactivation()),(0,Ze.U)(g=>{const C=function Ai(n,t,e){const i=sd(n,t._root,e?e._root:void 0);return new wp(i,t)}(e.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return i={...g,targetRouterState:C}}),(0,br.b)(g=>{e.currentUrlTree=g.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),e.routerState=g.targetRouterState,"deferred"===e.urlUpdateStrategy&&(g.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,g),e.browserUrlTree=g.urlAfterRedirects)}),((n,t,e)=>(0,Ze.U)(i=>(new xm(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,g=>this.events.next(g)),(0,br.b)({next:g=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new wu(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{l=!0}}),Eu(()=>{l||d||this.cancelNavigationTransition(i,"",1,e),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),tl(g=>{if(d=!0,Hy(g)){$y(g)||(e.navigated=!0,e.restoreHistory(i,!0));const C=new bp(i.id,this.urlSerializer.serialize(i.extractedUrl),g.message,g.cancellationCode);if(this.events.next(C),$y(g)){const I=e.urlHandlingStrategy.merge(g.url,e.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||dC(i.source)};e.scheduleNavigation(I,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const C=new ym(i.id,this.urlSerializer.serialize(i.extractedUrl),g,i.targetSnapshot??void 0);this.events.next(C);try{i.resolve(e.errorHandler(g))}catch(I){i.reject(I)}}return yu.E}))}))}cancelNavigationTransition(e,i,l,d){const g=new bp(e.id,this.urlSerializer.serialize(e.extractedUrl),i,l);this.events.next(g),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dC(n){return"imperative"!==n}let zh=(()=>{class n{buildTitle(e){let i,l=e.root;for(;void 0!==l;)i=this.getResolvedTitleForRoute(l)??i,l=l.children.find(d=>d.outlet===Mt);return i}getResolvedTitleForRoute(e){return e.data[Kc]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Vp)},providedIn:"root"}),n})(),Vp=(()=>{class n extends zh{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Vs))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(jm)},providedIn:"root"}),n})();class ID{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let jm=(()=>{class n extends ID{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qh=new a.OlP("",{providedIn:"root",factory:()=>({})});let hC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Wm)},providedIn:"root"}),n})(),Wm=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fC(n){throw n}function zm(n,t,e){return t.parse("/")}const pC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _n=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(qh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||fC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zm,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>tt(void 0),this.urlHandlingStrategy=(0,a.f3M)(hC),this.routeReuseStrategy=(0,a.f3M)(Hm),this.urlCreationStrategy=(0,a.f3M)(bm),this.titleStrategy=(0,a.f3M)(zh),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=gp((0,a.f3M)(hd,{optional:!0})??[]),this.navigationTransitions=(0,a.f3M)(Zh),this.urlSerializer=(0,a.f3M)(Sh),this.location=(0,a.f3M)(Te),this.rootComponentType=null,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Tp(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const l={replaceUrl:!0},d=e.state?.navigationId?e.state:null;if(e.state){const C={...e.state};delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(l.state=C)}const g=this.parseUrl(e.url);this.scheduleNavigation(g,i,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Rm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:l,queryParams:d,fragment:g,queryParamsHandling:C,preserveFragment:I}=i,M=I?this.currentUrlTree.fragment:g;let F=null;switch(C){case"merge":F={...this.currentUrlTree.queryParams,...d};break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=d||null}return null!==F&&(F=this.removeEmptyProps(F)),this.urlCreationStrategy.createUrlTree(l,this.routerState,this.currentUrlTree,e,F,M??null)}navigateByUrl(e,i={skipLocationChange:!1}){const l=Du(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function gC(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new a.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(l){i=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return i}isActive(e,i){let l;if(l=!0===i?{...pC}:!1===i?{...wD}:i,Du(e))return fm(this.currentUrlTree,e,l);const d=this.parseUrl(e);return fm(this.currentUrlTree,d,l)}removeEmptyProps(e){return Object.keys(e).reduce((i,l)=>{const d=e[l];return null!=d&&(i[l]=d),i},{})}scheduleNavigation(e,i,l,d,g){if(this.disposed)return Promise.resolve(!1);let C,I,M,F;return g?(C=g.resolve,I=g.reject,M=g.promise):M=new Promise((H,X)=>{C=H,I=X}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),F=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):F=0,this.navigationTransitions.handleNavigationRequest({targetPageId:F,source:i,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:d,resolve:C,reject:I,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(H=>Promise.reject(H))}setBrowserUrl(e,i){const l=this.urlSerializer.serialize(e),d={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(l)||i.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===l?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),no=(()=>{class n{constructor(e,i,l,d,g,C){this.router=e,this.route=i,this.tabIndexAttribute=l,this.renderer=d,this.el=g,this.locationStrategy=C,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Wo.x;const I=g.nativeElement.tagName;this.isAnchorElement="A"===I||"AREA"===I,this.isAnchorElement?this.subscription=e.events.subscribe(M=>{M instanceof wu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,l,d,g){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||l||d||g||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const l=this.renderer,d=this.el.nativeElement;null!==i?l.setAttribute(d,e,i):l.removeAttribute(d,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(_n),a.Y36(eo),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(We))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&a.NdJ("click",function(d){return i.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&a.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class _C{}let Bp=(()=>{class n{constructor(e,i,l,d,g){this.router=e,this.injector=l,this.preloadingStrategy=d,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(Qs(e=>e instanceof wu),Cu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const l=[];for(const d of i){d.providers&&!d._injector&&(d._injector=(0,a.MMx)(d.providers,e,`Route: ${d.path}`));const g=d._injector??e,C=d._loadedInjector??g;d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent?l.push(this.preloadConfig(g,d)):(d.children||d._loadedRoutes)&&l.push(this.processRoutes(C,d.children??d._loadedRoutes))}return(0,St.D)(l).pipe((0,vu.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let l;l=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):tt(null);const d=l.pipe((0,jn.z)(g=>null===g?tt(void 0):(i._loadedRoutes=g.routes,i._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(i.loadComponent&&!i._loadedComponent){const g=this.loader.loadComponent(i);return(0,St.D)([d,g]).pipe((0,vu.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_n),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(_C),a.LFG(Lp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $p=new a.OlP("");let qm=(()=>{class n{constructor(e,i,l,d,g={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=l,this.zone=d,this.options=g,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},g.scrollPositionRestoration=g.scrollPositionRestoration||"disabled",g.anchorScrolling=g.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Dm&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Lu(n,t){return{\u0275kind:n,\u0275providers:t}}function CC(){const n=(0,a.f3M)(a.zs3);return t=>{const e=n.get(a.z2F);if(t!==e.components[0])return;const i=n.get(_n),l=n.get(EC);1===n.get(Yh)&&i.initialNavigation(),n.get(jp,null,a.XFs.Optional)?.setUpPreloading(),n.get($p,null,a.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),l.closed||(l.next(),l.unsubscribe())}}const EC=new a.OlP("",{factory:()=>new Wo.x}),Yh=new a.OlP("",{providedIn:"root",factory:()=>1});const jp=new a.OlP("");function qI(n){return Lu(0,[{provide:jp,useExisting:Bp},{provide:_C,useExisting:n}])}const Jm=new a.OlP("ROUTER_FORROOT_GUARD"),MD=[Te,{provide:Sh,useClass:vp},_n,Lh,{provide:eo,useFactory:function Ym(n){return n.routerState.root},deps:[_n]},Lp,[]];function Xn(){return new a.PXZ("Router",_n)}let DC=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[MD,[],{provide:hd,multi:!0,useValue:e},{provide:Jm,useFactory:OD,deps:[[_n,new a.FiY,new a.tp0]]},{provide:qh,useValue:i||{}},i?.useHash?{provide:We,useClass:_e}:{provide:We,useClass:ye},{provide:$p,useFactory:()=>{const n=(0,a.f3M)(Li),t=(0,a.f3M)(a.R0b),e=(0,a.f3M)(qh),i=(0,a.f3M)(Zh),l=(0,a.f3M)(Sh);return e.scrollOffset&&n.setOffset(e.scrollOffset),new qm(l,i,n,t,e)}},i?.preloadingStrategy?qI(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Xn},i?.initialNavigation?IC(i):[],[{provide:Xm,useFactory:CC},{provide:a.tb,multi:!0,useExisting:Xm}]]}}static forChild(e){return{ngModule:n,providers:[{provide:hd,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Jm,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Sm]}),n})();function OD(n){return"guarded"}function IC(n){return["disabled"===n.initialNavigation?Lu(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)(_n);return()=>{t.setUpLocationChangeListener()}}},{provide:Yh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Lu(2,[{provide:Yh,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(oe,Promise.resolve());return()=>e.then(()=>new Promise(l=>{const d=t.get(_n),g=t.get(EC);(function i(l){t.get(_n).events.pipe(Qs(g=>g instanceof wu||g instanceof bp||g instanceof ym),(0,Ze.U)(g=>g instanceof wu||g instanceof bp&&(0===g.code||1===g.code)&&null),Qs(g=>null!==g),Ah(1)).subscribe(()=>{l()})})(()=>{l(!0)}),d.afterPreactivation=()=>(l(!0),g.closed?tt(void 0):g),d.initialNavigation()}))}}]).\u0275providers:[]]}const Xm=new a.OlP("");var fs=O(2011),wC=O(4986),e_=O(6451),t_=O(3099);function TC(n,t){return n===t}var n_=O(5032),qi=O(2122),ps=(O(9169),O(3942)),Ir=O(4859),ll=O(5861),ul=O(9681),P=O(2090),Gp=O(1877);const AC="@firebase/database";let Qh="";function pd(n){Qh=n}class ND{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,P.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,P.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class MC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,P.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const RC=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ND(t)}}catch{}return new MC},cl=RC("localStorage"),Wp=RC("sessionStorage"),Ko=new Gp.Yd("@firebase/database"),xC=function(){let n=1;return function(){return n++}}(),r_=function(n){const t=(0,P.dS)(n),e=new P.gQ;e.update(t);const i=e.digest();return P.US.encodeByteArray(i)},gd=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=gd.apply(null,i):t+="object"==typeof i?(0,P.Wl)(i):i,t+=" "}return t};let Qo=null,Jh=!0;const Zp=function(n,t){(0,P.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ko.logLevel=Gp.in.VERBOSE,Qo=Ko.log.bind(Ko),t&&Wp.set("logging_enabled",!0)):"function"==typeof n?Qo=n:(Qo=null,Wp.remove("logging_enabled"))},er=function(...n){if(!0===Jh&&(Jh=!1,null===Qo&&!0===Wp.get("logging_enabled")&&Zp(!0)),Qo){const t=gd.apply(null,n);Qo(t)}},md=function(n){return function(...t){er(n,...t)}},zp=function(...n){const t="FIREBASE INTERNAL ERROR: "+gd(...n);Ko.error(t)},gs=function(...n){const t=`FIREBASE FATAL ERROR: ${gd(...n)}`;throw Ko.error(t),new Error(t)},wr=function(...n){const t="FIREBASE WARNING: "+gd(...n);Ko.warn(t)},Xh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},dl="[MIN_NAME]",Jo="[MAX_NAME]",Bu=function(n,t){if(n===t)return 0;if(n===dl||t===Jo)return-1;if(t===dl||n===Jo)return 1;{const e=kC(n),i=kC(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},FD=function(n,t){return n===t?0:n<t?-1:1},ef=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,P.Wl)(t))},i_=function(n){if("object"!=typeof n||null===n)return(0,P.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,P.Wl)(t[i]),e+=":",e+=i_(n[t[i]]);return e+="}",e},PC=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let l=0;l<e;l+=t)i.push(n.substring(l,l+t>e?e:l+t));return i};function ur(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const NC=function(n){(0,P.hu)(!Xh(n),"Invalid JSON number");const i=1023;let l,d,g,C,I;0===n?(d=0,g=0,l=1/n==-1/0?1:0):(l=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(C=Math.min(Math.floor(Math.log(n)/Math.LN2),i),d=C+i,g=Math.round(n*Math.pow(2,52-C)-Math.pow(2,52))):(d=0,g=Math.round(n/Math.pow(2,-1074))));const M=[];for(I=52;I;I-=1)M.push(g%2?1:0),g=Math.floor(g/2);for(I=11;I;I-=1)M.push(d%2?1:0),d=Math.floor(d/2);M.push(l?1:0),M.reverse();const F=M.join("");let H="";for(I=0;I<64;I+=8){let X=parseInt(F.substr(I,8),2).toString(16);1===X.length&&(X="0"+X),H+=X}return H.toLowerCase()},BD=new RegExp("^-?(0*)\\d{1,10}$"),kC=function(n){if(BD.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},_d=function(n){try{n()}catch(t){setTimeout(()=>{throw wr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},vd=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class LC{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){wr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class UC{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wr(t)}}let yd=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const u_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$u="websocket",BC="long_polling";class nf{constructor(t,e,i,l,d=!1,g="",C=!1){this.secure=e,this.namespace=i,this.webSocketOnly=l,this.nodeAdmin=d,this.persistenceKey=g,this.includeNamespaceInQueryParams=C,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&cl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function d_(n,t,e){let i;if((0,P.hu)("string"==typeof t,"typeof type must == string"),(0,P.hu)("object"==typeof e,"typeof params must == object"),t===$u)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==BC)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function JI(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const l=[];return ur(e,(d,g)=>{l.push(d+"="+g)}),i+l.join("&")}class $C{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,P.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,P.p$)(this.counters_)}}const HC={},rt={};function h_(n){const t=n.toString();return HC[t]||(HC[t]=new $C),HC[t]}class GD{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<i.length;++l)i[l]&&_d(()=>{this.onMessage_(i[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class fl{constructor(t,e,i,l,d,g,C){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=l,this.authToken=d,this.transportSessionId=g,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=md(t),this.stats_=h_(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),d_(e,BC,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new GD(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,P.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new g_((...d)=>{const[g,C,I,M,F]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=C,this.password=I;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[g,C]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(g,C)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&u_.test(location.hostname)&&(i.r="f");const l=this.urlFn(i);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fl.forceAllow_=!0}static forceDisallow(){fl.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!fl.forceAllow_&&(fl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,P.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,P.h$)(e),l=PC(i,1840);for(let d=0;d<l.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,P.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class g_{constructor(t,e,i,l){if(this.onDisconnect=i,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=xC(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=g_.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(C){er("frame writing exception"),C.stack&&er(C.stack),er(C)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||er("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const g=this.pendingSegs.shift();i=i+"&seg"+l+"="+g.seg+"&ts"+l+"="+g.ts+"&d"+l+"="+g.d,l++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),i()})}addTag(t,e){(0,P.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const l=i.readyState;(!l||"loaded"===l||"complete"===l)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{er("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let sf=null;typeof MozWebSocket<"u"?sf=MozWebSocket:typeof WebSocket<"u"&&(sf=WebSocket);let ju=(()=>{class n{constructor(e,i,l,d,g,C,I){this.connId=e,this.applicationId=l,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=md(this.connId),this.stats_=h_(i),this.connURL=n.connectionURL_(i,C,I,d,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,l,d,g){const C={v:"5"};return!(0,P.Yr)()&&typeof location<"u"&&location.hostname&&u_.test(location.hostname)&&(C.r="f"),i&&(C.s=i),l&&(C.ls=l),d&&(C.ac=d),g&&(C.p=g),d_(e,$u,C)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cl.set("previous_websocket_failure",!0);try{let l;if((0,P.Yr)()){l={headers:{"User-Agent":`Firebase/5/${Qh}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,C=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;C&&(l.proxy={origin:C})}this.mySock=new sf(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const d=l.message||l.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const d=l.message||l.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==sf&&!n.forceDisallow_}static previouslyFailed(){return cl.isInMemoryStorage||!0===cl.get("previous_websocket_failure")}markConnectionHealthy(){cl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=(0,P.cI)(i);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const i=(0,P.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=PC(i,16384);l.length>1&&this.sendString_(String(l.length));for(let d=0;d<l.length;d++)this.sendString_(l[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),m_=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[fl,ju]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=ju&&ju.isAvailable();let l=i&&!ju.previouslyFailed();if(e.webSocketOnly&&(i||wr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[ju];else{const d=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&d.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class XD{constructor(t,e,i,l,d,g,C,I,M,F){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=l,this.authToken_=d,this.onMessage_=g,this.onReady_=C,this.onDisconnect_=I,this.onKill_=M,this.lastSessionId=F,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=md("c:"+this.id+":"),this.transportManager_=new m_(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=vd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=ef("t",t),i=ef("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=ef("t",t),i=ef("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=ef("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?zp("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zp("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&wr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),vd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class eb{put(t,e,i,l){}merge(t,e,i,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class tb{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,P.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let l=0;l<i.length;l++)i[l].callback.apply(i[l].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const l=this.getInitialEvent(t);l&&e.apply(i,l)}off(t,e,i){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let d=0;d<l.length;d++)if(l[d].callback===e&&(!i||i===l[d].context))return void l.splice(d,1)}validateEventType_(t){(0,P.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class C_ extends tb{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new C_}getInitialEvent(t){return(0,P.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Bt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[i]=this.pieces_[l],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function $t(){return new Bt("")}function Rt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Xo(n){return n.pieces_.length-n.pieceNum_}function Gt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Bt(n.pieces_,t)}function D_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function uf(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function e0(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Bt(t,0)}function vn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Bt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let l=0;l<i.length;l++)i[l].length>0&&e.push(i[l])}return new Bt(e,0)}function Tt(n){return n.pieceNum_>=n.pieces_.length}function Yr(n,t){const e=Rt(n),i=Rt(t);if(null===e)return t;if(e===i)return Yr(Gt(n),Gt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function ib(n,t){const e=uf(n,0),i=uf(t,0);for(let l=0;l<e.length&&l<i.length;l++){const d=Bu(e[l],i[l]);if(0!==d)return d}return e.length===i.length?0:e.length<i.length?-1:1}function Gu(n,t){if(Xo(n)!==Xo(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Yi(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Xo(n)>Xo(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class t0{constructor(t,e){this.errorPrefix_=e,this.parts_=uf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,P.ug)(this.parts_[i]);r0(this)}}function r0(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pl(n))}function pl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class b_ extends tb{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new b_}getInitialEvent(t){return(0,P.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Wu=1e3;let Qp,ea=(()=>{class n extends eb{constructor(e,i,l,d,g,C,I,M){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=C,this.appCheckTokenProvider_=I,this.authOverride_=M,this.id=n.nextPersistentConnectionId_++,this.log_=md("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,M&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");b_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&C_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,l){const d=++this.requestNumber_,g={r:d,a:e,b:i};this.log_((0,P.Wl)(g)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),l&&(this.requestCBHash_[d]=l)}get(e){this.initConnection_();const i=new P.BH,d={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:C=>{const I=C.d;"ok"===C.s?i.resolve(I):i.reject(I)}};return this.outstandingGets_.push(d),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,l,d){this.initConnection_();const g=e._queryIdentifier,C=e._path.toString();this.log_("Listen called for "+C+" "+g),this.listens.has(C)||this.listens.set(C,new Map),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(C).has(g),"listen() called twice for same path/queryId.");const I={onComplete:d,hashFn:i,query:e,tag:l};this.listens.get(C).set(g,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(e){const i=e.query,l=i._path.toString(),d=i._queryIdentifier;this.log_("Listen on "+l+" for "+d);const g={p:l};e.tag&&(g.q=i._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,I=>{const M=I.d,F=I.s;n.warnOnListenWarnings_(M,i),(this.listens.get(l)&&this.listens.get(l).get(d))===e&&(this.log_("listen response",I),"ok"!==F&&this.removeListen_(l,d),e.onComplete&&e.onComplete(F,M))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,P.r3)(e,"w")){const l=(0,P.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const d='".indexOn": "'+i._queryParams.getIndex().toString()+'"',g=i._path.toString();wr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,P.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,P.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(i,l,d=>{const g=d.s,C=d.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,l=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(e,i){const l=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+d),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,d)&&this.connected_&&this.sendUnlisten_(l,d,e._queryObject,i)}sendUnlisten_(e,i,l,d){this.log_("Unlisten on "+e+" for "+i);const g={p:e};d&&(g.q=l,g.t=d),this.sendRequest("n",g)}onDisconnectPut(e,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:l})}onDisconnectMerge(e,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:l})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,l,d){const g={p:i,d:l};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,C=>{d&&setTimeout(()=>{d(C.s,C.d)},Math.floor(0))})}put(e,i,l,d){this.putInternal("p",e,i,l,d)}merge(e,i,l,d){this.putInternal("m",e,i,l,d)}putInternal(e,i,l,d,g){this.initConnection_();const C={p:i,d:l};void 0!==g&&(C.h=g),this.outstandingPuts_.push({action:e,request:C,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,l,g=>{this.log_(i+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,P.Wl)(e));const i=e.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):zp("Unrecognized action received from server: "+(0,P.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Wu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ll.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,C=e.lastSessionId;let I=!1,M=null;const F=function(){M?M.close():(I=!0,d())};e.realtime_={close:F,sendRequest:function(Ie){(0,P.hu)(M,"sendRequest call when we're not connected not allowed."),M.sendRequest(Ie)}};const X=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Ie,ke]=yield Promise.all([e.authTokenProvider_.getToken(X),e.appCheckTokenProvider_.getToken(X)]);I?er("getToken() completed but was canceled"):(er("getToken() completed. Creating connection."),e.authToken_=Ie&&Ie.accessToken,e.appCheckToken_=ke&&ke.token,M=new XD(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,l,d,st=>{wr(st+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},C))}catch(Ie){e.log_("Failed to get token: "+Ie),I||(e.repoInfo_.nodeAdmin&&wr(Ie),F())}}})()}interrupt(e){er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let l;l=i?i.map(g=>i_(g)).join("$"):"default";const d=this.removeListen_(e,l);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,i){const l=new Bt(e).toString();let d;if(this.listens.has(l)){const g=this.listens.get(l);d=g.get(i),g.delete(i),0===g.size&&this.listens.delete(l)}else d=void 0;return d}onAuthRevoked_(e,i){er("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){er("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,P.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Qh.replace(/\./g,"-")]=1,(0,P.uI)()?e["framework.cordova"]=1:(0,P.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=C_.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ot{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ot(t,e)}}class cf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Ot(dl,t),l=new Ot(dl,e);return 0!==this.compare(i,l)}minPost(){return Ot.MIN}}class a0 extends cf{static get __EMPTY_NODE(){return Qp}static set __EMPTY_NODE(t){Qp=t}compare(t,e){return Bu(t.name,e.name)}isDefinedOn(t){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ot.MIN}maxPost(){return new Ot(Jo,Qp)}makePost(t,e){return(0,P.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ot(t,Qp)}toString(){return".key"}}const io=new a0;class Jp{constructor(t,e,i,l,d=null){this.isReverse_=l,this.resultGenerator_=d,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(g=e?i(t.key,e):1,l&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let eg,ms=(()=>{class n{constructor(e,i,l,d,g){this.key=e,this.value=i,this.color=l??n.RED,this.left=d??gi.EMPTY_NODE,this.right=g??gi.EMPTY_NODE}copy(e,i,l,d,g){return new n(e??this.key,i??this.value,l??this.color,d??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,l){let d=this;const g=l(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,i,l),null):0===g?d.copy(null,i,null,null,null):d.copy(null,null,null,null,d.right.insert(e,i,l)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return gi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let l,d;if(l=this,i(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===i(e,l.key)){if(l.right.isEmpty())return gi.EMPTY_NODE;d=l.right.min_(),l=l.copy(d.key,d.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class gi{constructor(t,e=gi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new gi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ms.BLACK,null,null))}remove(t){return new gi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ms.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,l=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return l?l.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(l=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Jp(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Jp(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Jp(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Jp(this.root_,null,this.comparator_,!0,t)}}function cb(n,t){return Bu(n.name,t.name)}function Xp(n,t){return Bu(n,t)}gi.EMPTY_NODE=new class ub{copy(t,e,i,l,d){return this}insert(t,e,i){return new ms(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const l0=function(n){return"number"==typeof n?"number:"+NC(n):"string:"+n},w_=function(n){if(n.isLeafNode()){const t=n.val();(0,P.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,P.r3)(t,".sv"),"Priority must be a string or number.")}else(0,P.hu)(n===eg||n.isEmpty(),"priority of unexpected type.");(0,P.hu)(n===eg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let u0,c0,tg,Cd=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),w_(this.priorityNode_)}static set __childrenNodeConstructor(e){u0=e}static get __childrenNodeConstructor(){return u0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Tt(e)?this:".priority"===Rt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const l=Rt(e);return null===l?i:i.isEmpty()&&".priority"!==l?this:((0,P.hu)(".priority"!==l||1===Xo(e),".priority must be the last token in a path"),this.updateImmediateChild(l,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+l0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?NC(this.value_):this.value_,this.lazyHash_=r_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,P.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,l=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(i),g=n.VALUE_TYPE_ORDER.indexOf(l);return(0,P.hu)(d>=0,"Unknown leaf type: "+i),(0,P.hu)(g>=0,"Unknown leaf type: "+l),d===g?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const sn=new class A_ extends cf{compare(t,e){const i=t.node.getPriority(),l=e.node.getPriority(),d=i.compareTo(l);return 0===d?Bu(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ot.MIN}maxPost(){return new Ot(Jo,new Cd("[PRIORITY-POST]",tg))}makePost(t,e){const i=c0(t);return new Ot(e,new Cd("[PRIORITY-POST]",i))}toString(){return".priority"}},hb=Math.log(2);class S_{constructor(t){this.count=parseInt(Math.log(t+1)/hb,10),this.current_=this.count-1;const l=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ng=function(n,t,e,i){n.sort(t);const l=function(I,M){const F=M-I;let H,X;if(0===F)return null;if(1===F)return H=n[I],X=e?e(H):H,new ms(X,H.node,ms.BLACK,null,null);{const Ie=parseInt(F/2,10)+I,ke=l(I,Ie),st=l(Ie+1,M);return H=n[Ie],X=e?e(H):H,new ms(X,H.node,ms.BLACK,ke,st)}},C=function(I){let M=null,F=null,H=n.length;const X=function(ke,st){const Et=H-ke,Cn=H;H-=ke;const En=l(Et+1,Cn),Xr=n[Et],Sn=e?e(Xr):Xr;Ie(new ms(Sn,Xr.node,st,null,En))},Ie=function(ke){M?(M.left=ke,M=ke):(F=ke,M=ke)};for(let ke=0;ke<I.count;++ke){const st=I.nextBitIsOne(),Et=Math.pow(2,I.count-(ke+1));st?X(Et,ms.BLACK):(X(Et,ms.BLACK),X(Et,ms.RED))}return F}(new S_(n.length));return new gi(i||t,C)};let rg;const _s={};class so{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,P.hu)(_s&&sn,"ChildrenNode.ts has not been loaded"),rg=rg||new so({".priority":_s},{".priority":sn}),rg}get(t){const e=(0,P.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof gi?e:null}hasIndex(t){return(0,P.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,P.hu)(t!==io,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let l=!1;const d=e.getIterator(Ot.Wrap);let C,g=d.getNext();for(;g;)l=l||t.isDefinedOn(g.node),i.push(g),g=d.getNext();C=l?ng(i,t.getCompare()):_s;const I=t.toString(),M=Object.assign({},this.indexSet_);M[I]=t;const F=Object.assign({},this.indexes_);return F[I]=C,new so(F,M)}addToIndexes(t,e){const i=(0,P.UI)(this.indexes_,(l,d)=>{const g=(0,P.DV)(this.indexSet_,d);if((0,P.hu)(g,"Missing index implementation for "+d),l===_s){if(g.isDefinedOn(t.node)){const C=[],I=e.getIterator(Ot.Wrap);let M=I.getNext();for(;M;)M.name!==t.name&&C.push(M),M=I.getNext();return C.push(t),ng(C,g.getCompare())}return _s}{const C=e.get(t.name);let I=l;return C&&(I=I.remove(new Ot(t.name,C))),I.insert(t,t.node)}});return new so(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,P.UI)(this.indexes_,l=>{if(l===_s)return l;{const d=e.get(t.name);return d?l.remove(new Ot(t.name,d)):l}});return new so(i,this.indexSet_)}}let df,wt=(()=>{class n{constructor(e,i,l){this.children_=e,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&w_(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return df||(df=new n(new gi(Xp),null,so.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||df}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?df:i}}getChild(e){const i=Rt(e);return null===i?this:this.getImmediateChild(i).getChild(Gt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,P.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const l=new Ot(e,i);let d,g;i.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(l,this.children_)):(d=this.children_.insert(e,i),g=this.indexMap_.addToIndexes(l,this.children_));const C=d.isEmpty()?df:this.priorityNode_;return new n(d,C,g)}}updateChild(e,i){const l=Rt(e);if(null===l)return i;{(0,P.hu)(".priority"!==Rt(e)||1===Xo(e),".priority must be the last token in a path");const d=this.getImmediateChild(l).updateChild(Gt(e),i);return this.updateImmediateChild(l,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let l=0,d=0,g=!0;if(this.forEachChild(sn,(C,I)=>{i[C]=I.val(e),l++,g&&n.INTEGER_REGEXP_.test(C)?d=Math.max(d,Number(C)):g=!1}),!e&&g&&d<2*l){const C=[];for(const I in i)C[I]=i[I];return C}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+l0(this.getPriority().val())+":"),this.forEachChild(sn,(i,l)=>{const d=l.hash();""!==d&&(e+=":"+i+":"+d)}),this.lazyHash_=""===e?"":r_(e)}return this.lazyHash_}getPredecessorChildName(e,i,l){const d=this.resolveIndex_(l);if(d){const g=d.getPredecessorKey(new Ot(e,i));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const l=i.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ot(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const l=i.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ot(i,this.children_.get(i)):null}forEachChild(e,i){const l=this.resolveIndex_(e);return l?l.inorderTraversal(d=>i(d.name,d.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Ot.Wrap);let g=d.peek();for(;null!=g&&i.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Ot.Wrap);let g=d.peek();for(;null!=g&&i.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zu?-1:0}withIndex(e){if(e===io||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===io||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const l=this.getIterator(sn),d=i.getIterator(sn);let g=l.getNext(),C=d.getNext();for(;g&&C;){if(g.name!==C.name||!g.node.equals(C.node))return!1;g=l.getNext(),C=d.getNext()}return null===g&&null===C}return!1}return!1}}resolveIndex_(e){return e===io?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Zu=new class h0 extends wt{constructor(){super(new gi(Xp),wt.EMPTY_NODE,so.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return wt.EMPTY_NODE}isEmpty(){return!1}};function ln(n,t=null){if(null===n)return wt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,P.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Cd(n,ln(t));if(n instanceof Array){let e=wt.EMPTY_NODE;return ur(n,(i,l)=>{if((0,P.r3)(n,i)&&"."!==i.substring(0,1)){const d=ln(l);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(i,d))}}),e.updatePriority(ln(t))}{const e=[];let i=!1;if(ur(n,(g,C)=>{if("."!==g.substring(0,1)){const I=ln(C);I.isEmpty()||(i=i||!I.getPriority().isEmpty(),e.push(new Ot(g,I)))}}),0===e.length)return wt.EMPTY_NODE;const d=ng(e,cb,g=>g.name,Xp);if(i){const g=ng(e,sn.getCompare());return new wt(d,ln(t),new so({".priority":g},{".priority":sn}))}return new wt(d,ln(t),so.Default)}}Object.defineProperties(Ot,{MIN:{value:new Ot(dl,wt.EMPTY_NODE)},MAX:{value:new Ot(Jo,Zu)}}),a0.__EMPTY_NODE=wt.EMPTY_NODE,Cd.__childrenNodeConstructor=wt,function db(n){eg=n}(Zu),function d0(n){tg=n}(Zu),function T_(n){c0=n}(ln);class M_ extends cf{constructor(t){super(),this.indexPath_=t,(0,P.hu)(!Tt(t)&&".priority"!==Rt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),l=this.extractChild(e.node),d=i.compareTo(l);return 0===d?Bu(t.name,e.name):d}makePost(t,e){const i=ln(t),l=wt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ot(e,l)}maxPost(){const t=wt.EMPTY_NODE.updateChild(this.indexPath_,Zu);return new Ot(Jo,t)}toString(){return uf(this.indexPath_,0).join("/")}}const hf=new class f0 extends cf{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Bu(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ot.MIN}maxPost(){return Ot.MAX}makePost(t,e){const i=ln(t);return new Ot(e,i)}toString(){return".value"}};function R_(n){return{type:"value",snapshotNode:n}}function zu(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Ed(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Dd(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class x_{constructor(t){this.index_=t}updateChild(t,e,i,l,d,g){(0,P.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const C=t.getImmediateChild(e);return C.getChild(l).equals(i.getChild(l))&&C.isEmpty()===i.isEmpty()||(null!=g&&(i.isEmpty()?t.hasChild(e)?g.trackChildChange(Ed(e,C)):(0,P.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):C.isEmpty()?g.trackChildChange(zu(e,i)):g.trackChildChange(Dd(e,i,C))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(sn,(l,d)=>{e.hasChild(l)||i.trackChildChange(Ed(l,d))}),e.isLeafNode()||e.forEachChild(sn,(l,d)=>{if(t.hasChild(l)){const g=t.getImmediateChild(l);g.equals(d)||i.trackChildChange(Dd(l,d,g))}else i.trackChildChange(zu(l,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?wt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ff{constructor(t){this.indexedFilter_=new x_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ff.getStartPost_(t),this.endPost_=ff.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,l,d,g){return this.matches(new Ot(e,i))||(i=wt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,l,d,g)}updateFullNode(t,e,i){e.isLeafNode()&&(e=wt.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(wt.EMPTY_NODE);const d=this;return e.forEachChild(sn,(g,C)=>{d.matches(new Ot(g,C))||(l=l.updateImmediateChild(g,wt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class gb{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ff(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,l,d,g){return this.rangedFilter_.matches(new Ot(e,i))||(i=wt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,l,d,g):this.fullLimitUpdateChild_(t,e,i,d,g)}updateFullNode(t,e,i){let l;if(e.isLeafNode()||e.isEmpty())l=wt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;l=wt.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;d.hasNext()&&g<this.limit_;){const C=d.getNext();if(this.withinDirectionalStart(C)){if(!this.withinDirectionalEnd(C))break;l=l.updateImmediateChild(C.name,C.node),g++}}}else{let d;l=e.withIndex(this.index_),l=l.updatePriority(wt.EMPTY_NODE),d=this.reverse_?l.getReverseIterator(this.index_):l.getIterator(this.index_);let g=0;for(;d.hasNext();){const C=d.getNext();g<this.limit_&&this.withinDirectionalStart(C)&&this.withinDirectionalEnd(C)?g++:l=l.updateImmediateChild(C.name,wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,l,d){let g;if(this.reverse_){const H=this.index_.getCompare();g=(X,Ie)=>H(Ie,X)}else g=this.index_.getCompare();const C=t;(0,P.hu)(C.numChildren()===this.limit_,"");const I=new Ot(e,i),M=this.reverse_?C.getFirstChild(this.index_):C.getLastChild(this.index_),F=this.rangedFilter_.matches(I);if(C.hasChild(e)){const H=C.getImmediateChild(e);let X=l.getChildAfterChild(this.index_,M,this.reverse_);for(;null!=X&&(X.name===e||C.hasChild(X.name));)X=l.getChildAfterChild(this.index_,X,this.reverse_);const Ie=null==X?1:g(X,I);if(F&&!i.isEmpty()&&Ie>=0)return d?.trackChildChange(Dd(e,i,H)),C.updateImmediateChild(e,i);{d?.trackChildChange(Ed(e,H));const st=C.updateImmediateChild(e,wt.EMPTY_NODE);return null!=X&&this.rangedFilter_.matches(X)?(d?.trackChildChange(zu(X.name,X.node)),st.updateImmediateChild(X.name,X.node)):st}}return i.isEmpty()?t:F&&g(M,I)>=0?(null!=d&&(d.trackChildChange(Ed(M.name,M.node)),d.trackChildChange(zu(e,i))),C.updateImmediateChild(e,i).updateImmediateChild(M.name,wt.EMPTY_NODE)):t}}class pf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sn}copy(){const t=new pf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function O_(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function P_(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function gf(n,t){const e=n.copy();return e.index_=t,e}function N_(n){const t={};if(n.isDefault())return t;let e;if(n.index_===sn?e="$priority":n.index_===hf?e="$value":n.index_===io?e="$key":((0,P.hu)(n.index_ instanceof M_,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,P.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,P.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,P.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,P.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,P.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function g0(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==sn&&(t.i=n.index_.toString()),t}class ig extends eb{constructor(t,e,i,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=l,this.log_=md("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,P.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,l){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const g=ig.getListenId_(t,i),C={};this.listens_[g]=C;const I=N_(t._queryParams);this.restRequest_(d+".json",I,(M,F)=>{let H=F;if(404===M&&(H=null,M=null),null===M&&this.onDataUpdate_(d,H,!1,i),(0,P.DV)(this.listens_,g)===C){let X;X=M?401===M?"permission_denied":"rest_error:"+M:"ok",l(X,null)}})}unlisten(t,e){const i=ig.getListenId_(t,e);delete this.listens_[i]}get(t){const e=N_(t._queryParams),i=t._path.toString(),l=new P.BH;return this.restRequest_(i+".json",e,(d,g)=>{let C=g;404===d&&(C=null,d=null),null===d?(this.onDataUpdate_(i,C,!1,null),l.resolve(C)):l.reject(new Error(C))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,d])=>{l&&l.accessToken&&(e.auth=l.accessToken),d&&d.token&&(e.ac=d.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,P.xO)(e);this.log_("Sending REST request for "+g);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(i&&4===C.readyState){this.log_("REST Response for "+g+" received. status:",C.status,"response:",C.responseText);let I=null;if(C.status>=200&&C.status<300){try{I=(0,P.cI)(C.responseText)}catch{wr("Failed to parse JSON response for "+g+": "+C.responseText)}i(null,I)}else 401!==C.status&&404!==C.status&&wr("Got unsuccessful REST response for "+g+" Status: "+C.status),i(C.status);i=null}},C.open("GET",g,!0),C.send()})}}class vb{constructor(){this.rootNode_=wt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function sg(){return{value:null,children:new Map}}function bd(n,t,e){if(Tt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Rt(t);n.children.has(i)||n.children.set(i,sg()),bd(n.children.get(i),t=Gt(t),e)}}function k_(n,t){if(Tt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(sn,(i,l)=>{bd(n,new Bt(i),l)}),k_(n,t)}}if(n.children.size>0){const e=Rt(t);return t=Gt(t),n.children.has(e)&&k_(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function F_(n,t,e){null!==n.value?e(t,n.value):function yb(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,l)=>{F_(l,new Bt(t.toString()+"/"+i),e)})}class mf{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ur(this.last_,(i,l)=>{e[i]=e[i]-l}),this.last_=t,e}}class v0{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new mf(t);const i=1e4+2e4*Math.random();vd(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;ur(t,(l,d)=>{d>0&&(0,P.r3)(this.statsToReport_,l)&&(e[l]=d,i=!0)}),i&&this.server_.reportStats(e),vd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Mi=(()=>{return(n=Mi||(Mi={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Mi;var n})();function y0(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class _f{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Mi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Tt(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Bt(t));return new _f($t(),e,this.revert)}}return(0,P.hu)(Rt(this.path)===t,"operationForChild called for unrelated child."),new _f(Gt(this.path),this.affectedTree,this.revert)}}class Id{constructor(t,e){this.source=t,this.path=e,this.type=Mi.LISTEN_COMPLETE}operationForChild(t){return Tt(this.path)?new Id(this.source,$t()):new Id(this.source,Gt(this.path))}}class qu{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Mi.OVERWRITE}operationForChild(t){return Tt(this.path)?new qu(this.source,$t(),this.snap.getImmediateChild(t)):new qu(this.source,Gt(this.path),this.snap)}}class wd{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Mi.MERGE}operationForChild(t){if(Tt(this.path)){const e=this.children.subtree(new Bt(t));return e.isEmpty()?null:e.value?new qu(this.source,$t(),e.value):new wd(this.source,$t(),e)}return(0,P.hu)(Rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new wd(this.source,Gt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class gl{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Tt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Rt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class vf{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Yu(n,t,e,i,l,d){const g=i.filter(C=>C.type===e);g.sort((C,I)=>function Eb(n,t,e){if(null==t.childName||null==e.childName)throw(0,P.g5)("Should only compare child_ events.");const i=new Ot(t.childName,t.snapshotNode),l=new Ot(e.childName,e.snapshotNode);return n.index_.compare(i,l)}(n,C,I)),g.forEach(C=>{const I=function oo(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,C,d);l.forEach(M=>{M.respondsTo(C.type)&&t.push(M.createEvent(I,n.query_))})})}function Td(n,t){return{eventCache:n,serverCache:t}}function ta(n,t,e,i){return Td(new gl(t,e,i),n.serverCache)}function C0(n,t,e,i){return Td(n.eventCache,new gl(t,e,i))}function ag(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ku(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Ad;class on{constructor(t,e=(()=>(Ad||(Ad=new gi(FD)),Ad))()){this.value=t,this.children=e}static fromObject(t){let e=new on(null);return ur(t,(i,l)=>{e=e.set(new Bt(i),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:$t(),value:this.value};if(Tt(t))return null;{const i=Rt(t),l=this.children.get(i);if(null!==l){const d=l.findRootMostMatchingPathAndValue(Gt(t),e);return null!=d?{path:vn(new Bt(i),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Tt(t))return this;{const e=Rt(t),i=this.children.get(e);return null!==i?i.subtree(Gt(t)):new on(null)}}set(t,e){if(Tt(t))return new on(e,this.children);{const i=Rt(t),d=(this.children.get(i)||new on(null)).set(Gt(t),e),g=this.children.insert(i,d);return new on(this.value,g)}}remove(t){if(Tt(t))return this.children.isEmpty()?new on(null):new on(null,this.children);{const e=Rt(t),i=this.children.get(e);if(i){const l=i.remove(Gt(t));let d;return d=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&d.isEmpty()?new on(null):new on(this.value,d)}return this}}get(t){if(Tt(t))return this.value;{const e=Rt(t),i=this.children.get(e);return i?i.get(Gt(t)):null}}setTree(t,e){if(Tt(t))return e;{const i=Rt(t),d=(this.children.get(i)||new on(null)).setTree(Gt(t),e);let g;return g=d.isEmpty()?this.children.remove(i):this.children.insert(i,d),new on(this.value,g)}}fold(t){return this.fold_($t(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((l,d)=>{i[l]=d.fold_(vn(t,l),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,$t(),e)}findOnPath_(t,e,i){const l=!!this.value&&i(e,this.value);if(l)return l;if(Tt(t))return null;{const d=Rt(t),g=this.children.get(d);return g?g.findOnPath_(Gt(t),vn(e,d),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,$t(),e)}foreachOnPath_(t,e,i){if(Tt(t))return this;{this.value&&i(e,this.value);const l=Rt(t),d=this.children.get(l);return d?d.foreachOnPath_(Gt(t),vn(e,l),i):new on(null)}}foreach(t){this.foreach_($t(),t)}foreach_(t,e){this.children.inorderTraversal((i,l)=>{l.foreach_(vn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class vs{constructor(t){this.writeTree_=t}static empty(){return new vs(new on(null))}}function Sd(n,t,e){if(Tt(t))return new vs(new on(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const l=i.path;let d=i.value;const g=Yr(l,t);return d=d.updateChild(g,e),new vs(n.writeTree_.set(l,d))}{const l=new on(e),d=n.writeTree_.setTree(t,l);return new vs(d)}}}function ug(n,t,e){let i=n;return ur(e,(l,d)=>{i=Sd(i,vn(t,l),d)}),i}function cg(n,t){if(Tt(t))return vs.empty();{const e=n.writeTree_.setTree(t,new on(null));return new vs(e)}}function dg(n,t){return null!=na(n,t)}function na(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Yr(e.path,t)):null}function hg(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(sn,(i,l)=>{t.push(new Ot(i,l))}):n.writeTree_.children.inorderTraversal((i,l)=>{null!=l.value&&t.push(new Ot(i,l.value))}),t}function ra(n,t){if(Tt(t))return n;{const e=na(n,t);return new vs(null!=e?new on(e):n.writeTree_.subtree(t))}}function yf(n){return n.writeTree_.isEmpty()}function ml(n,t){return E0($t(),n.writeTree_,t)}function E0(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((l,d)=>{".priority"===l?((0,P.hu)(null!==d.value,"Priority writes must always be leaf nodes"),i=d.value):e=E0(vn(n,l),d,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(vn(n,".priority"),i)),e}}function fg(n,t){return Md(t,n)}function b0(n,t){if(n.snap)return Yi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Yi(vn(n.path,e),t))return!0;return!1}function I0(n){return n.visible}function B_(n,t,e){let i=vs.empty();for(let l=0;l<n.length;++l){const d=n[l];if(t(d)){const g=d.path;let C;if(d.snap)Yi(e,g)?(C=Yr(e,g),i=Sd(i,C,d.snap)):Yi(g,e)&&(C=Yr(g,e),i=Sd(i,$t(),d.snap.getChild(C)));else{if(!d.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(Yi(e,g))C=Yr(e,g),i=ug(i,C,d.children);else if(Yi(g,e))if(C=Yr(g,e),Tt(C))i=ug(i,$t(),d.children);else{const I=(0,P.DV)(d.children,Rt(C));if(I){const M=I.getChild(Gt(C));i=Sd(i,$t(),M)}}}}}return i}function w0(n,t,e,i,l){if(i||l){const d=ra(n.visibleWrites,t);return!l&&yf(d)?e:l||null!=e||dg(d,$t())?ml(B_(n.allWrites,function(M){return(M.visible||l)&&(!i||!~i.indexOf(M.writeId))&&(Yi(M.path,t)||Yi(t,M.path))},t),e||wt.EMPTY_NODE):null}{const d=na(n.visibleWrites,t);if(null!=d)return d;{const g=ra(n.visibleWrites,t);return yf(g)?e:null!=e||dg(g,$t())?ml(g,e||wt.EMPTY_NODE):null}}}function ia(n,t,e,i){return w0(n.writeTree,n.treePath,t,e,i)}function $_(n,t){return function T0(n,t,e){let i=wt.EMPTY_NODE;const l=na(n.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(sn,(d,g)=>{i=i.updateImmediateChild(d,g)}),i;if(e){const d=ra(n.visibleWrites,t);return e.forEachChild(sn,(g,C)=>{const I=ml(ra(d,new Bt(g)),C);i=i.updateImmediateChild(g,I)}),hg(d).forEach(g=>{i=i.updateImmediateChild(g.name,g.node)}),i}return hg(ra(n.visibleWrites,t)).forEach(g=>{i=i.updateImmediateChild(g.name,g.node)}),i}(n.writeTree,n.treePath,t)}function R0(n,t,e,i){return function A0(n,t,e,i,l){(0,P.hu)(i||l,"Either existingEventSnap or existingServerSnap must exist");const d=vn(t,e);if(dg(n.visibleWrites,d))return null;{const g=ra(n.visibleWrites,d);return yf(g)?l.getChild(e):ml(g,l.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function H_(n,t){return function S0(n,t){return na(n.visibleWrites,t)}(n.writeTree,vn(n.treePath,t))}function pg(n,t,e){return function wb(n,t,e,i){const l=vn(t,e),d=na(n.visibleWrites,l);return null!=d?d:i.isCompleteForChild(e)?ml(ra(n.visibleWrites,l),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function j_(n,t){return Md(vn(n.treePath,t),n.writeTree)}function Md(n,t){return{treePath:n,writeTree:t}}class Tb{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,P.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(i);if(l){const d=l.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(i,Dd(i,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(i,Ed(i,l.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(i,zu(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,P.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(i,Dd(i,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const x0=new class G_{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class gg{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new gl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pg(this.writes_,t,i)}}getChildAfterChild(t,e,i){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ku(this.viewCache_),d=function nw(n,t,e,i,l,d){return function M0(n,t,e,i,l,d,g){let C;const I=ra(n.visibleWrites,t),M=na(I,$t());if(null!=M)C=M;else{if(null==e)return[];C=ml(I,e)}if(C=C.withIndex(g),C.isEmpty()||C.isLeafNode())return[];{const F=[],H=g.getCompare(),X=d?C.getReverseIteratorFrom(i,g):C.getIteratorFrom(i,g);let Ie=X.getNext();for(;Ie&&F.length<l;)0!==H(Ie,i)&&F.push(Ie),Ie=X.getNext();return F}}(n.writeTree,n.treePath,t,e,i,l,d)}(this.writes_,l,e,1,i,t);return 0===d.length?null:d[0]}}function Z_(n,t,e,i,l,d){const g=t.eventCache;if(null!=H_(i,e))return t;{let C,I;if(Tt(e))if((0,P.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const M=Ku(t),H=$_(i,M instanceof wt?M:wt.EMPTY_NODE);C=n.filter.updateFullNode(t.eventCache.getNode(),H,d)}else{const M=ia(i,Ku(t));C=n.filter.updateFullNode(t.eventCache.getNode(),M,d)}else{const M=Rt(e);if(".priority"===M){(0,P.hu)(1===Xo(e),"Can't have a priority with additional path components");const F=g.getNode();I=t.serverCache.getNode();const H=R0(i,e,F,I);C=null!=H?n.filter.updatePriority(F,H):g.getNode()}else{const F=Gt(e);let H;if(g.isCompleteForChild(M)){I=t.serverCache.getNode();const X=R0(i,e,g.getNode(),I);H=null!=X?g.getNode().getImmediateChild(M).updateChild(F,X):g.getNode().getImmediateChild(M)}else H=pg(i,M,t.serverCache);C=null!=H?n.filter.updateChild(g.getNode(),M,H,F,l,d):g.getNode()}}return ta(t,C,g.isFullyInitialized()||Tt(e),n.filter.filtersNodes())}}function Cf(n,t,e,i,l,d,g,C){const I=t.serverCache;let M;const F=g?n.filter:n.filter.getIndexedFilter();if(Tt(e))M=F.updateFullNode(I.getNode(),i,null);else if(F.filtersNodes()&&!I.isFiltered()){const Ie=I.getNode().updateChild(e,i);M=F.updateFullNode(I.getNode(),Ie,null)}else{const Ie=Rt(e);if(!I.isCompleteForPath(e)&&Xo(e)>1)return t;const ke=Gt(e),Et=I.getNode().getImmediateChild(Ie).updateChild(ke,i);M=".priority"===Ie?F.updatePriority(I.getNode(),Et):F.updateChild(I.getNode(),Ie,Et,ke,x0,null)}const H=C0(t,M,I.isFullyInitialized()||Tt(e),F.filtersNodes());return Z_(n,H,e,l,new gg(l,H,d),C)}function Rd(n,t,e,i,l,d,g){const C=t.eventCache;let I,M;const F=new gg(l,t,d);if(Tt(e))M=n.filter.updateFullNode(t.eventCache.getNode(),i,g),I=ta(t,M,!0,n.filter.filtersNodes());else{const H=Rt(e);if(".priority"===H)M=n.filter.updatePriority(t.eventCache.getNode(),i),I=ta(t,M,C.isFullyInitialized(),C.isFiltered());else{const X=Gt(e),Ie=C.getNode().getImmediateChild(H);let ke;if(Tt(X))ke=i;else{const st=F.getCompleteChild(H);ke=null!=st?".priority"===D_(X)&&st.getChild(e0(X)).isEmpty()?st:st.updateChild(X,i):wt.EMPTY_NODE}I=Ie.equals(ke)?t:ta(t,n.filter.updateChild(C.getNode(),H,ke,X,F,g),C.isFullyInitialized(),n.filter.filtersNodes())}}return I}function mg(n,t){return n.eventCache.isCompleteForChild(t)}function z_(n,t,e){return e.foreach((i,l)=>{t=t.updateChild(i,l)}),t}function q_(n,t,e,i,l,d,g,C){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let M,I=t;M=Tt(e)?i:new on(null).setTree(e,i);const F=t.serverCache.getNode();return M.children.inorderTraversal((H,X)=>{if(F.hasChild(H)){const ke=z_(0,t.serverCache.getNode().getImmediateChild(H),X);I=Cf(n,I,new Bt(H),ke,l,d,g,C)}}),M.children.inorderTraversal((H,X)=>{const Ie=!t.serverCache.isCompleteForChild(H)&&null===X.value;if(!F.hasChild(H)&&!Ie){const st=z_(0,t.serverCache.getNode().getImmediateChild(H),X);I=Cf(n,I,new Bt(H),st,l,d,g,C)}}),I}class P0{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,l=new x_(i.getIndex()),d=function ew(n){return n.loadsAllData()?new x_(n.getIndex()):n.hasLimit()?new gb(n):new ff(n)}(i);this.processor_=function Ab(n){return{filter:n}}(d);const g=e.serverCache,C=e.eventCache,I=l.updateFullNode(wt.EMPTY_NODE,g.getNode(),null),M=d.updateFullNode(wt.EMPTY_NODE,C.getNode(),null),F=new gl(I,g.isFullyInitialized(),l.filtersNodes()),H=new gl(M,C.isFullyInitialized(),d.filtersNodes());this.viewCache_=Td(H,F),this.eventGenerator_=new vf(this.query_)}get query(){return this.query_}}function xb(n,t){const e=Ku(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Tt(t)&&!e.getImmediateChild(Rt(t)).isEmpty())?e.getChild(t):null}function Ob(n){return 0===n.eventRegistrations_.length}function N0(n,t,e){const i=[];if(e){(0,P.hu)(null==t,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(d=>{const g=d.createCancelEvent(e,l);g&&i.push(g)})}if(t){let l=[];for(let d=0;d<n.eventRegistrations_.length;++d){const g=n.eventRegistrations_[d];if(g.matches(t)){if(t.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(d+1));break}}else l.push(g)}n.eventRegistrations_=l}else n.eventRegistrations_=[];return i}function k0(n,t,e,i){t.type===Mi.MERGE&&null!==t.source.queryId&&((0,P.hu)(Ku(n.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(ag(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,d=function Mb(n,t,e,i,l){const d=new Tb;let g,C;if(e.type===Mi.OVERWRITE){const M=e;M.source.fromUser?g=Rd(n,t,M.path,M.snap,i,l,d):((0,P.hu)(M.source.fromServer,"Unknown source."),C=M.source.tagged||t.serverCache.isFiltered()&&!Tt(M.path),g=Cf(n,t,M.path,M.snap,i,l,C,d))}else if(e.type===Mi.MERGE){const M=e;M.source.fromUser?g=function rw(n,t,e,i,l,d,g){let C=t;return i.foreach((I,M)=>{const F=vn(e,I);mg(t,Rt(F))&&(C=Rd(n,C,F,M,l,d,g))}),i.foreach((I,M)=>{const F=vn(e,I);mg(t,Rt(F))||(C=Rd(n,C,F,M,l,d,g))}),C}(n,t,M.path,M.children,i,l,d):((0,P.hu)(M.source.fromServer,"Unknown source."),C=M.source.tagged||t.serverCache.isFiltered(),g=q_(n,t,M.path,M.children,i,l,C,d))}else if(e.type===Mi.ACK_USER_WRITE){const M=e;g=M.revert?function Rb(n,t,e,i,l,d){let g;if(null!=H_(i,e))return t;{const C=new gg(i,t,l),I=t.eventCache.getNode();let M;if(Tt(e)||".priority"===Rt(e)){let F;if(t.serverCache.isFullyInitialized())F=ia(i,Ku(t));else{const H=t.serverCache.getNode();(0,P.hu)(H instanceof wt,"serverChildren would be complete if leaf node"),F=$_(i,H)}M=n.filter.updateFullNode(I,F,d)}else{const F=Rt(e);let H=pg(i,F,t.serverCache);null==H&&t.serverCache.isCompleteForChild(F)&&(H=I.getImmediateChild(F)),M=null!=H?n.filter.updateChild(I,F,H,Gt(e),C,d):t.eventCache.getNode().hasChild(F)?n.filter.updateChild(I,F,wt.EMPTY_NODE,Gt(e),C,d):I,M.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=ia(i,Ku(t)),g.isLeafNode()&&(M=n.filter.updateFullNode(M,g,d)))}return g=t.serverCache.isFullyInitialized()||null!=H_(i,$t()),ta(t,M,g,n.filter.filtersNodes())}}(n,t,M.path,i,l,d):function O0(n,t,e,i,l,d,g){if(null!=H_(l,e))return t;const C=t.serverCache.isFiltered(),I=t.serverCache;if(null!=i.value){if(Tt(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return Cf(n,t,e,I.getNode().getChild(e),l,d,C,g);if(Tt(e)){let M=new on(null);return I.getNode().forEachChild(io,(F,H)=>{M=M.set(new Bt(F),H)}),q_(n,t,e,M,l,d,C,g)}return t}{let M=new on(null);return i.foreach((F,H)=>{const X=vn(e,F);I.isCompleteForPath(X)&&(M=M.set(F,I.getNode().getChild(X)))}),q_(n,t,e,M,l,d,C,g)}}(n,t,M.path,M.affectedTree,i,l,d)}else{if(e.type!==Mi.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+e.type);g=function xd(n,t,e,i,l){const d=t.serverCache;return Z_(n,C0(t,d.getNode(),d.isFullyInitialized()||Tt(e),d.isFiltered()),e,i,x0,l)}(n,t,e.path,i,d)}const I=d.getChanges();return function W_(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const l=i.getNode().isLeafNode()||i.getNode().isEmpty(),d=ag(n);(e.length>0||!n.eventCache.isFullyInitialized()||l&&!i.getNode().equals(d)||!i.getNode().getPriority().equals(d.getPriority()))&&e.push(R_(ag(t)))}}(t,g,I),{viewCache:g,changes:I}}(n.processor_,l,t,e,i);return function Sb(n,t){(0,P.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,P.hu)(d.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,K_(n,d.changes,d.viewCache.eventCache.getNode(),null)}function K_(n,t,e,i){return function Cb(n,t,e,i){const l=[],d=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&d.push(function pb(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),Yu(n,l,"child_removed",t,i,e),Yu(n,l,"child_added",t,i,e),Yu(n,l,"child_moved",d,i,e),Yu(n,l,"child_changed",t,i,e),Yu(n,l,"value",t,i,e),l}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let _g,X_;class Q_{constructor(){this.views=new Map}}function vg(n,t,e,i){const l=t.source.queryId;if(null!==l){const d=n.views.get(l);return(0,P.hu)(null!=d,"SyncTree gave us an op for an invalid query."),k0(d,t,e,i)}{let d=[];for(const g of n.views.values())d=d.concat(k0(g,t,e,i));return d}}function U0(n,t,e,i,l){const g=n.views.get(t._queryIdentifier);if(!g){let C=ia(e,l?i:null),I=!1;C?I=!0:i instanceof wt?(C=$_(e,i),I=!1):(C=wt.EMPTY_NODE,I=!1);const M=Td(new gl(C,I,!1),new gl(i,l,!1));return new P0(t,M)}return g}function J_(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function sa(n,t){let e=null;for(const i of n.views.values())e=e||xb(i,t);return e}function $0(n,t){return t._queryParams.loadsAllData()?Ef(n):n.views.get(t._queryIdentifier)}function H0(n,t){return null!=$0(n,t)}function Qu(n){return null!=Ef(n)}function Ef(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let aw=1;class Fb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new on(null),this.pendingWriteTree_=function Kr(){return{visibleWrites:vs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function j0(n,t,e,i,l){return function Db(n,t,e,i,l){(0,P.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:l}),l&&(n.visibleWrites=Sd(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,l),l?Xu(n,new qu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ju(n,t,e=!1){const i=function D0(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function V_(n,t){const e=n.allWrites.findIndex(C=>C.writeId===t);(0,P.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let l=i.visible,d=!1,g=n.allWrites.length-1;for(;l&&g>=0;){const C=n.allWrites[g];C.visible&&(g>=e&&b0(C,i.path)?l=!1:Yi(i.path,C.path)&&(d=!0)),g--}return!!l&&(d?(function Ib(n){n.visibleWrites=B_(n.allWrites,I0,$t()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=cg(n.visibleWrites,i.path):ur(i.children,I=>{n.visibleWrites=cg(n.visibleWrites,vn(i.path,I))}),!0))}(n.pendingWriteTree_,t)){let d=new on(null);return null!=i.snap?d=d.set($t(),!0):ur(i.children,g=>{d=d.set(new Bt(g),!0)}),Xu(n,new _f(i.path,d,e))}return[]}function _l(n,t,e){return Xu(n,new qu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Df(n,t,e,i,l=!1){const d=t._path,g=n.syncPointTree_.get(d);let C=[];if(g&&("default"===t._queryIdentifier||H0(g,t))){const I=function B0(n,t,e,i){const l=t._queryIdentifier,d=[];let g=[];const C=Qu(n);if("default"===l)for(const[I,M]of n.views.entries())g=g.concat(N0(M,e,i)),Ob(M)&&(n.views.delete(I),M.query._queryParams.loadsAllData()||d.push(M.query));else{const I=n.views.get(l);I&&(g=g.concat(N0(I,e,i)),Ob(I)&&(n.views.delete(l),I.query._queryParams.loadsAllData()||d.push(I.query)))}return C&&!Qu(n)&&d.push(new(function Nb(){return(0,P.hu)(_g,"Reference.ts has not been loaded"),_g}())(t._repo,t._path)),{removed:d,events:g}}(g,t,e,i);(function kb(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const M=I.removed;if(C=I.events,!l){const F=-1!==M.findIndex(X=>X._queryParams.loadsAllData()),H=n.syncPointTree_.findOnPath(d,(X,Ie)=>Qu(Ie));if(F&&!H){const X=n.syncPointTree_.subtree(d);if(!X.isEmpty()){const Ie=function dw(n){return n.fold((t,e,i)=>{if(e&&Qu(e))return[Ef(e)];{let l=[];return e&&(l=J_(e)),ur(i,(d,g)=>{l=l.concat(g)}),l}})}(X);for(let ke=0;ke<Ie.length;++ke){const st=Ie[ke],Et=st.query,Cn=W0(n,st);n.listenProvider_.startListening(Tf(Et),wf(n,Et),Cn.hashFn,Cn.onComplete)}}}!H&&M.length>0&&!i&&(F?n.listenProvider_.stopListening(Tf(t),null):M.forEach(X=>{const Ie=n.queryToTagMap.get(ec(X));n.listenProvider_.stopListening(Tf(X),Ie)}))}!function Bb(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const l=ec(i),d=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(d)}}}(n,M)}return C}function ev(n,t,e,i){const l=tv(n,i);if(null!=l){const d=Z0(l),g=d.path,C=d.queryId,I=Yr(g,t);return z0(n,g,new qu(y0(C),I,e))}return[]}function bf(n,t,e,i=!1){const l=t._path;let d=null,g=!1;n.syncPointTree_.foreachOnPath(l,(X,Ie)=>{const ke=Yr(X,l);d=d||sa(Ie,ke),g=g||Qu(Ie)});let I,C=n.syncPointTree_.get(l);C?(g=g||Qu(C),d=d||sa(C,$t())):(C=new Q_,n.syncPointTree_=n.syncPointTree_.set(l,C)),null!=d?I=!0:(I=!1,d=wt.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((Ie,ke)=>{const st=sa(ke,$t());st&&(d=d.updateImmediateChild(Ie,st))}));const M=H0(C,t);if(!M&&!t._queryParams.loadsAllData()){const X=ec(t);(0,P.hu)(!n.queryToTagMap.has(X),"View does not exist, but we have a tag");const Ie=function $b(){return aw++}();n.queryToTagMap.set(X,Ie),n.tagToQueryMap.set(Ie,X)}let H=function V0(n,t,e,i,l,d){const g=U0(n,t,i,l,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function Pb(n,t){n.eventRegistrations_.push(t)}(g,e),function F0(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(sn,(d,g)=>{i.push(zu(d,g))}),e.isFullyInitialized()&&i.push(R_(e.getNode())),K_(n,i,e.getNode(),t)}(g,e)}(C,t,e,fg(n.pendingWriteTree_,l),d,I);if(!M&&!g&&!i){const X=$0(C,t);H=H.concat(function hw(n,t,e){const i=t._path,l=wf(n,t),d=W0(n,e),g=n.listenProvider_.startListening(Tf(t),l,d.hashFn,d.onComplete),C=n.syncPointTree_.subtree(i);if(l)(0,P.hu)(!Qu(C.value),"If we're adding a query, it shouldn't be shadowed");else{const I=C.fold((M,F,H)=>{if(!Tt(M)&&F&&Qu(F))return[Ef(F).query];{let X=[];return F&&(X=X.concat(J_(F).map(Ie=>Ie.query))),ur(H,(Ie,ke)=>{X=X.concat(ke)}),X}});for(let M=0;M<I.length;++M){const F=I[M];n.listenProvider_.stopListening(Tf(F),wf(n,F))}}return g}(n,t,X))}return H}function If(n,t,e){const l=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(g,C)=>{const M=sa(C,Yr(g,t));if(M)return M});return w0(l,t,d,e,!0)}function Xu(n,t){return Ub(t,n.syncPointTree_,null,fg(n.pendingWriteTree_,$t()))}function Ub(n,t,e,i){if(Tt(n.path))return Vb(n,t,e,i);{const l=t.get($t());null==e&&null!=l&&(e=sa(l,$t()));let d=[];const g=Rt(n.path),C=n.operationForChild(g),I=t.children.get(g);if(I&&C){const M=e?e.getImmediateChild(g):null,F=j_(i,g);d=d.concat(Ub(C,I,M,F))}return l&&(d=d.concat(vg(l,n,i,e))),d}}function Vb(n,t,e,i){const l=t.get($t());null==e&&null!=l&&(e=sa(l,$t()));let d=[];return t.children.inorderTraversal((g,C)=>{const I=e?e.getImmediateChild(g):null,M=j_(i,g),F=n.operationForChild(g);F&&(d=d.concat(Vb(F,C,I,M)))}),l&&(d=d.concat(vg(l,n,i,e))),d}function W0(n,t){const e=t.query,i=wf(n,e);return{hashFn:()=>(function Y_(n){return n.viewCache_.serverCache.getNode()}(t)||wt.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return i?function yg(n,t,e){const i=tv(n,e);if(i){const l=Z0(i),d=l.path,g=l.queryId,C=Yr(d,t);return z0(n,d,new Id(y0(g),C))}return[]}(n,e._path,i):function G0(n,t){return Xu(n,new Id({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function VD(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(l,e);return Df(n,e,null,d)}}}}function wf(n,t){const e=ec(t);return n.queryToTagMap.get(e)}function ec(n){return n._path.toString()+"$"+n._queryIdentifier}function tv(n,t){return n.tagToQueryMap.get(t)}function Z0(n){const t=n.indexOf("$");return(0,P.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Bt(n.substr(0,t))}}function z0(n,t,e){const i=n.syncPointTree_.get(t);return(0,P.hu)(i,"Missing sync point for query tag that we're tracking"),vg(i,e,fg(n.pendingWriteTree_,t),null)}function Tf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function ow(){return(0,P.hu)(X_,"Reference.ts has not been loaded"),X_}())(n._repo,n._path):n}class nv{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new nv(e)}node(){return this.node_}}class Cg{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=vn(this.path_,t);return new Cg(this.syncTree_,e)}node(){return If(this.syncTree_,this.path_)}}const Hb=function(n,t,e){return n&&"object"==typeof n?((0,P.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ys(n[".sv"],t,e):"object"==typeof n[".sv"]?jb(n[".sv"],t):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ys=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,P.hu)(!1,"Unexpected server value: "+n)},jb=function(n,t,e){n.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,P.hu)(!1,"Unexpected increment value: "+i);const l=t.node();if((0,P.hu)(null!==l&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return i;const g=l.getValue();return"number"!=typeof g?i:g+i},Eg=function(n,t,e,i){return Y0(t,new Cg(e,n),i)},rv=function(n,t,e){return Y0(n,new nv(t),e)};function Y0(n,t,e){const i=n.getPriority().val(),l=Hb(i,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const g=n,C=Hb(g.getValue(),t,e);return C!==g.getValue()||l!==g.getPriority().val()?new Cd(C,ln(l)):n}{const g=n;return d=g,l!==g.getPriority().val()&&(d=d.updatePriority(new Cd(l))),g.forEachChild(sn,(C,I)=>{const M=Y0(I,t.getImmediateChild(C),e);M!==I&&(d=d.updateImmediateChild(C,M))}),d}}class mi{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Dg(n,t){let e=t instanceof Bt?t:new Bt(t),i=n,l=Rt(e);for(;null!==l;){const d=(0,P.DV)(i.node.children,l)||{children:{},childCount:0};i=new mi(l,i,d),e=Gt(e),l=Rt(e)}return i}function oa(n){return n.node.value}function iv(n,t){n.node.value=t,bg(n)}function K0(n){return n.node.childCount>0}function Af(n,t){ur(n.node.children,(e,i)=>{t(new mi(e,n,i))})}function ov(n,t,e,i){e&&!i&&t(n),Af(n,l=>{ov(l,t,!0,i)}),e&&i&&t(n)}function Od(n){return new Bt(null===n.parent?n.name:Od(n.parent)+"/"+n.name)}function bg(n){null!==n.parent&&function Wb(n,t,e){const i=function sv(n){return void 0===oa(n)&&!K0(n)}(e),l=(0,P.r3)(n.node.children,t);i&&l?(delete n.node.children[t],n.node.childCount--,bg(n)):!i&&!l&&(n.node.children[t]=e.node,n.node.childCount++,bg(n))}(n.parent,n.name,n)}const Q0=/[\[\].#$\/\u0000-\u001F\u007F]/,Zb=/[\[\].#$\u0000-\u001F\u007F]/,Sf=10485760,Cs=function(n){return"string"==typeof n&&0!==n.length&&!Q0.test(n)},av=function(n){return"string"==typeof n&&0!==n.length&&!Zb.test(n)},Ri=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Xh(n)||n&&"object"==typeof n&&(0,P.r3)(n,".sv")},ao=function(n,t,e,i){i&&void 0===t||Ig((0,P.gK)(n,"value"),t,e)},Ig=function(n,t,e){const i=e instanceof Bt?new t0(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+pl(i));if("function"==typeof t)throw new Error(n+"contains a function "+pl(i)+" with contents = "+t.toString());if(Xh(t))throw new Error(n+"contains "+t.toString()+" "+pl(i));if("string"==typeof t&&t.length>Sf/3&&(0,P.ug)(t)>Sf)throw new Error(n+"contains a string greater than "+Sf+" utf8 bytes "+pl(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,d=!1;if(ur(t,(g,C)=>{if(".value"===g)l=!0;else if(".priority"!==g&&".sv"!==g&&(d=!0,!Cs(g)))throw new Error(n+" contains an invalid key ("+g+") "+pl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function sb(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,P.ug)(t),r0(n)})(i,g),Ig(n,C,i),function n0(n){const t=n.parts_.pop();n.byteLength_-=(0,P.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),l&&d)throw new Error(n+' contains ".value" child '+pl(i)+" in addition to actual children.")}},J0=function(n,t,e,i){if(i&&void 0===t)return;const l=(0,P.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const d=[];ur(t,(g,C)=>{const I=new Bt(g);if(Ig(l,C,vn(e,I)),".priority"===D_(I)&&!Ri(C))throw new Error(l+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(I)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const d=uf(i);for(let g=0;g<d.length;g++)if((".priority"!==d[g]||g!==d.length-1)&&!Cs(d[g]))throw new Error(n+"contains an invalid key ("+d[g]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ib);let l=null;for(e=0;e<t.length;e++){if(i=t[e],null!==l&&Yi(l,i))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+i.toString());l=i}}(l,d)},uv=function(n,t,e){if(!e||void 0!==t){if(Xh(t))throw new Error((0,P.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ri(t))throw new Error((0,P.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Mf=function(n,t,e,i){if(!(i&&void 0===e||Cs(e)))throw new Error((0,P.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Pd=function(n,t,e,i){if(!(i&&void 0===e||av(e)))throw new Error((0,P.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xi=function(n,t){if(".info"===Rt(t))throw new Error(n+" failed = Can't modify data under /.info/")},X0=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Cs(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),av(n)}(e))throw new Error((0,P.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class eE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cv(n,t){let e=null;for(let i=0;i<t.length;i++){const l=t[i],d=l.getPath();null!==e&&!Gu(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(l)}e&&n.eventLists_.push(e)}function wg(n,t,e){cv(n,e),dv(n,i=>Gu(i,t))}function _i(n,t,e){cv(n,e),dv(n,i=>Yi(i,t)||Yi(t,i))}function dv(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const l=n.eventLists_[i];l&&(t(l.path)?(tE(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function tE(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Qo&&er("event: "+e.toString()),_d(i)}}}const hv="repo_interrupt";class Tg{constructor(t,e,i,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sg(),this.transactionQueueTree_=new mi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fv(n){const e=n.infoData_.getNode(new Bt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Rf(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:fv(n)})}function rE(n,t,e,i,l){n.dataUpdateCount++;const d=new Bt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(l)if(i){const I=(0,P.UI)(e,M=>ln(M));g=function cw(n,t,e,i){const l=tv(n,i);if(l){const d=Z0(l),g=d.path,C=d.queryId,I=Yr(g,t),M=on.fromObject(e);return z0(n,g,new wd(y0(C),I,M))}return[]}(n.serverSyncTree_,d,I,l)}else{const I=ln(e);g=ev(n.serverSyncTree_,d,I,l)}else if(i){const I=(0,P.UI)(e,M=>ln(M));g=function uw(n,t,e){const i=on.fromObject(e);return Xu(n,new wd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,d,I)}else{const I=ln(e);g=_l(n.serverSyncTree_,d,I)}let C=d;g.length>0&&(C=vl(n,d)),_i(n.eventQueue_,C,g)}function qb(n,t){iE(n,"connected",t),!1===t&&function gw(n){tc(n,"onDisconnectEvents");const t=Rf(n),e=sg();F_(n.onDisconnect_,$t(),(l,d)=>{const g=Eg(l,d,n.serverSyncTree_,t);bd(e,l,g)});let i=[];F_(e,$t(),(l,d)=>{i=i.concat(_l(n.serverSyncTree_,l,d));const g=aE(n,l);vl(n,g)}),n.onDisconnect_=sg(),_i(n.eventQueue_,$t(),i)}(n)}function iE(n,t,e){const i=new Bt("/.info/"+t),l=ln(e);n.infoData_.updateSnapshot(i,l);const d=_l(n.infoSyncTree_,i,l);_i(n.eventQueue_,i,d)}function xf(n){return n.nextWriteId_++}function pv(n,t,e,i,l){tc(n,"set",{path:t.toString(),value:e,priority:i});const d=Rf(n),g=ln(e,i),C=If(n.serverSyncTree_,t),I=rv(g,C,d),M=xf(n),F=j0(n.serverSyncTree_,t,I,M,!0);cv(n.eventQueue_,F),n.server_.put(t.toString(),g.val(!0),(X,Ie)=>{const ke="ok"===X;ke||wr("set at "+t+" failed: "+X);const st=Ju(n.serverSyncTree_,M,!ke);_i(n.eventQueue_,t,st),vi(0,l,X,Ie)});const H=aE(n,t);vl(n,H),_i(n.eventQueue_,H,[])}function mw(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,l)=>{"ok"===i&&k_(n.onDisconnect_,t),vi(0,e,i,l)})}function Qb(n,t,e,i){const l=ln(e);n.server_.onDisconnectPut(t.toString(),l.val(!0),(d,g)=>{"ok"===d&&bd(n.onDisconnect_,t,l),vi(0,i,d,g)})}function Nd(n,t,e){let i;i=".info"===Rt(t._path)?Df(n.infoSyncTree_,t,e):Df(n.serverSyncTree_,t,e),wg(n.eventQueue_,t._path,i)}function sE(n){n.persistentConnection_&&n.persistentConnection_.interrupt(hv)}function tc(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),er(e,...t)}function vi(n,t,e,i){t&&_d(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let d=l;i&&(d+=": "+i);const g=new Error(d);g.code=l,t(g)}})}function Of(n,t,e){return If(n.serverSyncTree_,t,e)||wt.EMPTY_NODE}function kd(n,t=n.transactionQueueTree_){if(t||mv(n,t),oa(t)){const e=tI(n,t);(0,P.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function eI(n,t,e){const i=e.map(M=>M.currentWriteId),l=Of(n,t,i);let d=l;const g=l.hash();for(let M=0;M<e.length;M++){const F=e[M];(0,P.hu)(0===F.status,"tryToSendTransactionQueue_: items in queue should all be run."),F.status=1,F.retryCount++;const H=Yr(t,F.path);d=d.updateChild(H,F.currentOutputSnapshotRaw)}const C=d.val(!0),I=t;n.server_.put(I.toString(),C,M=>{tc(n,"transaction put response",{path:I.toString(),status:M});let F=[];if("ok"===M){const H=[];for(let X=0;X<e.length;X++)e[X].status=2,F=F.concat(Ju(n.serverSyncTree_,e[X].currentWriteId)),e[X].onComplete&&H.push(()=>e[X].onComplete(null,!0,e[X].currentOutputSnapshotResolved)),e[X].unwatcher();mv(n,Dg(n.transactionQueueTree_,t)),kd(n,n.transactionQueueTree_),_i(n.eventQueue_,t,F);for(let X=0;X<H.length;X++)_d(H[X])}else{if("datastale"===M)for(let H=0;H<e.length;H++)e[H].status=3===e[H].status?4:0;else{wr("transaction at "+I.toString()+" failed: "+M);for(let H=0;H<e.length;H++)e[H].status=4,e[H].abortReason=M}vl(n,t)}},g)}(n,Od(t),e)}else K0(t)&&Af(t,e=>{kd(n,e)})}function vl(n,t){const e=Pf(n,t),i=Od(e);return function gv(n,t,e){if(0===t.length)return;const i=[];let l=[];const g=t.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<t.length;C++){const I=t[C],M=Yr(e,I.path);let H,F=!1;if((0,P.hu)(null!==M,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)F=!0,H=I.abortReason,l=l.concat(Ju(n.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)F=!0,H="maxretry",l=l.concat(Ju(n.serverSyncTree_,I.currentWriteId,!0));else{const X=Of(n,I.path,g);I.currentInputSnapshot=X;const Ie=t[C].update(X.val());if(void 0!==Ie){Ig("transaction failed: Data returned ",Ie,I.path);let ke=ln(Ie);"object"==typeof Ie&&null!=Ie&&(0,P.r3)(Ie,".priority")||(ke=ke.updatePriority(X.getPriority()));const Et=I.currentWriteId,Cn=Rf(n),En=rv(ke,X,Cn);I.currentOutputSnapshotRaw=ke,I.currentOutputSnapshotResolved=En,I.currentWriteId=xf(n),g.splice(g.indexOf(Et),1),l=l.concat(j0(n.serverSyncTree_,I.path,En,I.currentWriteId,I.applyLocally)),l=l.concat(Ju(n.serverSyncTree_,Et,!0))}else F=!0,H="nodata",l=l.concat(Ju(n.serverSyncTree_,I.currentWriteId,!0))}_i(n.eventQueue_,e,l),l=[],F&&(t[C].status=2,setTimeout(t[C].unwatcher,Math.floor(0)),t[C].onComplete&&i.push("nodata"===H?()=>t[C].onComplete(null,!1,t[C].currentInputSnapshot):()=>t[C].onComplete(new Error(H),!1,null)))}mv(n,n.transactionQueueTree_);for(let C=0;C<i.length;C++)_d(i[C]);kd(n,n.transactionQueueTree_)}(n,tI(n,e),i),i}function Pf(n,t){let e,i=n.transactionQueueTree_;for(e=Rt(t);null!==e&&void 0===oa(i);)i=Dg(i,e),e=Rt(t=Gt(t));return i}function tI(n,t){const e=[];return nI(n,t,e),e.sort((i,l)=>i.order-l.order),e}function nI(n,t,e){const i=oa(t);if(i)for(let l=0;l<i.length;l++)e.push(i[l]);Af(t,l=>{nI(n,l,e)})}function mv(n,t){const e=oa(t);if(e){let i=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[i]=e[l],i++);e.length=i,iv(t,e.length>0?e:void 0)}Af(t,i=>{mv(n,i)})}function aE(n,t){const e=Od(Pf(n,t)),i=Dg(n.transactionQueueTree_,t);return function Gb(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,l=>{Sg(n,l)}),Sg(n,i),ov(i,l=>{Sg(n,l)}),e}function Sg(n,t){const e=oa(t);if(e){const i=[];let l=[],d=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,P.hu)(d===g-1,"All SENT items should be at beginning of queue."),d=g,e[g].status=3,e[g].abortReason="set"):((0,P.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),l=l.concat(Ju(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&i.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===d?iv(t,void 0):e.length=d+1,_i(n.eventQueue_,Od(t),l);for(let g=0;g<i.length;g++)_d(i[g])}}const _v=function(n,t){const e=sI(n),i=e.namespace;return"firebase.com"===e.domain&&gs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&gs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new nf(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Bt(e.pathString)}},sI=function(n){let t="",e="",i="",l="",d="",g=!0,C="https",I=443;if("string"==typeof n){let M=n.indexOf("//");M>=0&&(C=n.substring(0,M-1),n=n.substring(M+2));let F=n.indexOf("/");-1===F&&(F=n.length);let H=n.indexOf("?");-1===H&&(H=n.length),t=n.substring(0,Math.min(F,H)),F<H&&(l=function rI(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let l=e[i];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}(n.substring(F,H)));const X=function iI(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):wr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,H)));M=t.indexOf(":"),M>=0?(g="https"===C||"wss"===C,I=parseInt(t.substring(M+1),10)):M=t.length;const Ie=t.slice(0,M);if("localhost"===Ie.toLowerCase())e="localhost";else if(Ie.split(".").length<=2)e=Ie;else{const ke=t.indexOf(".");i=t.substring(0,ke).toLowerCase(),e=t.substring(ke+1),d=i}"ns"in X&&(d=X.ns)}return{host:t,port:I,domain:e,subdomain:i,secure:g,scheme:C,pathString:l,namespace:d}},vv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lE=function(){let n=0;const t=[];return function(e){const i=e===n;let l;n=e;const d=new Array(8);for(l=7;l>=0;l--)d[l]=vv.charAt(e%64),e=Math.floor(e/64);(0,P.hu)(0===e,"Cannot push at time == 0");let g=d.join("");if(i){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)g+=vv.charAt(t[l]);return(0,P.hu)(20===g.length,"nextPushId: Length should be 20."),g}}();class yv{constructor(t,e,i,l){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Wl)(this.snapshot.exportVal())}}class uE{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Cv{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Ev{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new P.BH;return mw(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){xi("OnDisconnect.remove",this._path);const t=new P.BH;return Qb(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){xi("OnDisconnect.set",this._path),ao("OnDisconnect.set",t,this._path,!1);const e=new P.BH;return Qb(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){xi("OnDisconnect.setWithPriority",this._path),ao("OnDisconnect.setWithPriority",t,this._path,!1),uv("OnDisconnect.setWithPriority",e,!1);const i=new P.BH;return function _w(n,t,e,i,l){const d=ln(e,i);n.server_.onDisconnectPut(t.toString(),d.val(!0),(g,C)=>{"ok"===g&&bd(n.onDisconnect_,t,d),vi(0,l,g,C)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){xi("OnDisconnect.update",this._path),J0("OnDisconnect.update",t,this._path,!1);const e=new P.BH;return function vw(n,t,e,i){if((0,P.xb)(e))return er("onDisconnect().update() called with empty data.  Don't do anything."),void vi(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(l,d)=>{"ok"===l&&ur(e,(g,C)=>{const I=ln(C);bd(n.onDisconnect_,vn(t,g),I)}),vi(0,i,l,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Lr{constructor(t,e,i,l){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=l}get key(){return Tt(this._path)?null:D_(this._path)}get ref(){return new Ki(this._repo,this._path)}get _queryIdentifier(){const t=g0(this._queryParams),e=i_(t);return"{}"===e?"default":e}get _queryObject(){return g0(this._queryParams)}isEqual(t){if(!((t=(0,P.m9)(t))instanceof Lr))return!1;const e=this._repo===t._repo,i=Gu(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function rb(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Dv(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function aa(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===io){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==dl)throw new Error(i);if("string"!=typeof t)throw new Error(l)}if(n.hasEnd()){if(n.getIndexEndName()!==Jo)throw new Error(i);if("string"!=typeof e)throw new Error(l)}}else if(n.getIndex()===sn){if(null!=t&&!Ri(t)||null!=e&&!Ri(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(n.getIndex()instanceof M_||n.getIndex()===hf,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Fd(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ki extends Lr{constructor(t,e){super(t,e,new pf,!1)}get parent(){const t=e0(this._path);return null===t?null:new Ki(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class nc{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Bt(t),i=rc(this.ref,t);return new nc(this._node.getChild(e),i,sn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,l)=>t(new nc(l,rc(this.ref,i),sn)))}hasChild(t){const e=new Bt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oI(n,t){return(n=(0,P.m9)(n))._checkNotDeleted("ref"),void 0!==t?rc(n._root,t):n._root}function aI(n,t){(n=(0,P.m9)(n))._checkNotDeleted("refFromURL");const e=_v(t,n._repo.repoInfo_.nodeAdmin);X0("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&gs("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),oI(n,e.path.toString())}function rc(n,t){return null===Rt((n=(0,P.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Pd("child","path",e,!1)):Pd("child","path",t,!1),new Ki(n._repo,vn(n._path,t));var e}function cE(n,t){n=(0,P.m9)(n),xi("set",n._path),ao("set",t,n._path,!1);const e=new P.BH;return pv(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function bw(n,t){J0("update",t,n._path,!1);const e=new P.BH;return function Kb(n,t,e,i){tc(n,"update",{path:t.toString(),value:e});let l=!0;const d=Rf(n),g={};if(ur(e,(C,I)=>{l=!1,g[C]=Eg(vn(t,C),ln(I),n.serverSyncTree_,d)}),l)er("update() called with empty data.  Don't do anything."),vi(0,i,"ok",void 0);else{const C=xf(n),I=function lw(n,t,e,i){!function bb(n,t,e,i){(0,P.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=ug(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const l=on.fromObject(e);return Xu(n,new wd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(n.serverSyncTree_,t,g,C);cv(n.eventQueue_,I),n.server_.merge(t.toString(),e,(M,F)=>{const H="ok"===M;H||wr("update at "+t+" failed: "+M);const X=Ju(n.serverSyncTree_,C,!H),Ie=X.length>0?vl(n,t):t;_i(n.eventQueue_,Ie,X),vi(0,i,M,F)}),ur(e,M=>{const F=aE(n,vn(t,M));vl(n,F)}),_i(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function uI(n){n=(0,P.m9)(n);const t=new Cv(()=>{}),e=new Mg(t);return function Yb(n,t,e){const i=function Lb(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(M,F)=>{const H=Yr(M,e);i=i||sa(F,H)});let l=n.syncPointTree_.get(e);l?i=i||sa(l,$t()):(l=new Q_,n.syncPointTree_=n.syncPointTree_.set(e,l));const d=null!=i,g=d?new gl(i,!0,!1):null;return function iw(n){return ag(n.viewCache_)}(U0(l,t,fg(n.pendingWriteTree_,t._path),d?g.getNode():wt.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(l=>{const d=ln(l).withIndex(t._queryParams.getIndex());let g;if(bf(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())g=_l(n.serverSyncTree_,t._path,d);else{const C=wf(n.serverSyncTree_,t);g=ev(n.serverSyncTree_,t._path,d,C)}return _i(n.eventQueue_,t._path,g),Df(n.serverSyncTree_,t,e,null,!0),d},l=>(tc(n,"get for query "+(0,P.Wl)(t)+" failed: "+l),Promise.reject(new Error(l))))}(n._repo,n,e).then(i=>new nc(i,new Ki(n._repo,n._path),n._queryParams.getIndex()))}class Mg{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new yv("value",this,new nc(t.snapshotNode,new Ki(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new uE(this,t,e):null}matches(t){return t instanceof Mg&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bv{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new uE(this,t,e):null}createEvent(t,e){(0,P.hu)(null!=t.childName,"Child events should have a childName.");const i=rc(new Ki(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new yv(t.type,this,new nc(t.snapshotNode,i,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof bv&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Rg(n,t,e,i,l){let d;if("object"==typeof i&&(d=void 0,l=i),"function"==typeof i&&(d=i),l&&l.onlyOnce){const I=e,M=(F,H)=>{Nd(n._repo,n,C),I(F,H)};M.userCallback=e.userCallback,M.context=e.context,e=M}const g=new Cv(e,d||void 0),C="value"===t?new Mg(g):new bv(t,g);return function Jb(n,t,e){let i;i=".info"===Rt(t._path)?bf(n.infoSyncTree_,t,e):bf(n.serverSyncTree_,t,e),wg(n.eventQueue_,t._path,i)}(n._repo,n,C),()=>Nd(n._repo,n,C)}function dE(n,t,e,i){return Rg(n,"value",t,e,i)}function cI(n,t,e,i){return Rg(n,"child_added",t,e,i)}function dI(n,t,e,i){return Rg(n,"child_changed",t,e,i)}function r(n,t,e,i){return Rg(n,"child_moved",t,e,i)}function s(n,t,e,i){return Rg(n,"child_removed",t,e,i)}function o(n,t,e){let i=null;const l=e?new Cv(e):null;"value"===t?i=new Mg(l):t&&(i=new bv(t,l)),Nd(n._repo,n,i)}class u{}class c extends u{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ao("endAt",this._value,t._path,!0);const e=P_(t._queryParams,this._value,this._key);if(Fd(e),aa(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lr(t._repo,t._path,e,t._orderByCalled)}}class _ extends u{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ao("endBefore",this._value,t._path,!1);const e=function _b(n,t,e){let i;return i=P_(n,t,n.index_===io||e?e:dl),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(Fd(e),aa(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lr(t._repo,t._path,e,t._orderByCalled)}}class E extends u{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ao("startAt",this._value,t._path,!0);const e=O_(t._queryParams,this._value,this._key);if(Fd(e),aa(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Lr(t._repo,t._path,e,t._orderByCalled)}}class S extends u{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ao("startAfter",this._value,t._path,!1);const e=function tw(n,t,e){let i;return i=O_(n,t,n.index_===io||e?e:Jo),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Fd(e),aa(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Lr(t._repo,t._path,e,t._orderByCalled)}}class G extends u{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lr(t._repo,t._path,function p0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class he extends u{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lr(t._repo,t._path,function mb(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Le extends u{constructor(t){super(),this._path=t}_apply(t){Dv(t,"orderByChild");const e=new Bt(this._path);if(Tt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new M_(e),l=gf(t._queryParams,i);return aa(l),new Lr(t._repo,t._path,l,!0)}}class ut extends u{_apply(t){Dv(t,"orderByKey");const e=gf(t._queryParams,io);return aa(e),new Lr(t._repo,t._path,e,!0)}}class Ct extends u{_apply(t){Dv(t,"orderByPriority");const e=gf(t._queryParams,sn);return aa(e),new Lr(t._repo,t._path,e,!0)}}class Fn extends u{_apply(t){Dv(t,"orderByValue");const e=gf(t._queryParams,hf);return aa(e),new Lr(t._repo,t._path,e,!0)}}class CT extends u{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ao("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new c(this._value,this._key)._apply(new E(this._value,this._key)._apply(t))}}function la(n,...t){let e=(0,P.m9)(n);for(const i of t)e=i._apply(e);return e}(function L0(n){(0,P.hu)(!_g,"__referenceConstructor has already been defined"),_g=n})(Ki),function sw(n){(0,P.hu)(!X_,"__referenceConstructor has already been defined"),X_=n}(Ki);const hI={};function Tw(n,t,e,i,l){let d=i||n.options.databaseURL;void 0===d&&(n.options.projectId||gs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),er("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let I,M,g=_v(d,l),C=g.repoInfo;typeof process<"u"&&process.env&&(M=process.env.FIREBASE_DATABASE_EMULATOR_HOST),M?(I=!0,d=`http://${M}?ns=${C.namespace}`,g=_v(d,l),C=g.repoInfo):I=!g.repoInfo.secure;const F=l&&I?new yd(yd.OWNER):new UC(n.name,n.options,t);X0("Invalid Firebase Database URL",g),Tt(g.path)||gs("Database URL must point to the root of a Firebase Database (not including a child path).");const H=function wT(n,t,e,i){let l=hI[t.name];l||(l={},hI[t.name]=l);let d=l[n.toURLString()];return d&&gs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new Tg(n,false,e,i),l[n.toURLString()]=d,d}(C,n,F,new LC(n.name,e));return new AT(H,n)}class AT{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ag(n,t,e){if(n.stats_=h_(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ig(n.repoInfo_,(i,l,d,g)=>{rE(n,i,l,d,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>qb(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new ea(n.repoInfo_,t,(i,l,d,g)=>{rE(n,i,l,d,g)},i=>{qb(n,i)},i=>{!function pw(n,t){ur(t,(e,i)=>{iE(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function jD(n,t){const e=n.toString();return rt[e]||(rt[e]=t()),rt[e]}(n.repoInfo_,()=>new v0(n.stats_,n.server_)),n.infoData_=new vb,n.infoSyncTree_=new Fb({startListening:(i,l,d,g)=>{let C=[];const I=n.infoData_.getNode(i._path);return I.isEmpty()||(C=_l(n.infoSyncTree_,i._path,I),setTimeout(()=>{g("ok")},0)),C},stopListening:()=>{}}),iE(n,"connected",!1),n.serverSyncTree_=new Fb({startListening:(i,l,d,g)=>(n.server_.listen(i,d,l,(C,I)=>{const M=g(C,I);_i(n.eventQueue_,i._path,M)}),[]),stopListening:(i,l)=>{n.server_.unlisten(i,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ki(this._repo,$t())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function IT(n,t){const e=hI[t];(!e||e[n.key]!==n)&&gs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),sE(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&gs("Cannot call "+t+" on a deleted database.")}}function Aw(){m_.IS_TRANSPORT_INITIALIZED&&wr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ST(){Aw(),fl.forceDisallow()}function MT(){Aw(),ju.forceDisallow(),fl.forceAllow()}function OT(n,t){Zp(n,t)}const NT={".sv":"timestamp"};class LT{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ea.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ea.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function PT(n){pd(ul.SDK_VERSION),(0,ul._registerComponent)(new Ir.wA("database",(t,{instanceIdentifier:e})=>Tw(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ul.registerVersion)(AC,"0.14.0",n),(0,ul.registerVersion)(AC,"0.14.0","esm2017")}();const $T=new Gp.Yd("@firebase/database-compat"),Mw=function(n){$T.warn("FIREBASE WARNING: "+n)};class GT{constructor(t){this._delegate=t}cancel(t){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),l=>e(l)),i}setWithPriority(t,e,i){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const l=this._delegate.setWithPriority(t,e);return i&&l.then(()=>i(null),d=>i(d)),l}update(t,e){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,Mw("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),l=>e(l)),i}}class WT{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ld{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Pd("DataSnapshot.child","path",t,!1),new Ld(this._database,this._delegate.child(t))}hasChild(t){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Pd("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Ld(this._database,e)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new Es(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Qr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,l){var d;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",e,!1);const g=Qr.getCancelAndContextArgs_("Query.on",i,l),C=(M,F)=>{e.call(g.context,new Ld(this.database,M),F)};C.userCallback=e,C.context=g.context;const I=null===(d=g.cancel)||void 0===d?void 0:d.bind(g.context);switch(t){case"value":return dE(this._delegate,C,I),e;case"child_added":return cI(this._delegate,C,I),e;case"child_removed":return s(this._delegate,C,I),e;case"child_changed":return dI(this._delegate,C,I),e;case"child_moved":return r(this._delegate,C,I),e;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,P.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,P.Wj)("Query.off","callback",e,!0),(0,P.lb)("Query.off","context",i,!0),e){const l=()=>{};l.userCallback=e,l.context=i,o(this._delegate,t,l)}else o(this._delegate,t)}get(){return uI(this._delegate).then(t=>new Ld(this.database,t))}once(t,e,i,l){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",e,!0);const d=Qr.getCancelAndContextArgs_("Query.once",i,l),g=new P.BH,C=(M,F)=>{const H=new Ld(this.database,M);e&&e.call(d.context,H,F),g.resolve(H)};C.userCallback=e,C.context=d.context;const I=M=>{d.cancel&&d.cancel.call(d.context,M),g.reject(M)};switch(t){case"value":dE(this._delegate,C,I,{onlyOnce:!0});break;case"child_added":cI(this._delegate,C,I,{onlyOnce:!0});break;case"child_removed":s(this._delegate,C,I,{onlyOnce:!0});break;case"child_changed":dI(this._delegate,C,I,{onlyOnce:!0});break;case"child_moved":r(this._delegate,C,I,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new Qr(this.database,la(this._delegate,function Q(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new G(n)}(t)))}limitToLast(t){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new Qr(this.database,la(this._delegate,function xe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new he(n)}(t)))}orderByChild(t){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new Qr(this.database,la(this._delegate,function je(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Pd("orderByChild","path",n,!1),new Le(n)}(t)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new Qr(this.database,la(this._delegate,function we(){return new ut}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new Qr(this.database,la(this._delegate,function yn(){return new Ct}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new Qr(this.database,la(this._delegate,function Iw(){return new Fn}()))}startAt(t=null,e){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new Qr(this.database,la(this._delegate,function w(n=null,t){return Mf("startAt","key",t,!0),new E(n,t)}(t,e)))}startAfter(t=null,e){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new Qr(this.database,la(this._delegate,function N(n,t){return Mf("startAfter","key",t,!0),new S(n,t)}(t,e)))}endAt(t=null,e){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new Qr(this.database,la(this._delegate,function f(n,t){return Mf("endAt","key",t,!0),new c(n,t)}(t,e)))}endBefore(t=null,e){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new Qr(this.database,la(this._delegate,function y(n,t){return Mf("endBefore","key",t,!0),new _(n,t)}(t,e)))}equalTo(t,e){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new Qr(this.database,la(this._delegate,function ET(n,t){return Mf("equalTo","key",t,!0),new CT(n,t)}(t,e)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Qr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const l={cancel:void 0,context:void 0};if(e&&i)l.cancel=e,(0,P.Wj)(t,"cancel",l.cancel,!0),l.context=i,(0,P.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,P.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new Es(this.database,new Ki(this._delegate._repo,this._delegate._path))}}class Es extends Qr{constructor(t,e){super(t,new Lr(e._repo,e._path,new pf,!1)),this.database=t,this._delegate=e}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Es(this.database,rc(this._delegate,t))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Es(this.database,t):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new Es(this.database,this._delegate.root)}set(t,e){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",e,!0);const i=cE(this._delegate,t);return e&&i.then(()=>e(null),l=>e(l)),i}update(t,e){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,Mw("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xi("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",e,!0);const i=bw(this._delegate,t);return e&&i.then(()=>e(null),l=>e(l)),i}setWithPriority(t,e,i){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",i,!0);const l=function Dw(n,t,e){if(xi("setWithPriority",n._path),ao("setWithPriority",t,n._path,!1),uv("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new P.BH;return pv(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&l.then(()=>i(null),d=>i(d)),l}remove(t){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",t,!0);const e=function Cw(n){return xi("remove",n._path),cE(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,P.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const l=function UT(n,t,e){var i;if(n=(0,P.m9)(n),xi("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const l=null===(i=e?.applyLocally)||void 0===i||i,d=new P.BH,C=dE(n,()=>{});return function oE(n,t,e,i,l,d){tc(n,"transaction on "+t);const g={path:t,update:e,onComplete:i,status:null,order:xC(),applyLocally:d,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},C=Of(n,t,void 0);g.currentInputSnapshot=C;const I=g.update(C.val());if(void 0===I)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{Ig("transaction failed: Data returned ",I,g.path),g.status=0;const M=Dg(n.transactionQueueTree_,t),F=oa(M)||[];let H;F.push(g),iv(M,F),"object"==typeof I&&null!==I&&(0,P.r3)(I,".priority")?(H=(0,P.DV)(I,".priority"),(0,P.hu)(Ri(H),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):H=(If(n.serverSyncTree_,t)||wt.EMPTY_NODE).getPriority().val();const X=Rf(n),Ie=ln(I,H),ke=rv(Ie,C,X);g.currentOutputSnapshotRaw=Ie,g.currentOutputSnapshotResolved=ke,g.currentWriteId=xf(n);const st=j0(n.serverSyncTree_,t,ke,g.currentWriteId,g.applyLocally);_i(n.eventQueue_,t,st),kd(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(I,M,F)=>{let H=null;I?d.reject(I):(H=new nc(F,new Ki(n._repo,n._path),sn),d.resolve(new LT(M,H)))},C,l),d.promise}(this._delegate,t,{applyLocally:i}).then(d=>new WT(d.committed,new Ld(this.database,d.snapshot)));return e&&l.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),l}setPriority(t,e){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Ew(n,t){n=(0,P.m9)(n),xi("setPriority",n._path),uv("setPriority",t,!1);const e=new P.BH;return pv(n._repo,vn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),l=>e(l)),i}push(t,e){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",e,!0);const i=function lI(n,t){n=(0,P.m9)(n),xi("push",n._path),ao("push",t,n._path,!0);const e=fv(n._repo),i=lE(e),l=rc(n,i),d=rc(n,i);let g;return g=null!=t?cE(d,t).then(()=>d):Promise.resolve(d),l.then=g.then.bind(g),l.catch=g.then.bind(g,void 0),l}(this._delegate,t),l=i.then(g=>new Es(this.database,g));e&&l.then(()=>e(null),g=>e(g));const d=new Es(this.database,i);return d.then=l.then.bind(l),d.catch=l.catch.bind(l,void 0),d}onDisconnect(){return xi("Reference.onDisconnect",this._delegate._path),new GT(new Ev(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Iv{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ST,forceLongPolling:MT}}useEmulator(t,e,i={}){!function Sw(n,t,e,i={}){(n=(0,P.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&gs("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let d;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&gs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new yd(yd.OWNER);else if(i.mockUserToken){const g="string"==typeof i.mockUserToken?i.mockUserToken:(0,P.Sg)(i.mockUserToken,n.app.options.projectId);d=new yd(g)}!function bT(n,t,e,i){n.repoInfo_=new nf(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(l,t,e,d)}(this._delegate,t,e,i)}ref(t){if((0,P.Dv)("database.ref",0,1,arguments.length),t instanceof Es){const e=aI(this._delegate,t.toString());return new Es(this,e)}{const e=oI(this._delegate,t);return new Es(this,e)}}refFromURL(t){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const i=aI(this._delegate,t);return new Es(this,i)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function RT(n){(n=(0,P.m9)(n))._checkNotDeleted("goOffline"),sE(n._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function xT(n){(n=(0,P.m9)(n))._checkNotDeleted("goOnline"),function Xb(n){n.persistentConnection_&&n.persistentConnection_.resume(hv)}(n._repo)}(this._delegate)}}Iv.ServerValue={TIMESTAMP:function kT(){return NT}(),increment:n=>function FT(n){return{".sv":{increment:n}}}(n)};var zT=Object.freeze({__proto__:null,initStandalone:function ZT({app:n,url:t,version:e,customAuthImpl:i,namespace:l,nodeAdmin:d=!1}){pd(e);const g=new Ir.zt("auth-internal",new Ir.H0("database-standalone"));return g.setComponent(new Ir.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Iv(Tw(n,g,void 0,t,d),n),namespace:l}}});const qT=Iv.ServerValue;!function YT(n){n.INTERNAL.registerComponent(new Ir.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new Iv(l,i)},"PUBLIC").setServiceProps({Reference:Es,Query:Qr,Database:Iv,DataSnapshot:Ld,enableLogging:OT,INTERNAL:zT,ServerValue:qT}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.0")}(ps.Z);var hE=O(5363),KT=O(6063);class QT extends Wo.x{constructor(t=1/0,e=1/0,i=KT.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:l,_timestampProvider:d,_windowTime:g}=this;e||(i.push(t),!l&&i.push(d.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:l}=this,d=l.slice();for(let g=0;g<d.length&&!t.closed;g+=i?1:2)t.next(d[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:l}=this,d=(l?1:2)*t;if(t<1/0&&d<i.length&&i.splice(0,i.length-d),!l){const g=e.now();let C=0;for(let I=1;I<i.length&&i[I]<=g;I+=2)C=I;C&&i.splice(0,C+1)}}}function Rw(n,t,e){let i,l=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:l=!1,scheduler:e}=n):i=n??1/0,(0,t_.B)({connector:()=>new QT(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}function xw(n,t){return(0,Th.m)(t)?Nn(()=>n,t):Nn(()=>n)}var fI=O(9468);O(259);const gI=new Map,Pw={activated:!1,tokenObservers:[]},nA={initialized:!1,enabled:!1};function Jr(n){return gI.get(n)||Object.assign({},Pw)}function pE(){return nA}class lA{constructor(t,e,i,l,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ll.Z)(function*(){e.stop();try{e.pending=new P.BH,yield function uA(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new P.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Oi=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kw(n){if(!Jr(n).activated)throw Oi.create("use-before-activation",{appName:n.name})}function vI(n,t){return yI.apply(this,arguments)}function yI(){return(yI=(0,ll.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const H=yield l.getHeartbeatsHeader();H&&(i["X-Firebase-Client"]=H)}const d={method:"POST",body:JSON.stringify(t),headers:i};let g,C;try{g=yield fetch(n,d)}catch(H){throw Oi.create("fetch-network-error",{originalErrorMessage:H?.message})}if(200!==g.status)throw Oi.create("fetch-status-error",{httpStatus:g.status});try{C=yield g.json()}catch(H){throw Oi.create("fetch-parse-error",{originalErrorMessage:H?.message})}const I=C.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const M=1e3*Number(I[1]),F=Date.now();return{token:C.token,expireTimeMillis:F+M,issuedAtTimeMillis:F}})).apply(this,arguments)}function fA(n,t){const{projectId:e,appId:i,apiKey:l}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${l}`,body:{debug_token:t}}}const wv="firebase-app-check-store";let _E=null;function Lw(){return _E||(_E=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var l;t(Oi.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(wv,{keyPath:"compositeKey"})}}catch(e){t(Oi.create("storage-open",{originalErrorMessage:e?.message}))}}),_E)}function CI(){return(CI=(0,ll.Z)(function*(n,t){const i=(yield Lw()).transaction(wv,"readwrite"),d=i.objectStore(wv).put({compositeKey:n,value:t});return new Promise((g,C)=>{d.onsuccess=I=>{g()},i.onerror=I=>{var M;C(Oi.create("storage-set",{originalErrorMessage:null===(M=I.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const Tv=new Gp.Yd("@firebase/app-check");function bI(n,t){return(0,P.hl)()?function _A(n,t){return function Uw(n,t){return CI.apply(this,arguments)}(function Bw(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Tv.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function $w(){return pE().enabled}function Hw(){return wI.apply(this,arguments)}function wI(){return(wI=(0,ll.Z)(function*(){const n=pE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bA={error:"UNKNOWN_ERROR"};function IA(n){return P.US.encodeString(JSON.stringify(n),!1)}function vE(n){return TI.apply(this,arguments)}function TI(){return(TI=(0,ll.Z)(function*(n,t=!1){const e=n.app;kw(e);const i=Jr(e);let d,l=i.token;if(l&&!xg(l)&&(i.token=void 0,l=void 0),!l){const I=yield i.cachedTokenPromise;I&&(xg(I)?l=I:yield bI(e,void 0))}if(!t&&l&&xg(l))return{token:l.token};let C,g=!1;if($w()){i.exchangeTokenPromise||(i.exchangeTokenPromise=vI(fA(e,yield Hw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),g=!0);const I=yield i.exchangeTokenPromise;return yield bI(e,I),i.token=I,{token:I.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),g=!0),l=yield Jr(e).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?Tv.warn(I.message):Tv.error(I),d=I}return l?d?C=xg(l)?{token:l.token,internalError:d}:Ww(d):(C={token:l.token},i.token=l,yield bI(e,l)):C=Ww(d),g&&Gw(e,C),C})).apply(this,arguments)}function SI(n,t){const e=Jr(n),i=e.tokenObservers.filter(l=>l.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function jw(n){const{app:t}=n,e=Jr(t);let i=e.tokenRefresher;i||(i=function wA(n){const{app:t}=n;return new lA((0,ll.Z)(function*(){let i;if(i=Jr(t).token?yield vE(n,!0):yield vE(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Jr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Gw(n,t){const e=Jr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function xg(n){return n.expireTimeMillis-Date.now()>0}function Ww(n){return{token:IA(bA),error:n}}class TA{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Jr(this.app);for(const e of t)SI(this.app,e.next);return Promise.resolve()}}const Xw="app-check-internal";!function BA(){(0,ul._registerComponent)(new Ir.wA("app-check",n=>function AA(n,t){return new TA(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Xw).initialize()})),(0,ul._registerComponent)(new Ir.wA(Xw,n=>function SA(n){return{getToken:t=>vE(n,t),addTokenListener:t=>function AI(n,t,e,i){const{app:l}=n,d=Jr(l);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:i,type:t}],d.token&&xg(d.token)){const C=d.token;Promise.resolve().then(()=>{e({token:C.token}),jw(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>jw(n))}(n,"INTERNAL",t),removeTokenListener:t=>SI(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ul.registerVersion)("@firebase/app-check","0.6.0")}();class OI{constructor(){return(0,qi.vb)("app-check")}}typeof window<"u"&&window;var WA=O(9260);const tT=new a.OlP("angularfire2.auth.use-emulator"),nT=new a.OlP("angularfire2.auth.settings"),rT=new a.OlP("angularfire2.auth.tenant-id"),iT=new a.OlP("angularfire2.auth.langugage-code"),sT=new a.OlP("angularfire2.auth.use-device-language"),oT=new a.OlP("angularfire.auth.persistence"),aT=(n,t,e,i,l,d,g,C)=>(0,fs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=t.runOutsideAngular(()=>n.auth());if(e&&I.useEmulator(...e),i&&(I.tenantId=i),I.languageCode=l,d&&I.useDeviceLanguage(),g)for(const[M,F]of Object.entries(g))I.settings[M]=F;return C&&I.setPersistence(C),I},[e,i,l,d,g,C]);let ua=(()=>{class n{constructor(e,i,l,d,g,C,I,M,F,H,X,Ie){const ke=new Wo.x,st=tt(void 0).pipe((0,hE.Q)(g.outsideAngular),Nn(()=>d.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,9169)))),(0,Ze.U)(()=>(0,fs.on)(e,d,i)),(0,Ze.U)(Et=>aT(Et,d,C,M,F,H,I,X)),Rw({bufferSize:1,refCount:!1}));if(function hc(n){return"server"===n}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{st.pipe(Zi()).subscribe();const Cn=st.pipe(Nn(Sn=>Sn.getRedirectResult().then(lo=>lo,()=>null)),qi.iC,Rw({bufferSize:1,refCount:!1})),En=st.pipe(Nn(Sn=>new _r.y(lo=>({unsubscribe:d.runOutsideAngular(()=>Sn.onAuthStateChanged(Uf=>lo.next(Uf),Uf=>lo.error(Uf),()=>lo.complete()))})))),Xr=st.pipe(Nn(Sn=>new _r.y(lo=>({unsubscribe:d.runOutsideAngular(()=>Sn.onIdTokenChanged(Uf=>lo.next(Uf),Uf=>lo.error(Uf),()=>lo.complete()))}))));this.authState=Cn.pipe(xw(En),(0,fI.R)(g.outsideAngular),(0,hE.Q)(g.insideAngular)),this.user=Cn.pipe(xw(Xr),(0,fI.R)(g.outsideAngular),(0,hE.Q)(g.insideAngular)),this.idToken=this.user.pipe(Nn(Sn=>Sn?(0,St.D)(Sn.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(Nn(Sn=>Sn?(0,St.D)(Sn.getIdTokenResult()):tt(null))),this.credential=(0,e_.T)(Cn,ke,this.authState.pipe(Qs(Sn=>!Sn))).pipe((0,Ze.U)(Sn=>Sn?.user?Sn:null),(0,fI.R)(g.outsideAngular),(0,hE.Q)(g.insideAngular))}return(0,fs.pX)(this,st,d,{spy:{apply:(Et,Cn,En)=>{(Et.startsWith("signIn")||Et.startsWith("createUser"))&&En.then(Xr=>ke.next(Xr))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fs.Dh),a.LFG(fs.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(qi.HU),a.LFG(tT,8),a.LFG(nT,8),a.LFG(rT,8),a.LFG(iT,8),a.LFG(sT,8),a.LFG(oT,8),a.LFG(OI,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function lT(n){return null==n}function uT(n){return"function"==typeof n.set}function cT(n,t){return uT(t)?t:n.ref(t)}function dT(n,t){if(function zA(n){return"string"==typeof n}(n))return t.stringCase();if(uT(n))return t.firebaseCase();if(function qA(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Av(n,t,e="on",i=wC.z){return new _r.y(l=>{let d=null;return d=n[e](t,(g,C)=>{i.schedule(()=>{l.next({snapshot:g,prevKey:C})}),"once"===e&&i.schedule(()=>l.complete())},g=>{i.schedule(()=>l.error(g))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,Ze.U)(l=>{const{snapshot:d,prevKey:g}=l;let C=null;return d.exists()&&(C=d.key),{type:t,payload:d,prevKey:g,key:C}}),(0,t_.B)())}function hT(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function QA(n,t){const{payload:e,prevKey:i,key:l}=t,d=hT(n,l),g=function KA(n,t){if(lT(t))return 0;{const e=hT(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let C=null;t.payload.forEach(I=>{const M={payload:I,type:"value",prevKey:C,key:I.key};return C=I.key,n=[...n,M],!1})}return n;case"child_added":if(d>-1){const C=n[d-1];(C&&C.key||null)!==i&&(n=n.filter(I=>I.payload.key!==e.key)).splice(g,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(C=>C.payload.key!==e.key);case"child_changed":return n.map(C=>C.payload.key===l?t:C);case"child_moved":if(d>-1){const C=n.splice(d,1)[0];return(n=n.slice()).splice(g,0,C),n}return n;default:return n}}function fT(n){return(lT(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function pT(n,t,e){return function YA(n,t,e){return Av(n,"value","once",e).pipe(Nn(i=>{const l=[tt(i)];return t.forEach(d=>l.push(Av(n,d,"on",e))),(0,e_.T)(...l).pipe(dm(QA,[]))}),function QI(n,t=_u.y){return n=n??TC,(0,Jn.e)((e,i)=>{let l,d=!0;e.subscribe((0,Dn.x)(i,g=>{const C=t(g);(d||!n(l,C))&&(d=!1,l=C,i.next(g))}))})}())}(n,t=fT(t),e)}function gT(n,t,e){const i=(t=fT(t)).map(l=>Av(n,l,"on",e));return(0,e_.T)(...i)}function mT(n,t){return function(i,l){return dT(i,{stringCase:()=>n.child(i)[t](l),firebaseCase:()=>i[t](l),snapshotCase:()=>i.ref[t](l)})}}function tS(n){return function(e){return e?dT(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function _T(n,t){return function(){return Av(n,"value","on",t)}}const iS=new a.OlP("angularfire2.realtimeDatabaseURL"),sS=new a.OlP("angularfire2.database.use-emulator");let CE=(()=>{class n{constructor(e,i,l,d,g,C,I,M,F,H,X,Ie,ke,st,Et){this.schedulers=C;const Cn=I,En=(0,fs.on)(e,g,i);M&&aT(En,g,F,X,Ie,ke,H,st),this.database=(0,fs.cc)(`${En.name}.database.${l}`,"AngularFireDatabase",En.name,()=>{const Xr=g.runOutsideAngular(()=>En.database(l||void 0));return Cn&&Xr.useEmulator(...Cn),Xr},[Cn])}list(e,i){const l=this.schedulers.ngZone.runOutsideAngular(()=>cT(this.database,e));let d=l;return i&&(d=i(l)),function nS(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:mT(i,"update"),set:mT(i,"set"),push:l=>i.push(l),remove:tS(i),snapshotChanges:l=>pT(n,l,e).pipe(qi.iC),stateChanges:l=>gT(n,l,e).pipe(qi.iC),auditTrail:l=>function JA(n,t,e){return function eS(n,t,e){return function XA(n,t){return Av(n,"value","on",t).pipe((0,Ze.U)(e=>{let i;return e.payload.forEach(l=>(i=l.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function ro(...n){const t=(0,$s.jO)(n);return(0,Jn.e)((e,i)=>{const l=n.length,d=new Array(l);let g=n.map(()=>!1),C=!1;for(let I=0;I<l;I++)(0,vr.Xf)(n[I]).subscribe((0,Dn.x)(i,M=>{d[I]=M,!C&&!g[I]&&(g[I]=!0,(C=g.every(_u.y))&&(g=null))},n_.Z));e.subscribe((0,Dn.x)(i,I=>{if(C){const M=[I,...d];i.next(t?t(...M):M)}}))})}(t),(0,Ze.U)(([l,d])=>{const g=l.lastKeyToLoad,C=d.map(I=>I.key);return{actions:d,lastKeyToLoad:g,loadedKeys:C}}),function PD(n){return(0,Jn.e)((t,e)=>{let i=!1,l=0;t.subscribe((0,Dn.x)(e,d=>(i||(i=!n(d,l++)))&&e.next(d)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,Ze.U)(l=>l.actions))}(n,gT(n,t).pipe(dm((l,d)=>[...l,d],[])),e)}(n,l,e).pipe(qi.iC),valueChanges:(l,d)=>pT(n,l,e).pipe((0,Ze.U)(C=>C.map(I=>d&&d.idField?Object.assign(Object.assign({},I.payload.val()),{[d.idField]:I.key}):I.payload.val())),qi.iC)}}(d,this)}object(e){return function rS(n,t){return{query:n,snapshotChanges:()=>_T(n,t.schedulers.outsideAngular)().pipe(qi.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>_T(n,t.schedulers.outsideAngular)().pipe(qi.iC,(0,Ze.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>cT(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fs.Dh),a.LFG(fs.xv,8),a.LFG(iS,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(qi.HU),a.LFG(sS,8),a.LFG(ua,8),a.LFG(tT,8),a.LFG(nT,8),a.LFG(rT,8),a.LFG(iT,8),a.LFG(sT,8),a.LFG(oT,8),a.LFG(OI,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oS=(()=>{class n{constructor(){WA.Z.registerVersion("angularfire",qi.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[CE]}),n})();const Nf=void 0,uS=["en-GB",[["a","p"],["am","pm"],Nf],[["am","pm"],Nf,Nf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Nf,"{1} 'at' {0}",Nf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"GBP","\xa3","British Pound",{JPY:["JP\xa5","\xa5"],USD:["US$","$"]},"ltr",function lS(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];class Ln{constructor(t,e,i){this.afAuth=t,this.router=e,this.db=i,this.persistenceSetting="local",this.currentUser=null,this.currentUserData=null,this.currentUserData$=new Dr(null),this.currentUserRoles$=new Dr(null),this.newUserRoles={client:!0,manager:!1,admin:!1,banned:!1},this.afAuth.authState.subscribe(l=>{this.currentUser=l,null==l?.uid?(this.currentUserData=null,this.currentUserData$.next(null),this.currentUserRoles$.next(null)):this.getUserData(l?.uid).subscribe(d=>{this.currentUserData=d,this.currentUserData$.next(d),this.currentUserRoles$.next(d?.roles?d?.roles:null)})})}getCurrentUserData$(){return this.currentUserData$}signUpUser(t,e){this.afAuth.createUserWithEmailAndPassword(t.email,e).then(i=>{null!=i.user?this.createUser(t,i.user).then(()=>{this.logInUser(t.email,e)}):window.alert("Couldn't create new user, error from Firebase")}).catch(i=>{window.alert(i.message)})}logInUser(t,e){return this.afAuth.setPersistence(this.persistenceSetting).then(()=>{this.afAuth.signInWithEmailAndPassword(t,e).then(i=>{this.router.navigate(["home"])}).catch(i=>{window.alert(i.message)})})}logOutUser(){return this.afAuth.signOut().then(()=>{this.router.navigate(["log-in"])})}getCurrentUserRoles$(){return this.currentUserRoles$}createUser(t,e){return this.db.object("/users/"+e.uid).set({firstName:t.firstName,lastName:t.lastName,email:t.email,roles:this.newUserRoles})}getUserData(t){return this.db.object("/users/"+t).valueChanges()}getAllUsersData(){return this.db.list("/users").snapshotChanges().pipe((0,Ze.U)(t=>t.map(e=>[e.key,e.payload.val()])))}updateUserRole(t,e,i){return this.db.object("/users/"+t+"/roles/"+e).set(i)}}Ln.\u0275fac=function(t){return new(t||Ln)(a.LFG(ua),a.LFG(_n),a.LFG(CE))},Ln.\u0275prov=a.Yz7({token:Ln,factory:Ln.\u0275fac,providedIn:"root"});class Og{constructor(t,e){this.fbAuth=t,this.router=e}canActivate(t,e){return this.fbAuth.getCurrentUserRoles$().pipe((0,Ze.U)(i=>!0===i?.admin||(this.router.navigate(["home"]),!1)))}}Og.\u0275fac=function(t){return new(t||Og)(a.LFG(Ln),a.LFG(_n))},Og.\u0275prov=a.Yz7({token:Og,factory:Og.\u0275fac,providedIn:"root"});class kf{constructor(t,e){this.fbAuth=t,this.router=e}canActivate(t,e){return this.fbAuth.getCurrentUserRoles$().pipe((0,Ze.U)(i=>!0===i?.client||(this.router.navigate(["home"]),!1)))}}kf.\u0275fac=function(t){return new(t||kf)(a.LFG(Ln),a.LFG(_n))},kf.\u0275prov=a.Yz7({token:kf,factory:kf.\u0275fac,providedIn:"root"});class Ff{constructor(t,e,i){this.fbAuth=t,this.router=e,this.afa=i}canActivate(t,e){return this.afa.authState.pipe((0,Ze.U)(i=>null===i||(this.router.navigate(["home"]),!1)))}}Ff.\u0275fac=function(t){return new(t||Ff)(a.LFG(Ln),a.LFG(_n),a.LFG(ua))},Ff.\u0275prov=a.Yz7({token:Ff,factory:Ff.\u0275fac,providedIn:"root"});class Lf{constructor(t,e){this.fbAuth=t,this.router=e}canActivate(t,e){return this.fbAuth.getCurrentUserRoles$().pipe((0,Ze.U)(i=>!0===i?.manager||(this.router.navigate(["home"]),!1)))}}Lf.\u0275fac=function(t){return new(t||Lf)(a.LFG(Ln),a.LFG(_n))},Lf.\u0275prov=a.Yz7({token:Lf,factory:Lf.\u0275fac,providedIn:"root"});class Pg{constructor(t,e,i){this.fbAuth=t,this.router=e,this.afa=i}canActivate(t,e){return this.afa.authState.pipe((0,Ze.U)(i=>null!==i||(this.router.navigate(["home"]),!1)))}}Pg.\u0275fac=function(t){return new(t||Pg)(a.LFG(Ln),a.LFG(_n),a.LFG(ua))},Pg.\u0275prov=a.Yz7({token:Pg,factory:Pg.\u0275fac,providedIn:"root"});class Ur{constructor(t,e,i){this.db=t,this.fbAuth=e,this.afa=i,this.tripsAndIds=[],this.currentUser=null,this.currentUserData=null,this.getTripsAndIds$().subscribe(l=>this.tripsAndIds=l),this.afa.authState.subscribe(l=>this.currentUser=l),this.fbAuth.getCurrentUserData$().subscribe(l=>this.currentUserData=l)}getTrips$(){return this.db.list("trips").valueChanges().pipe((0,Ze.U)(t=>t))}getTripsAndIds$(){return this.db.list("trips").snapshotChanges().pipe((0,Ze.U)(e=>e.map(i=>[i.payload.val(),i.key?i.key:null]).filter(i=>null!=i[1])))}getTrip$ById(t){return this.db.object("trips/"+t).valueChanges()}addTrip(t){if(null!=this.tripsAndIds?.find(i=>i[0].name==t.name))throw new Error("Trip with this title already exists!");return this.db.list("trips").push(t)}alterTrip(t,e){return this.db.object("trips/"+e).set(t)}deleteTrip(t){return this.db.object("trips/"+t).remove()}getCurrentUserPurchases$(){return this.db.list("/purchases/"+this.currentUser?.uid).valueChanges()}changeNumOfAvailableTickets(t,e){return this.db.object("/trips/"+t+"/freeSeats").query.ref.transaction(i=>{if(!(i<e))return i-e})}addPurchase(t,e){!this.currentUser?.uid||this.getTrip$ById(t).pipe(Zi()).subscribe(i=>{if(null==i||null==this.currentUser?.uid)return;let l={tripId:t,startDate:i.startDate,endDate:i.endDate,unitPrice:i.unitPrice,tickets:e,purchaseDate:(new Date).toISOString()};this.db.list("/purchases/"+this.currentUser.uid).push(l).then(d=>{d&&this.changeNumOfAvailableTickets(l.tripId,l.tickets)})})}getReviewsForTrip$(t){return this.db.list("/reviews/"+t).valueChanges()}getCurrentUsersReview(t){return void 0!==t&&this.currentUser?this.db.object("/reviews/"+t+"/"+this.currentUser.uid).valueChanges():null}addReviewForTrip(t,e,i){if(this.currentUserData?.roles.banned)return void window.alert("You cannot write reviews because your account has been banned! Contact with an administrator");if(!this.currentUser||!this.currentUserData)return;let l={nick:this.currentUserData?.firstName+" "+this.currentUserData?.lastName,rating:e,content:i,date:(new Date).toISOString()};this.db.object("/reviews/"+t+"/"+this.currentUser.uid).set(l).then(()=>{this.db.object("/trips/"+t+"/ratings/"+e).query.ref.transaction(d=>d+1)})}}Ur.\u0275fac=function(t){return new(t||Ur)(a.LFG(CE),a.LFG(Ln),a.LFG(ua))},Ur.\u0275prov=a.Yz7({token:Ur,factory:Ur.\u0275fac,providedIn:"root"});class ca{constructor(t,e,i){this.fbData=t,this.fbAuth=e,this.currentUserRoles=null,this.tripsAndIds=[],this.reservations=[],this.reservations$=new Dr(this.reservations),this.sumOfReservationsMoney=0,this.sumOfReservationsNum=0,this.sumOfReservationsMoney$=new Dr(this.sumOfReservationsMoney),this.sumOfReservationsNum$=new Dr(this.sumOfReservationsNum),this.fbData.getTripsAndIds$().subscribe(l=>this.tripsAndIds=l),i.authState.subscribe(l=>{this.clearBasket()}),e.getCurrentUserRoles$().subscribe(l=>this.currentUserRoles=l)}getTripReservations(t){if(null==t||null==t)return 0;let e=this.reservations.find(i=>i.tripId==t);return null==e?0:e.tickets}getReservations$(){return this.reservations$}findReservation(t){return this.reservations.find(e=>e.tripId==t)}addReservation(t){if(!this.currentUserRoles?.client)throw new Error("Cannot add trips to basket, because you don't have 'client' role");let e=this.findReservation(t);null==e?this.reservations.push({tripId:t,tickets:1}):e.tickets++,this.updateEverything()}removeReservation(t){let e=this.findReservation(t);if(null!=e){if(1==e.tickets){let i=this.reservations.indexOf(e);this.reservations.splice(i,1)}else e.tickets--;this.updateEverything()}}updateEverything(){this.reservations$.next(this.reservations),this.sumOfReservationsMoney=this.getSumOfReservationsMoney(),this.sumOfReservationsNum=this.getSumOfReservationsNum(),this.sumOfReservationsMoney$.next(this.sumOfReservationsMoney),this.sumOfReservationsNum$.next(this.sumOfReservationsNum)}getSumOfReservationsMoney(){let t=0;return this.reservations.forEach(e=>{let i=this.tripsAndIds.find(l=>l[1]==e.tripId)?.[0].unitPrice;null!=i&&(t+=i*e.tickets)}),t}getSumOfReservationsNum(){let t=0;return this.reservations.forEach(e=>t+=e.tickets),t}getSumOfReservationsMoney$(){return this.sumOfReservationsMoney$}getSumOfReservationsNum$(){return this.sumOfReservationsNum$}buyTickets(){this.reservations.forEach(t=>{this.fbData.addPurchase(t.tripId,t.tickets)}),this.clearBasket()}clearBasket(){this.reservations=[],this.updateEverything()}}function cS(n,t){1&n&&(a.TgZ(0,"a",18),a._uU(1,"ADMIN PANEL"),a.qZA())}function dS(n,t){1&n&&(a.TgZ(0,"a",19),a._uU(1,"MANAGER PANEL"),a.qZA())}function hS(n,t){1&n&&(a.TgZ(0,"a",20),a._uU(1,"HISTORY"),a.qZA())}function fS(n,t){if(1&n&&(a.TgZ(0,"a",21)(1,"div",22)(2,"div",23),a._uU(3),a.qZA()()()),2&n){const e=a.oxw();a.xp6(3),a.Oqu(e.basket.getSumOfReservationsNum())}}function pS(n,t){if(1&n&&(a.TgZ(0,"a",24),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("\u{1f464} ",(null==e.currUserData?null:e.currUserData.firstName)+" "+(null==e.currUserData?null:e.currUserData.lastName),"")}}function gS(n,t){if(1&n&&(a.TgZ(0,"a",25),a._uU(1,"LOG IN"),a.qZA()),2&n){const e=a.oxw();a.Q6J("ngClass",e.burgerEnabled?"":"log-in-out-register")}}function mS(n,t){if(1&n&&(a.TgZ(0,"a",26),a._uU(1,"REGISTER"),a.qZA()),2&n){const e=a.oxw();a.Q6J("ngClass",e.burgerEnabled?"":"log-in-out-register")}}function _S(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"a",27),a.NdJ("click",function(){a.CHM(e);const l=a.oxw();return a.KtG(l.logOut())}),a._uU(1,"LOG OUT"),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("ngClass",e.burgerEnabled?"":"log-in-out-register")}}function vS(n,t){1&n&&(a.TgZ(0,"a",18)(1,"p"),a._uU(2,"ADMIN PANEL"),a.qZA()())}function yS(n,t){1&n&&(a.TgZ(0,"a",19)(1,"p"),a._uU(2,"MANAGER PANEL"),a.qZA()())}function CS(n,t){1&n&&(a.TgZ(0,"a",20)(1,"p"),a._uU(2,"HISTORY"),a.qZA()())}function ES(n,t){if(1&n&&(a.TgZ(0,"a",21)(1,"div",28)(2,"div",23),a._uU(3),a.qZA()()()),2&n){const e=a.oxw();a.xp6(3),a.Oqu(e.basket.getSumOfReservationsNum())}}function DS(n,t){if(1&n&&(a.TgZ(0,"a",24)(1,"div"),a._uU(2,"\u{1f464}"),a.qZA(),a.TgZ(3,"div"),a._uU(4),a.qZA(),a.TgZ(5,"div"),a._uU(6),a.qZA()()),2&n){const e=a.oxw();a.xp6(4),a.Oqu(null==e.currUserData?null:e.currUserData.firstName),a.xp6(2),a.Oqu(null==e.currUserData?null:e.currUserData.lastName)}}function bS(n,t){if(1&n&&(a.TgZ(0,"a",25)(1,"p"),a._uU(2,"LOG IN"),a.qZA()()),2&n){const e=a.oxw();a.Q6J("ngClass",e.burgerEnabled?"":"log-in-out-register")}}function IS(n,t){if(1&n&&(a.TgZ(0,"a",26)(1,"p"),a._uU(2,"REGISTER"),a.qZA()()),2&n){const e=a.oxw();a.Q6J("ngClass",e.burgerEnabled?"":"log-in-out-register")}}function wS(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"a",27),a.NdJ("click",function(){a.CHM(e);const l=a.oxw();return a.KtG(l.logOut())}),a.TgZ(1,"p"),a._uU(2,"LOG OUT"),a.qZA()()}if(2&n){const e=a.oxw();a.Q6J("ngClass",e.burgerEnabled?"":"log-in-out-register")}}ca.\u0275fac=function(t){return new(t||ca)(a.LFG(Ur),a.LFG(Ln),a.LFG(ua))},ca.\u0275prov=a.Yz7({token:ca,factory:ca.\u0275fac,providedIn:"root"});class Sv{constructor(t,e,i,l){this.router=t,this.basket=e,this.fbAuth=i,this.afa=l,this.burgerEnabled=!1,this.burgerToggled=!1,this.currUser=null,this.currUserData=null,this.currUserRoles=null,this.onResize(),i.getCurrentUserData$().subscribe(d=>{this.currUserData=d}),l.authState.subscribe(d=>{this.currUser=d}),i.getCurrentUserRoles$().subscribe(d=>{this.currUserRoles=d})}toggleburger(){this.burgerToggled=!this.burgerToggled}route(t){this.burgerToggled=!1,this.router.navigate([t])}onResize(){window.innerWidth<800?this.burgerEnabled=!0:(this.burgerEnabled=!1,this.burgerToggled=!1)}logOut(){this.fbAuth.logOutUser()}}Sv.\u0275fac=function(t){return new(t||Sv)(a.Y36(_n),a.Y36(ca),a.Y36(Ln),a.Y36(ua))},Sv.\u0275cmp=a.Xpm({type:Sv,selectors:[["app-nav-bar"]],hostBindings:function(t,e){1&t&&a.NdJ("resize",function(l){return e.onResize(l)},!1,a.Jf7)},decls:37,vars:22,consts:[["id","flex-nav"],["id","company-logo","routerLink","/home"],["id","flex-bar",3,"ngClass"],["routerLink","/admin-panel",4,"ngIf"],["routerLink","/home"],["routerLink","/trips-list"],["routerLink","/manager-panel",4,"ngIf"],["routerLink","/history",4,"ngIf"],["routerLink","/basket",4,"ngIf"],["routerLink","/user-info",4,"ngIf"],["routerLink","/log-in",3,"ngClass",4,"ngIf"],["routerLink","/register",3,"ngClass",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["id","burger",3,"ngClass","click"],[3,"ngClass"],[1,"burger-menu-position"],["id","burger-menu",3,"ngClass"],["id","burger-menu-flex",3,"click"],["routerLink","/admin-panel"],["routerLink","/manager-panel"],["routerLink","/history"],["routerLink","/basket"],[1,"basket-div",2,"background-image","url(assets/imgs/basket-64x64.png)"],[1,"basket-counter"],["routerLink","/user-info"],["routerLink","/log-in",3,"ngClass"],["routerLink","/register",3,"ngClass"],[3,"ngClass","click"],[1,"basket-div"]],template:function(t,e){1&t&&(a.TgZ(0,"nav",0)(1,"a",1),a._uU(2,"FlyAway"),a.qZA(),a.TgZ(3,"nav",2),a.YNc(4,cS,2,0,"a",3),a.TgZ(5,"a",4),a._uU(6,"HOME"),a.qZA(),a.TgZ(7,"a",5),a._uU(8,"TRIPS"),a.qZA(),a.YNc(9,dS,2,0,"a",6),a.YNc(10,hS,2,0,"a",7),a.YNc(11,fS,4,1,"a",8),a.YNc(12,pS,2,1,"a",9),a.YNc(13,gS,2,1,"a",10),a.YNc(14,mS,2,1,"a",11),a.YNc(15,_S,2,1,"a",12),a.qZA(),a.TgZ(16,"div",13),a.NdJ("click",function(){return e.toggleburger()}),a._UZ(17,"div",14)(18,"div",14)(19,"div",14),a.qZA()(),a.TgZ(20,"nav",15)(21,"div",16)(22,"div",17),a.NdJ("click",function(){return e.toggleburger()}),a.YNc(23,vS,3,0,"a",3),a.TgZ(24,"a",4)(25,"p"),a._uU(26,"HOME"),a.qZA()(),a.TgZ(27,"a",5)(28,"p"),a._uU(29,"TRIPS"),a.qZA()(),a.YNc(30,yS,3,0,"a",6),a.YNc(31,CS,3,0,"a",7),a.YNc(32,ES,4,1,"a",8),a.YNc(33,DS,7,2,"a",9),a.YNc(34,bS,3,1,"a",10),a.YNc(35,IS,3,1,"a",11),a.YNc(36,wS,3,1,"a",12),a.qZA()()()),2&t&&(a.xp6(3),a.Q6J("ngClass",e.burgerEnabled?"hide-flex-bar":"show-flex-bar"),a.xp6(1),a.Q6J("ngIf",1==(null==e.currUserRoles?null:e.currUserRoles.admin)),a.xp6(5),a.Q6J("ngIf",1==(null==e.currUserRoles?null:e.currUserRoles.manager)),a.xp6(1),a.Q6J("ngIf",1==(null==e.currUserRoles?null:e.currUserRoles.client)),a.xp6(1),a.Q6J("ngIf",1==(null==e.currUserRoles?null:e.currUserRoles.client)),a.xp6(1),a.Q6J("ngIf",null!=e.currUser),a.xp6(1),a.Q6J("ngIf",null==e.currUser),a.xp6(1),a.Q6J("ngIf",null==e.currUser),a.xp6(1),a.Q6J("ngIf",null!=e.currUser),a.xp6(1),a.Q6J("ngClass",e.burgerEnabled?"show-hambuger":"hide-burger"),a.xp6(1),a.Q6J("ngClass",e.burgerToggled?"line1":""),a.xp6(1),a.Q6J("ngClass",e.burgerToggled?"line2":""),a.xp6(1),a.Q6J("ngClass",e.burgerToggled?"line3":""),a.xp6(2),a.Q6J("ngClass",e.burgerToggled?"show-burger-menu":"hide-burger-menu"),a.xp6(2),a.Q6J("ngIf",1==(null==e.currUserRoles?null:e.currUserRoles.admin)),a.xp6(7),a.Q6J("ngIf",1==(null==e.currUserRoles?null:e.currUserRoles.manager)),a.xp6(1),a.Q6J("ngIf",1==(null==e.currUserRoles?null:e.currUserRoles.client)),a.xp6(1),a.Q6J("ngIf",1==(null==e.currUserRoles?null:e.currUserRoles.client)),a.xp6(1),a.Q6J("ngIf",null!=e.currUser),a.xp6(1),a.Q6J("ngIf",null==e.currUser),a.xp6(1),a.Q6J("ngIf",null==e.currUser),a.xp6(1),a.Q6J("ngIf",null!=e.currUser))},dependencies:[$r,xt,no],styles:["a[_ngcontent-%COMP%], #burger-menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], #notifications[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-radius:5px;transition:.5s all}#flex-nav[_ngcontent-%COMP%]{background-color:var(--color-prim);width:100%;display:flex;align-items:center;justify-content:space-between}#flex-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}#flex-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover{background-color:var(--color-prim-dark);box-shadow:5px 5px 5px var(--color-prim-dark)}.show-flex-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:20px;margin:0 5px}.hide-flex-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:0;margin:0;display:none}#company-logo[_ngcontent-%COMP%]{text-decoration:none;font-family:Courier New,Courier,monospace;font-size:2em;border-radius:5px;padding:15px;margin:15px;transition:all .5s}#company-logo[_ngcontent-%COMP%]:hover{box-shadow:5px 5px 5px var(--color-prim-dark);background-color:var(--color-prim-dark)}.log-in-out-register[_ngcontent-%COMP%]{border:3px solid var(--color-prim-dark);border-radius:30px}#burger[_ngcontent-%COMP%]{position:absolute;top:1em;right:2em;width:3em;height:3.5em;transition:font-size 1s}.show-burger[_ngcontent-%COMP%]{font-size:medium}.hide-burger[_ngcontent-%COMP%]{font-size:0px}#burger[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;width:3em;height:.5em;border-radius:3px;background-color:#000;margin-top:.5em;transition:all 1s}.burger-menu-position[_ngcontent-%COMP%]{position:absolute;width:0px;height:0px}#burger-menu[_ngcontent-%COMP%]{position:relative;z-index:1;width:100vw;height:200vh;transition:transform 1s,background-color 1.5s}#burger-menu-flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}#burger-menu-flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;background-color:var(--color-prim);width:150px;aspect-ratio:1 / .75;padding:10px;margin:10px;border-radius:10px}#burger-menu-flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover{background-color:var(--color-prim-dark);box-shadow:5px 5px 5px gray}#burger-menu-flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:1.5em}.hide-burger-menu[_ngcontent-%COMP%]{transform:translate(-150%)}.show-burger-menu[_ngcontent-%COMP%]{transform:translate(0);background-color:#646464e6}#toggle[_ngcontent-%COMP%]{display:none}.line1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-.9em,.6em);margin-top:1.5em}.line2[_ngcontent-%COMP%]{opacity:0;transform:translateY(1.4em)}.line3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-.9em,-.6em)}.basket-div[_ngcontent-%COMP%]{width:48px;aspect-ratio:1;background-repeat:no-repeat;background-size:contain}.basket-counter[_ngcontent-%COMP%], .basket-summary[_ngcontent-%COMP%]{display:inline-block;position:relative;background-color:var(--color-prim-light);padding:2px;border-radius:10px}.basket-counter[_ngcontent-%COMP%]{left:75%}.basket-summary[_ngcontent-%COMP%]{top:40%;left:40%}"]});class Mv{constructor(){this.title="travelAgency"}}Mv.\u0275fac=function(t){return new(t||Mv)},Mv.\u0275cmp=a.Xpm({type:Mv,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"margin-giver"]],template:function(t,e){1&t&&(a.TgZ(0,"main"),a._UZ(1,"app-nav-bar"),a.TgZ(2,"main",0),a._UZ(3,"router-outlet"),a.qZA()())},dependencies:[Uh,Sv],styles:[".margin-giver[_ngcontent-%COMP%]{margin:20px}"]});class Ng{constructor(t,e){this.basket=t,this.fbData=e,this.tripsAndIds=[],this.redBorderId="",this.redBorderId$=new Dr(this.redBorderId),this.greenBorderId="",this.greenBorderId$=new Dr(this.greenBorderId),this.basket.getReservations$().subscribe(i=>{this.reservations=i,this.updateBorders()}),this.fbData.getTripsAndIds$().subscribe(i=>{this.tripsAndIds=i,this.updateBorders()})}getRedBorder$(){return this.redBorderId$}getGreenBorder$(){return this.greenBorderId$}updateBorders(){this.tripsAndIds=this.sortByUnitPrice(this.tripsAndIds);for(let t of this.tripsAndIds)if(this.reservations?.find(i=>i.tripId==t[1])?.tickets!=t[0].freeSeats){this.greenBorderId=t[1],this.greenBorderId$.next(this.greenBorderId);break}for(let t of this.tripsAndIds.slice().reverse())if(this.reservations?.find(i=>i.tripId==t[1])?.tickets!=t[0].freeSeats){this.redBorderId=t[1],this.redBorderId$.next(this.redBorderId);break}}sortByUnitPrice(t){return t.sort((e,i)=>i[0].unitPrice-e[0].unitPrice)}}function TS(n,t){1&n&&(a.TgZ(0,"div"),a._uU(1,"\u2606"),a.qZA())}function AS(n,t){1&n&&a._uU(0,"\u2605")}Ng.\u0275fac=function(t){return new(t||Ng)(a.LFG(ca),a.LFG(Ur))},Ng.\u0275prov=a.Yz7({token:Ng,factory:Ng.\u0275fac,providedIn:"root"});class Rv{constructor(){this.clickedStarEmitter=new a.vpe}ifStarEmpty(){if(null!=this.myNum&&null!=this.ratingDivisor)return this.myNum>this.ratingDivisor;console.log("Star error!")}clickedStar(){this.clickedStarEmitter.emit(this.myNum)}}Rv.\u0275fac=function(t){return new(t||Rv)},Rv.\u0275cmp=a.Xpm({type:Rv,selectors:[["app-star"]],inputs:{ratingDivisor:"ratingDivisor",myNum:"myNum"},outputs:{clickedStarEmitter:"clickedStarEmitter"},decls:4,vars:2,consts:[[3,"click"],[4,"ngIf","ngIfElse"],["star",""]],template:function(t,e){if(1&t&&(a.TgZ(0,"main",0),a.NdJ("click",function(){return e.clickedStar()}),a.YNc(1,TS,2,0,"div",1),a.YNc(2,AS,1,0,"ng-template",null,2,a.W1O),a.qZA()),2&t){const i=a.MAs(3);a.xp6(1),a.Q6J("ngIf",e.ifStarEmpty())("ngIfElse",i)}},dependencies:[xt]});const SS=function(n){return{cursor:n}};function MS(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"app-star",3),a.NdJ("mouseenter",function(){const d=a.CHM(e).$implicit,g=a.oxw();return a.KtG(g.setRatingDivisor(d))})("clickedStarEmitter",function(l){a.CHM(e);const d=a.oxw();return a.KtG(d.clickedStar(l))}),a.qZA()}if(2&n){const e=t.$implicit,i=a.oxw();a.Q6J("ngStyle",a.VKq(3,SS,i.ratingDivisorMovable?"pointer":"unset"))("ratingDivisor",i.isNaN(i.ratingDivisor)?-1:i.ratingDivisor)("myNum",e)}}function RS(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.ALo(2,"number"),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" \xa0(",a.xi3(2,1,e.ratingNum,"1.0-2"),") ")}}const xS=function(){return[0,1,2,3,4]};class Ud{constructor(){this.ratingDivisor=-1,this.ratingDivisorMovable=!1,this.numOfStars=new a.vpe}setRatingDivisor(t){this.ratingDivisorMovable&&(this.ratingDivisor=t)}clickedStar(t){this.ratingDivisorMovable&&(this.ratingDivisor=t,this.ratingNum=t+1,this.emitNumOfStars(this.ratingDivisor))}emitNumOfStars(t){this.numOfStars.emit(t)}isNaN(t){return isNaN(t)}}function OS(n,t){1&n&&(a.TgZ(0,"div",20),a._uU(1,"s"),a.qZA())}function PS(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",21),a.NdJ("click",function(){a.CHM(e);const l=a.oxw(2);return a.KtG(l.removeThisTrip())}),a._uU(1,"REMOVE THIS TRIP"),a.qZA()}}function NS(n,t){1&n&&a._UZ(0,"div")}function kS(n,t){if(1&n&&(a.TgZ(0,"p"),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.xp6(1),a.hij("\u{1f4ba} ",e.trip.freeSeats-e.numOfReservations," seats left")}}function FS(n,t){1&n&&(a.TgZ(0,"p",22),a._uU(1,"\u{1f4ba} No free seats"),a.qZA())}Ud.\u0275fac=function(t){return new(t||Ud)},Ud.\u0275cmp=a.Xpm({type:Ud,selectors:[["app-trip-rating"]],inputs:{ratingDivisor:"ratingDivisor",ratingDivisorMovable:"ratingDivisorMovable",ratingNum:"ratingNum"},outputs:{numOfStars:"numOfStars"},decls:3,vars:3,consts:[[3,"mouseleave"],["class","square",3,"ngStyle","ratingDivisor","myNum","mouseenter","clickedStarEmitter",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"square",3,"ngStyle","ratingDivisor","myNum","mouseenter","clickedStarEmitter"]],template:function(t,e){1&t&&(a.TgZ(0,"main",0),a.NdJ("mouseleave",function(){return e.setRatingDivisor(-1)}),a.YNc(1,MS,1,5,"app-star",1),a.YNc(2,RS,3,4,"div",2),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",a.DdM(2,xS)),a.xp6(1),a.Q6J("ngIf",null!=e.ratingNum))},dependencies:[An,xt,ii,Rv,Ts],styles:["main[_ngcontent-%COMP%]{display:flex;align-items:center}main[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:1.5em}.square[_ngcontent-%COMP%]{aspect-ratio:1 / 1}"]});const LS=function(n){return{"border-color":n}};function US(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"img",5),a.NdJ("click",function(){a.CHM(e);const l=a.oxw();return a.KtG(l.showTripDetails())}),a.qZA()(),a.TgZ(5,"h3",6),a._uU(6),a.qZA(),a.TgZ(7,"p",7),a._uU(8),a.ALo(9,"uppercase"),a.qZA(),a.TgZ(10,"div",8)(11,"div",9)(12,"h2"),a._uU(13),a.ALo(14,"currency"),a.qZA(),a.TgZ(15,"p"),a._uU(16,"per pearson"),a.qZA()(),a.TgZ(17,"div",10),a._UZ(18,"app-trip-rating",11),a.TgZ(19,"div"),a._uU(20),a.YNc(21,OS,2,0,"div",12),a.qZA()()(),a.YNc(22,PS,2,0,"button",13),a.qZA(),a.TgZ(23,"div",14),a.NdJ("click",function(){a.CHM(e);const l=a.oxw();return a.KtG(l.showTripDetails())}),a.TgZ(24,"h3",6),a._uU(25),a.qZA(),a._UZ(26,"hr"),a.TgZ(27,"div",15)(28,"p"),a._uU(29),a.ALo(30,"uppercase"),a.qZA(),a.TgZ(31,"p"),a._uU(32),a.ALo(33,"date"),a.ALo(34,"date"),a.qZA(),a.YNc(35,NS,1,0,"div",16),a.YNc(36,kS,2,1,"ng-template",null,17,a.W1O),a.YNc(38,FS,2,0,"ng-template",null,18,a.W1O),a.TgZ(40,"div",9)(41,"h2"),a._uU(42),a.ALo(43,"currency"),a.qZA(),a.TgZ(44,"p"),a._uU(45,"per pearson"),a.qZA()(),a.TgZ(46,"button",19),a.NdJ("click",function(){a.CHM(e);const l=a.oxw();return a.KtG(l.showTripDetails())}),a._uU(47,"Buy tickets now!"),a.qZA()()()()()}if(2&n){const e=a.MAs(37),i=a.MAs(39),l=a.oxw();a.xp6(2),a.Q6J("ngStyle",a.VKq(34,LS,l.tripId==l.borderGreen?"green":l.tripId==l.borderRed?"red":"")),a.xp6(2),a.s9C("src",l.trip.imgs[0].srcFull,a.LSH),a.s9C("title",l.trip.imgs[0].title),a.s9C("alt",l.trip.imgs[0].alt),a.xp6(2),a.Oqu(l.trip.name),a.xp6(2),a.Oqu(a.lcZ(9,20,l.trip.destination)),a.xp6(5),a.Oqu(a.lcZ(14,22,l.trip.unitPrice)),a.xp6(5),a.Q6J("ratingNum",l.getAverageRating())("ratingDivisor",l.getAverageRatingDivisor()),a.xp6(2),a.hij(" from ",l.getNumOfRatings()," rating"),a.xp6(1),a.Q6J("ngIf",1!=l.getNumOfRatings()),a.xp6(1),a.Q6J("ngIf",null==l.userRoles?null:l.userRoles.manager),a.xp6(3),a.Oqu(l.trip.name),a.xp6(4),a.hij("\u{1f4cd} ",a.lcZ(30,24,l.trip.destination),""),a.xp6(3),a.AsE("\u{1f4c5} from ",a.xi3(33,26,l.trip.startDate,"dd-MM-yyyy")," to ",a.xi3(34,29,l.trip.endDate,"dd-MM-yyyy"),""),a.xp6(3),a.Q6J("ngIf",l.trip.freeSeats-l.numOfReservations>0)("ngIfThen",e)("ngIfElse",i),a.xp6(7),a.Oqu(a.lcZ(43,32,l.trip.unitPrice))}}class kg{constructor(t,e,i,l,d){this.tripsToDistinguish=t,this.fbData=e,this.router=i,this.basket=l,this.fbAuth=d,this.userRoles=null,this.numOfReservations=0}ngOnInit(){this.tripsToDistinguish.getRedBorder$().subscribe(t=>{this.borderRed=t}),this.tripsToDistinguish.getGreenBorder$().subscribe(t=>{this.borderGreen=t}),null!=this.tripId&&(this.trip$=this.fbData.getTrip$ById(this.tripId),this.trip$.subscribe(t=>{this.trip=t,null!=this.tripId&&(this.numOfReservations=this.basket.getTripReservations(this.tripId))})),this.fbAuth.getCurrentUserRoles$().subscribe(t=>this.userRoles=t)}deltaReservation(t){!this.trip||this.numOfReservations+t<0||this.numOfReservations+t>this.trip.freeSeats||(this.numOfReservations+=t,null!=this.tripId&&(t>0?this.basket.addReservation(this.tripId):this.basket.removeReservation(this.tripId)))}ifFreeSeatsAvailible(){return null!=this.trip&&this.trip.freeSeats-this.numOfReservations>0}removeThisTrip(){null!=this.trip&&(this.deltaReservation(-this.numOfReservations),null!=this.tripId&&this.fbData.deleteTrip(this.tripId))}showTripDetails(){this.router.navigate([`/trip-details/${this.tripId}`])}getNumOfRatings(){let t=0;return this.trip?.ratings.forEach(e=>t+=e),t}getAverageRating(){let t=0,e=0;return this.trip?.ratings.forEach((i,l)=>{t+=i*(l+1),e+=i}),t/e}getAverageRatingDivisor(){return Math.round(this.getAverageRating()-1)}}function VS(n,t){1&n&&a._UZ(0,"app-trip-tile",2),2&n&&a.Q6J("tripId",t.$implicit)}kg.\u0275fac=function(t){return new(t||kg)(a.Y36(Ng),a.Y36(Ur),a.Y36(_n),a.Y36(ca),a.Y36(Ln))},kg.\u0275cmp=a.Xpm({type:kg,selectors:[["app-trip-tile"]],inputs:{tripId:"tripId"},decls:1,vars:1,consts:[["id","whole","class","flip-card",4,"ngIf"],["id","whole",1,"flip-card"],[1,"flip-card-inner"],[1,"flip-card-front",3,"ngStyle"],[1,"img-box"],[1,"img",3,"src","title","alt","click"],[1,"trip-title"],[2,"color","#292929"],[1,"trip-info",2,"background-color","white"],[1,"trip-reservation-price"],[2,"display","flex","flex-direction","column","align-items","center"],[3,"ratingNum","ratingDivisor"],["style","float: right",4,"ngIf"],["class","trip-remove-button",3,"click",4,"ngIf"],[1,"flip-card-back",3,"click"],[1,"trip-info"],[4,"ngIf","ngIfThen","ngIfElse"],["availibleFreeSeats",""],["unavailibleFreeSeats",""],[1,"button-color-sec","buy-button",3,"click"],[2,"float","right"],[1,"trip-remove-button",3,"click"],[1,"unavailibleFreeSeats"]],template:function(t,e){1&t&&a.YNc(0,US,48,36,"section",0),2&t&&a.Q6J("ngIf",e.trip)},dependencies:[xt,ii,Ud,po,_o,Qn],styles:["#whole[_ngcontent-%COMP%]{--card-padding-margin: 5%}.flip-card[_ngcontent-%COMP%]{background-color:transparent;perspective:1000px;display:flex;flex-direction:column;align-items:center;width:250px;height:550px}.flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform .5s;transform-style:preserve-3d}.flip-card[_ngcontent-%COMP%]:hover   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border:2px solid rgb(214,214,214);border-radius:10px;overflow:hidden;-webkit-backface-visibility:hidden;backface-visibility:hidden}.flip-card-front[_ngcontent-%COMP%]{background-color:var(--color-prim-light);color:#000}.flip-card-back[_ngcontent-%COMP%]{background-color:var(--color-prim-light);color:#fff;transform:rotateY(180deg);cursor:pointer}.img-box[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;cursor:pointer;overflow:hidden;width:100%;aspect-ratio:1 / 1}.img[_ngcontent-%COMP%]{height:100%}.trip-info[_ngcontent-%COMP%]{width:calc(100% - 2*var(--card-padding-margin));padding:5px var(--card-padding-margin)}.trip-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:15px 0}.trip-reservation-price[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:5px}.trip-reservation-price[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0}.trip-remove-button[_ngcontent-%COMP%]{width:calc(100% - 2 * var(--card-padding-margin));padding:var(--card-padding-margin);margin:var(--card-padding-margin);background-color:var(--color-important);color:#fff}.buy-button[_ngcontent-%COMP%]{color:#000;width:calc(100% - 2*var(--card-padding-margin))}"]});class xv{constructor(t){this.fbData=t}ngOnInit(){this.fbData.getTripsAndIds$().subscribe(t=>this.tripsAndIds=t)}getTrips(){let t=this.tripsAndIds?.map(e=>e[0]);return t??[]}getNthTripId(t){if(null!=this.tripsAndIds)return this.tripsAndIds[t][1]}getTripIds(){return this.tripsAndIds?.map(t=>t[1])}}xv.\u0275fac=function(t){return new(t||xv)(a.Y36(Ur))},xv.\u0275cmp=a.Xpm({type:xv,selectors:[["app-trips-list"]],decls:2,vars:1,consts:[["id","whole"],[3,"tripId",4,"ngFor","ngForOf"],[3,"tripId"]],template:function(t,e){1&t&&(a.TgZ(0,"article",0),a.YNc(1,VS,1,1,"app-trip-tile",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",e.getTripIds()))},dependencies:[An,kg],styles:["article[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}article[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}"]});class Fg{constructor(t){this.db=t}getCountries(){return this.db.object("countries").valueChanges().pipe((0,Ze.U)(t=>t))}}function BS(n,t){if(1&n&&(a.TgZ(0,"option",23),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.Oqu(e)}}function $S(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div")(1,"div",24)(2,"p",1)(3,"b"),a._uU(4),a.qZA()(),a.TgZ(5,"div",1)(6,"label",25),a._uU(7,"Alternative"),a.qZA(),a._UZ(8,"input",26),a.qZA(),a.TgZ(9,"div",1)(10,"label",25),a._uU(11,"Source for thumbnail"),a.qZA(),a._UZ(12,"input",27),a.TgZ(13,"p",28),a._uU(14,"Has to start with:"),a._UZ(15,"br"),a._uU(16,"http[s]://"),a.qZA()(),a.TgZ(17,"div",1)(18,"label",25),a._uU(19,"Source for full image"),a.qZA(),a._UZ(20,"input",29),a.TgZ(21,"p",28),a._uU(22,"Has to start with:"),a._UZ(23,"br"),a._uU(24,"http[s]://"),a.qZA()(),a.TgZ(25,"div",1)(26,"label",25),a._uU(27,"Image title"),a.qZA(),a._UZ(28,"input",30),a.qZA(),a.TgZ(29,"button",18),a.NdJ("click",function(){const d=a.CHM(e).index,g=a.oxw();return a.KtG(g.deleteImgForm(d))}),a._uU(30,"Delete"),a.qZA()()()}if(2&n){const e=t.index;a.xp6(1),a.Q6J("formGroupName",e),a.xp6(3),a.hij("Image num: ",e+1,""),a.xp6(2),a.MGl("for","img-",e,"-alt"),a.xp6(2),a.MGl("id","img-",e,"-alt"),a.xp6(2),a.MGl("for","img-",e,"-thumbnail"),a.xp6(2),a.MGl("id","img-",e,"-thumbnail"),a.xp6(6),a.MGl("for","img-",e,"-full"),a.xp6(2),a.MGl("id","img-",e,"-full"),a.xp6(6),a.MGl("for","img-",e,"-title"),a.xp6(2),a.MGl("id","img-",e,"-title")}}function HS(n,t){1&n&&a._UZ(0,"div")}function jS(n,t){if(1&n&&(a.TgZ(0,"button",31),a._uU(1,"Create new trip"),a.qZA()),2&n){const e=a.oxw();a.Q6J("disabled",!e.tripForm.valid)}}function GS(n,t){if(1&n&&(a.TgZ(0,"button",31),a._uU(1,"Alter trip"),a.qZA()),2&n){const e=a.oxw();a.Q6J("disabled",!e.tripForm.valid)}}Fg.\u0275fac=function(t){return new(t||Fg)(a.LFG(CE))},Fg.\u0275prov=a.Yz7({token:Fg,factory:Fg.\u0275fac,providedIn:"root"});class Ov{constructor(t,e,i,l,d){this.countriesData=t,this.fbData=e,this.fb=i,this.activatedRoute=l,this.location=d,this.tripForm=this.fb.group({name:["",[bt.required,bt.pattern("[ -\uffff\n\r\t]*")]],destination:["",bt.required],startDate:["",bt.required],endDate:["",bt.required],unitPrice:["",bt.required],freeSeats:["",[bt.required,bt.pattern("[0-9]*")]],description:["",[bt.required,bt.pattern("[ -\uffff\n\r\t]*")]],imgs:this.fb.array([])}),this.imgsFormArray=this.tripForm.get("imgs")}ngOnInit(){this.addImgForm(),this.countriesData.getCountries().subscribe(t=>this.countries=t),this.activatedRoute.paramMap.subscribe(t=>{let e=t.get("tripId");null!=e&&(this.tripId=e,this.fbData.getTrip$ById(e).subscribe(l=>{this.fillTripForm(l)}))})}addImgForm(){const t=this.fb.group({alt:["",bt.required],srcThumbnail:["",[bt.required,bt.pattern("https?://[a-zA-Z0-9;,/?:@%&=+$_.!~*'()#\\-]*")]],srcFull:["",[bt.required,bt.pattern("https?://[a-zA-Z0-9;,/?:@%&=+$_.!~*'()#\\-]*")]],title:["",bt.required]});this.tripForm.get("imgs").push(t)}deleteImgForm(t){this.imgsFormArray.length>1&&this.imgsFormArray.removeAt(t)}fillTripForm(t){if(null==t)return void this.tripForm.reset();let e={description:t.description,destination:t.destination,endDate:t.endDate,freeSeats:t.freeSeats.toString(),name:t.name,startDate:t.startDate,unitPrice:t.unitPrice.toString(),imgs:t.imgs};for(;this.imgsFormArray.length<t.imgs.length;)this.addImgForm();this.tripForm.setValue(e)}onSubmit(){if(null==this.tripId)return;if(!this.tripForm.value.startDate)return void alert("You need to give correct start date!");if(!this.tripForm.value.endDate)return void alert("You need to give correct end date!");if(this.tripForm.value.startDate>=this.tripForm.value.endDate)return void alert("Trip end date has to be after trip start date!");let t=[];for(let i=0;i<this.imgsFormArray.length;i++){let l=this.imgsFormArray.at(i).value;t.push({alt:l.alt,srcThumbnail:l.srcThumbnail,srcFull:l.srcFull,title:l.title})}let e={name:this.tripForm.value.name,destination:this.tripForm.value.destination,startDate:this.tripForm.value.startDate,endDate:this.tripForm.value.endDate,unitPrice:Number.parseFloat(this.tripForm.value.unitPrice),freeSeats:Number.parseInt(this.tripForm.value.freeSeats),description:this.tripForm.value.description,imgs:t,ratings:[0,0,0,0,0]};this.tripForm.disable(),"create-new-trip"==this.tripId?this.fbData.addTrip(e).then(i=>{alert("trip created"),this.location.back()}):this.fbData.alterTrip(e,this.tripId).then(i=>{alert("trip altered"),this.location.back()})}}Ov.\u0275fac=function(t){return new(t||Ov)(a.Y36(Fg),a.Y36(Ur),a.Y36(am),a.Y36(eo),a.Y36(Te))},Ov.\u0275cmp=a.Xpm({type:Ov,selectors:[["app-trip-form"]],decls:44,vars:9,consts:[[3,"formGroup","ngSubmit"],[1,"form-div"],["for","destination"],["name","destination","id","destination","required","","formControlName","destination",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","name"],["name","name","id","name","formControlName","name"],["for","startDate"],["type","date","name","startDate","id","startDate","formControlName","startDate"],["for","endDate"],["type","date","name","endDate","id","endDate","formControlName","endDate"],["for","unitPrice"],["type","number","step","0.01","min","0","step","1","name","unitPrice","id","unitPrice","formControlName","unitPrice"],["for","freeSeats"],["type","number","name","freeSeats","min","0","id","freeSeats","formControlName","freeSeats"],["for","description"],["type","text","name","description","id","description","formControlName","description"],["formArrayName","imgs"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],["create",""],["alter",""],[3,"value"],[1,"img-form",3,"formGroupName"],[3,"for"],["type","text","formControlName","alt",3,"id"],["type","text","formControlName","srcThumbnail",3,"id"],[1,"additional-field-info"],["type","text","formControlName","srcFull",3,"id"],["type","text","formControlName","title",3,"id"],["type","submit",1,"submit-form-button",3,"disabled"]],template:function(t,e){if(1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return e.onSubmit()}),a.TgZ(1,"h2"),a._uU(2,"Trip Form"),a.qZA(),a.TgZ(3,"div",1)(4,"label",2),a._uU(5,"Destination country"),a.qZA(),a.TgZ(6,"select",3),a.YNc(7,BS,2,2,"option",4),a.qZA()(),a.TgZ(8,"div",1)(9,"label",5),a._uU(10,"Trip title"),a.qZA(),a._UZ(11,"input",6),a.qZA(),a.TgZ(12,"div",1)(13,"label",7),a._uU(14,"Start date"),a.qZA(),a._UZ(15,"input",8),a.qZA(),a.TgZ(16,"div",1)(17,"label",9),a._uU(18,"End date"),a.qZA(),a._UZ(19,"input",10),a.qZA(),a.TgZ(20,"div",1)(21,"label",11),a._uU(22),a.ALo(23,"currency"),a.qZA(),a._UZ(24,"input",12),a.qZA(),a.TgZ(25,"div",1)(26,"label",13),a._uU(27,"Free seats"),a.qZA(),a._UZ(28,"input",14),a.qZA(),a.TgZ(29,"div",1)(30,"label",15),a._uU(31,"Description"),a.qZA(),a._UZ(32,"textarea",16),a.qZA(),a.TgZ(33,"div",17)(34,"h2",1),a._uU(35,"Images (at least one)"),a.qZA(),a.TgZ(36,"button",18),a.NdJ("click",function(){return e.addImgForm()}),a._uU(37,"Add another image"),a.qZA(),a.YNc(38,$S,31,10,"div",19),a.qZA(),a.YNc(39,HS,1,0,"div",20),a.YNc(40,jS,2,1,"ng-template",null,21,a.W1O),a.YNc(42,GS,2,1,"ng-template",null,22,a.W1O),a.qZA()),2&t){const i=a.MAs(41),l=a.MAs(43);a.Q6J("formGroup",e.tripForm),a.xp6(7),a.Q6J("ngForOf",e.countries),a.xp6(15),a.hij("Price per ticket (for ex. ",a.lcZ(23,7,456.88),")"),a.xp6(16),a.Q6J("ngForOf",e.imgsFormArray.controls),a.xp6(1),a.Q6J("ngIf","create-new-trip"==e.tripId)("ngIfThen",i)("ngIfElse",l)}},dependencies:[An,xt,jo,Ya,mu,at,Ti,kr,Uo,eu,bh,ny,p,Ve,T,j,_o],styles:["#whole[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;background-color:var(--color-grey-light)}.img-form[_ngcontent-%COMP%]{margin-left:20px}.additional-field-info[_ngcontent-%COMP%]{color:#6d6d6d}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:30%}",".form-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:10px}.form-div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:250px;padding:5px;margin:0;border-radius:10px}.ng-valid[_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]{border-left:5px solid #42A948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}button[_ngcontent-%COMP%]{border-radius:10px;margin:10px;padding:10px}.submit-form-button[_ngcontent-%COMP%]{margin:10px;width:200px;border-radius:10px}"]});class Pv{}function WS(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div")(1,"h3"),a._uU(2),a.qZA(),a.TgZ(3,"h3"),a._uU(4),a.ALo(5,"currency"),a.qZA(),a.TgZ(6,"button",5),a.NdJ("click",function(){a.CHM(e);const l=a.oxw();return a.KtG(l.buyTickets())}),a._uU(7,"BUY TRIPS IN BASKET"),a.qZA()()}if(2&n){const e=a.oxw();a.xp6(2),a.hij("Sum of tickets: ",e.sumOfReservationsNum,""),a.xp6(2),a.hij("Summed price: ",a.lcZ(5,2,e.sumOfReservationsMoney),"")}}function ZS(n,t){1&n&&(a.TgZ(0,"h2",6),a._uU(1,"You haven't added any trip to your basket yet!"),a.qZA())}function zS(n,t){if(1&n&&(a.TgZ(0,"div",7,8)(2,"h3",9),a._uU(3),a.qZA(),a._UZ(4,"app-trip-tile",10),a.qZA()),2&n){const e=t.$implicit;a.xp6(3),a.hij("Tickets in basket: ",e.tickets,""),a.xp6(1),a.Q6J("tripId",e.tripId)}}Pv.\u0275fac=function(t){return new(t||Pv)},Pv.\u0275cmp=a.Xpm({type:Pv,selectors:[["app-home"]],decls:21,vars:0,consts:[["routerLink","/trips-list"],[1,"info-list"],["src","assets/imgs/localisation.png",2,"max-width","100%","height","auto"]],template:function(t,e){1&t&&(a.TgZ(0,"section")(1,"h2"),a._uU(2,"Welcome to our travel agency"),a.qZA(),a.TgZ(3,"h1"),a._uU(4,"FLY AWAY"),a.qZA(),a.TgZ(5,"h2"),a._uU(6,"We can take you wherever you want!"),a.qZA(),a.TgZ(7,"h2"),a._uU(8,"Don't believe us? Check out our "),a.TgZ(9,"a",0),a._uU(10,"amazing trips!"),a.qZA()(),a.TgZ(11,"h2"),a._uU(12,"You can contact us personally if you wish:"),a.qZA(),a.TgZ(13,"ul",1)(14,"h3"),a._uU(15,"Phone number: 123456789"),a.qZA(),a.TgZ(16,"h3"),a._uU(17,"Email: flyaway@gmail.com"),a.qZA(),a.TgZ(18,"h3"),a._uU(19,"Address: Trevescan, Penzance TR19 7AQ, Great Britain"),a.qZA(),a._UZ(20,"img",2),a.qZA()())},dependencies:[no],styles:["section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}section[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.info-list[_ngcontent-%COMP%]{padding:40px}"]});class Nv{constructor(t){this.basket=t,this.reservations=[],this.sumOfReservationsNum=0,this.sumOfReservationsMoney=0,this.basket.getReservations$().subscribe(e=>this.reservations=e),t.getSumOfReservationsMoney$().subscribe(e=>this.sumOfReservationsMoney=e),t.getSumOfReservationsNum$().subscribe(e=>this.sumOfReservationsNum=e)}buyTickets(){this.basket.buyTickets()}}Nv.\u0275fac=function(t){return new(t||Nv)(a.Y36(ca))},Nv.\u0275cmp=a.Xpm({type:Nv,selectors:[["app-basket"]],decls:6,vars:3,consts:[["id","basket-info"],[4,"ngIf","ngIfElse"],["noReservations",""],[1,"trips-list"],["class","trip-card-and-info",4,"ngFor","ngForOf"],[1,"button-color-sec",3,"click"],["id","no-reservations"],[1,"trip-card-and-info"],["showReservations",""],[1,"trip-info"],[3,"tripId"]],template:function(t,e){if(1&t&&(a.TgZ(0,"section",0),a.YNc(1,WS,8,4,"div",1),a.YNc(2,ZS,2,0,"ng-template",null,2,a.W1O),a.qZA(),a.TgZ(4,"section",3),a.YNc(5,zS,5,2,"div",4),a.qZA()),2&t){const i=a.MAs(3);a.xp6(1),a.Q6J("ngIf",e.reservations.length>0)("ngIfElse",i),a.xp6(4),a.Q6J("ngForOf",e.reservations)}},dependencies:[An,xt,kg,_o],styles:["#basket-info[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:35px}#no-reservations[_ngcontent-%COMP%]{margin:60px;text-align:center}.trips-list[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;margin:10px}.trip-card-and-info[_ngcontent-%COMP%]{margin:10px;background-color:var(--color-sec);border-radius:10px}.trip-info[_ngcontent-%COMP%]{padding:10px;margin:0;text-align:center}"]});const qS=function(n){return{"background-color":n}};function YS(n,t){if(1&n&&(a.TgZ(0,"section",1),a._UZ(1,"div",2),a.TgZ(2,"div",3),a._UZ(3,"img",4),a.TgZ(4,"div",5)(5,"h2",6),a._uU(6),a.ALo(7,"uppercase"),a.qZA(),a.TgZ(8,"div",7)(9,"p"),a._uU(10),a.ALo(11,"date"),a.qZA(),a.TgZ(12,"p"),a._uU(13),a.ALo(14,"date"),a.ALo(15,"date"),a.qZA(),a.TgZ(16,"p"),a._uU(17),a.ALo(18,"currency"),a.qZA()()()()()),2&n){const e=a.oxw();a.MGl("routerLink","/trip-details/",e.purchase.tripId,""),a.xp6(1),a.Q6J("ngStyle",a.VKq(21,qS,e.getPurchaseColor())),a.xp6(2),a.s9C("src",e.trip.imgs[0].srcFull,a.LSH),a.xp6(3),a.AsE("",e.trip.name,", ",a.lcZ(7,10,e.trip.destination),""),a.xp6(4),a.hij("Purchased ",a.xi3(11,12,e.purchase.purchaseDate,"long"),""),a.xp6(3),a.AsE("Lasts from ",a.lcZ(14,15,e.purchase.startDate)," to ",a.lcZ(15,17,e.purchase.endDate),""),a.xp6(4),a.AsE("Bought ",e.purchase.tickets," tickets for ",a.lcZ(18,19,e.purchase.unitPrice),"")}}class kv{constructor(t){this.fbData=t,this.trip=null}ngOnInit(){this.purchase&&this.fbData.getTrip$ById(this.purchase?.tripId).subscribe(t=>this.trip=t)}getPurchaseColor(){if(this.purchase)return Date.parse(this.purchase.endDate)<(new Date).valueOf()?"rgb(223, 42, 59)":Date.parse(this.purchase.startDate)<(new Date).valueOf()&&(new Date).valueOf()<Date.parse(this.purchase.endDate)?"rgb(80, 200, 120)":"rgb(36, 193, 255)"}}function KS(n,t){1&n&&a._UZ(0,"div")}function QS(n,t){1&n&&(a.TgZ(0,"h2"),a._uU(1,"You haven't bought any tickets yet!"),a.qZA())}function JS(n,t){if(1&n&&(a.TgZ(0,"div",6),a._UZ(1,"app-purchase-history-tile",7),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.Q6J("purchase",e)}}function XS(n,t){if(1&n&&a.YNc(0,JS,2,1,"div",5),2&n){const e=a.oxw();a.Q6J("ngForOf",e.sortedTrips())}}kv.\u0275fac=function(t){return new(t||kv)(a.Y36(Ur))},kv.\u0275cmp=a.Xpm({type:kv,selectors:[["app-purchase-history-tile"]],inputs:{purchase:"purchase"},decls:1,vars:1,consts:[["class","tile",3,"routerLink",4,"ngIf"],[1,"tile",3,"routerLink"],[1,"strip",3,"ngStyle"],[1,"inner"],[1,"img",3,"src"],[1,"info"],[1,"title"],[1,"info-inner"]],template:function(t,e){1&t&&a.YNc(0,YS,19,23,"section",0),2&t&&a.Q6J("ngIf",e.purchase&&e.trip)},dependencies:[xt,ii,no,po,_o,Qn],styles:[".tile[_ngcontent-%COMP%]{display:flex;width:90%;margin:auto;overflow:hidden;cursor:pointer;background-color:var(--color-beige);border:1px solid black;border-radius:10px;--info-height: 40vh;--info-padding: 10px}.strip[_ngcontent-%COMP%]{flex:0 0 10px;border-top-left-radius:10px;border-bottom-left-radius:10px}.inner[_ngcontent-%COMP%]{width:100%;display:flex}.img[_ngcontent-%COMP%]{height:calc(var(--info-height) + 2*var(--info-padding))}.info[_ngcontent-%COMP%]{flex:1 1 100px;display:flex;flex-direction:column;justify-content:space-around;height:var(--info-height);padding:var(--info-padding)}@media (max-width:800px){.inner[_ngcontent-%COMP%]{flex-direction:column}.img[_ngcontent-%COMP%]{width:100%;height:auto}.info[_ngcontent-%COMP%]{width:calc(100% - 2*var(--info-padding));height:auto}}"]});class Fv{constructor(t,e){this.fbAuth=t,this.fbData=e,this.purchases=[],e.getCurrentUserPurchases$().subscribe(i=>{this.purchases=i.sort((l,d)=>Date.parse(d.purchaseDate)-Date.parse(l.purchaseDate))})}sortedTrips(){let t=this.purchases.filter(d=>new Date(d.endDate).valueOf()<(new Date).valueOf()),e=this.purchases.filter(d=>new Date(d.startDate).valueOf()<(new Date).valueOf()&&(new Date).valueOf()<new Date(d.endDate).valueOf()),l=(d,g)=>new Date(g.endDate).valueOf()-new Date(d.startDate).valueOf();return this.purchases.filter(d=>(new Date).valueOf()<new Date(d.startDate).valueOf()).sort(l).concat(e.sort(l),t.sort(l))}}Fv.\u0275fac=function(t){return new(t||Fv)(a.Y36(Ln),a.Y36(Ur))},Fv.\u0275cmp=a.Xpm({type:Fv,selectors:[["app-purchase-history"]],decls:8,vars:3,consts:[[2,"text-align","center"],["id","purchases-list"],[4,"ngIf","ngIfThen","ngIfElse"],["noHistory",""],["yesHistory",""],["class","trip",4,"ngFor","ngForOf"],[1,"trip"],[3,"purchase"]],template:function(t,e){if(1&t&&(a.TgZ(0,"h1",0),a._uU(1,"Purchased trips"),a.qZA(),a.TgZ(2,"section",1),a.YNc(3,KS,1,0,"div",2),a.YNc(4,QS,2,0,"ng-template",null,3,a.W1O),a.YNc(6,XS,1,1,"ng-template",null,4,a.W1O),a.qZA()),2&t){const i=a.MAs(5),l=a.MAs(7);a.xp6(3),a.Q6J("ngIf",0==e.purchases.length)("ngIfThen",i)("ngIfElse",l)}},dependencies:[An,xt,kv],styles:["#purchases-list[_ngcontent-%COMP%]{margin:10px;display:flex;flex-direction:column;width:100%}#purchases-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}"]});class Lv{}function eM(n,t){1&n&&a._UZ(0,"div")}function tM(n,t){1&n&&a._UZ(0,"div")}function nM(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"form",5),a.NdJ("ngSubmit",function(){a.CHM(e);const l=a.oxw(2);return a.KtG(l.onSubmit())}),a.TgZ(1,"h3",6),a._uU(2,"Send your opinion!"),a.qZA(),a.TgZ(3,"div",7)(4,"label",8),a._uU(5,"Your review (50 - 500 characters)"),a.qZA(),a._UZ(6,"textarea",9),a.qZA(),a.TgZ(7,"app-trip-rating",10),a.NdJ("numOfStars",function(l){a.CHM(e);const d=a.oxw(2);return a.KtG(d.ratingChanged(l))}),a.qZA(),a.TgZ(8,"button",11),a._uU(9,"Submit"),a.qZA()()}if(2&n){const e=a.oxw(2);a.Q6J("formGroup",e.reviewForm),a.xp6(7),a.Q6J("ratingDivisor",-1)("ratingDivisorMovable",!0),a.xp6(1),a.Q6J("disabled",!e.reviewForm.valid)}}function rM(n,t){if(1&n&&(a.TgZ(0,"div")(1,"h3",6),a._uU(2,"You have already left a review:"),a.qZA(),a.TgZ(3,"div",12)(4,"div"),a._uU(5),a.qZA(),a.TgZ(6,"div"),a._uU(7),a.ALo(8,"date"),a.qZA(),a._UZ(9,"app-trip-rating",13),a.TgZ(10,"p",14),a._uU(11),a.qZA()()()),2&n){const e=a.oxw(2);a.xp6(5),a.hij("By: ",null==e.userReview?null:e.userReview.nick,""),a.xp6(2),a.Oqu(a.xi3(8,5,null==e.userReview?null:e.userReview.date,"medium")),a.xp6(2),a.Q6J("ratingDivisor",e.userReview.rating)("ratingDivisorMovable",!1),a.xp6(2),a.hij("",null==e.userReview?null:e.userReview.content," ")}}function iM(n,t){if(1&n&&(a.YNc(0,tM,1,0,"div",0),a.YNc(1,nM,10,4,"ng-template",null,3,a.W1O),a.YNc(3,rM,12,8,"ng-template",null,4,a.W1O)),2&n){const e=a.MAs(2),i=a.MAs(4),l=a.oxw();a.Q6J("ngIf",null==l.userReview)("ngIfThen",e)("ngIfElse",i)}}function sM(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.getMessage())}}Lv.\u0275fac=function(t){return new(t||Lv)},Lv.\u0275cmp=a.Xpm({type:Lv,selectors:[["app-page-not-found"]],decls:2,vars:0,consts:[["id","info"]],template:function(t,e){1&t&&(a.TgZ(0,"h1",0),a._uU(1,"We are sorry, but page you are looking for doesn't exist"),a.qZA())},styles:["#info[_ngcontent-%COMP%]{margin:60px;text-align:center}"]});class Uv{constructor(t,e,i,l){this.fb=t,this.fbData=e,this.fbAuth=i,this.afa=l,this.userReview=null,this.boughtThisTrip=!1,this.userRoles=null,this.tripRealised=!1,this.reviewForm=this.fb.group({content:["",[bt.required,bt.minLength(50),bt.maxLength(500)]],rating:[-1,[bt.required,bt.min(0),bt.max(5)]]})}ngOnInit(){this.fbData.getCurrentUsersReview(this.tripId)?.subscribe(t=>this.userReview=t),this.afa.authState.subscribe(t=>this.userId=t?.uid),this.fbData.getCurrentUserPurchases$().subscribe(t=>{this.boughtThisTrip=-1!=t.findIndex(e=>e.tripId==this.tripId)}),this.fbAuth.getCurrentUserRoles$().subscribe(t=>this.userRoles=t),this.fbData.getCurrentUserPurchases$().pipe((0,Ze.U)(t=>t.filter(e=>e.tripId==this.tripId).find(e=>new Date(e.endDate).valueOf()<(new Date).valueOf()))).subscribe(t=>{this.tripRealised=null!=t})}getMessage(){return this.boughtThisTrip?this.tripRealised?this.userRoles?.banned?"Your account has been banned, so you cannot leave reviews! If you have questions, contact with an administrator":null:"Trip hasn't taken place yet. You have to wait until the trip ends to leave a review":"You cannot leave a review, because you haven't bought this trip"}onSubmit(){!this.reviewForm.value.content?.length||!this.tripId||(this.fbData.addReviewForTrip(this.tripId,this.reviewForm.value.rating,this.reviewForm.value.content),this.reviewForm.reset())}ratingChanged(t){this.reviewForm.patchValue({rating:t})}}function oM(n,t){1&n&&a._UZ(0,"div")}Uv.\u0275fac=function(t){return new(t||Uv)(a.Y36(am),a.Y36(Ur),a.Y36(Ln),a.Y36(ua))},Uv.\u0275cmp=a.Xpm({type:Uv,selectors:[["app-trip-details-review"]],inputs:{tripId:"tripId"},decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["canReview",""],["cannotReview",""],["showReviewForm",""],["currUserReview",""],["id","form",3,"formGroup","ngSubmit"],[1,"center"],[1,"form-div"],["for","reviewContent"],["name","reviewContent","id","reviewContent","required","","formControlName","content",2,"width","100%","height","300px","resize","none"],[3,"ratingDivisor","ratingDivisorMovable","numOfStars"],["type","submit",3,"disabled"],[1,"review"],[3,"ratingDivisor","ratingDivisorMovable"],[1,"review-content"]],template:function(t,e){if(1&t&&(a.YNc(0,eM,1,0,"div",0),a.YNc(1,iM,5,3,"ng-template",null,1,a.W1O),a.YNc(3,sM,2,1,"ng-template",null,2,a.W1O)),2&t){const i=a.MAs(2),l=a.MAs(4);a.Q6J("ngIf",null==e.getMessage())("ngIfThen",i)("ngIfElse",l)}},dependencies:[xt,jo,at,Uo,eu,bh,p,Ve,Ud,Qn],styles:[".center[_ngcontent-%COMP%]{text-align:center}.review[_ngcontent-%COMP%]{width:80%;padding:5%;margin:5%;border-radius:10px;background-color:var(--color-sec-dark);transition:all .5s}.review[_ngcontent-%COMP%]:hover{background-color:var(--color-sec)}.review-content[_ngcontent-%COMP%]{word-break:break-all;white-space:normal}.form-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:10px}.form-div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:250px;padding:5px;margin:0;border-radius:10px}"]});const aM=function(n){return{color:n}};function lM(n,t){if(1&n&&(a.TgZ(0,"p",11),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("ngStyle",a.VKq(2,aM,e.ifYellow()?"yellow":e.ifRed()?"red":"black")),a.xp6(1),a.hij(" \u{1f4ba} ",e.trip.freeSeats-e.numOfReservations," seats left ")}}function uM(n,t){1&n&&(a.TgZ(0,"p",12),a._uU(1,"\u{1f4ba} No free seats"),a.qZA())}function cM(n,t){1&n&&a._UZ(0,"div")}function dM(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(e);const l=a.oxw(2);return a.KtG(l.deltaReservation(1))}),a._uU(1,"\u2795"),a.qZA()}}function hM(n,t){1&n&&a._UZ(0,"div",14)}function fM(n,t){1&n&&(a.TgZ(0,"p",15),a._uU(1,"No free tickets!"),a.qZA())}function pM(n,t){1&n&&(a.TgZ(0,"p",18),a._uU(1," Add tickets to basket! "),a.qZA())}function gM(n,t){if(1&n&&(a.TgZ(0,"p",18),a._uU(1),a.qZA()),2&n){const e=a.oxw(3);a.xp6(1),a.hij("Tickets in basket: ",e.numOfReservations,"")}}function mM(n,t){if(1&n&&(a.YNc(0,pM,2,0,"p",16),a.YNc(1,gM,2,1,"ng-template",null,17,a.W1O)),2&n){const e=a.MAs(2),i=a.oxw(2);a.Q6J("ngIf",0==i.numOfReservations)("ngIfElse",e)}}function _M(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"section"),a.YNc(1,oM,1,0,"div",1),a.YNc(2,lM,2,4,"ng-template",null,2,a.W1O),a.YNc(4,uM,2,0,"ng-template",null,3,a.W1O),a.TgZ(6,"section",4)(7,"div",5),a.YNc(8,cM,1,0,"div",1),a.YNc(9,dM,2,0,"ng-template",null,6,a.W1O),a.YNc(11,hM,1,0,"ng-template",null,7,a.W1O),a.TgZ(13,"button",8),a.NdJ("click",function(){a.CHM(e);const l=a.oxw();return a.KtG(l.deltaReservation(-1))}),a._uU(14,"\u2796"),a.qZA()(),a.YNc(15,fM,2,0,"p",9),a.YNc(16,mM,3,2,"ng-template",null,10,a.W1O),a.qZA()()}if(2&n){const e=a.MAs(3),i=a.MAs(5),l=a.MAs(10),d=a.MAs(12),g=a.MAs(17),C=a.oxw();a.xp6(1),a.Q6J("ngIf",C.ifFreeSeatsAvailible())("ngIfThen",e)("ngIfElse",i),a.xp6(7),a.Q6J("ngIf",C.ifFreeSeatsAvailible())("ngIfThen",l)("ngIfElse",d),a.xp6(7),a.Q6J("ngIf",0==C.trip.freeSeats)("ngIfElse",g)}}class Vv{constructor(t,e,i,l){this.basket=t,this.fbData=e,this.fbAuth=i,this.router=l,this.currentUserRoles=null,this.numOfReservations=0}ngOnInit(){null!=this.tripId&&(this.fbData.getTrip$ById(this.tripId).subscribe(t=>{null!=t&&(this.trip=t)}),this.numOfReservations=this.basket.getTripReservations(this.tripId),this.fbAuth.getCurrentUserRoles$().subscribe(t=>this.currentUserRoles=t))}ifFreeSeatsAvailible(){return null!=this.trip&&this.trip.freeSeats-this.numOfReservations>0}ifYellow(){return null!=this.trip&&this.trip.freeSeats-this.numOfReservations<=10&&this.trip.freeSeats-this.numOfReservations>=4}ifRed(){return null!=this.trip&&!this.ifYellow()&&this.trip.freeSeats-this.numOfReservations<=3}deltaReservation(t){this.currentUserRoles?.client||this.router.navigate(["/log-in"]),!(!this.trip||this.numOfReservations+t<0||this.numOfReservations+t>this.trip.freeSeats)&&(this.numOfReservations+=t,null!=this.tripId&&(t>0?this.basket.addReservation(this.tripId):this.basket.removeReservation(this.tripId)))}}function vM(n,t){if(1&n&&a._UZ(0,"app-trip-rating",1),2&n){const e=t.$implicit;a.Q6J("ratingDivisor",t.index)("ratingDivisorMovable",!1)("ratingNum",e)}}Vv.\u0275fac=function(t){return new(t||Vv)(a.Y36(ca),a.Y36(Ur),a.Y36(Ln),a.Y36(_n))},Vv.\u0275cmp=a.Xpm({type:Vv,selectors:[["app-trip-details-buy"]],inputs:{tripId:"tripId"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["availibleFreeSeats",""],["unavailibleFreeSeats",""],[1,"trip-reservation-panel"],[1,"trip-reservation-buttons"],["showPlusButton",""],["hideShowButton",""],[1,"trip-reservation-button-minus",3,"click"],["class","center",4,"ngIf","ngIfElse"],["freeSeats",""],[1,"center",3,"ngStyle"],[1,"center","unavailibleFreeSeats"],[1,"trip-reservation-button-plus",3,"click"],[2,"width","30px"],[1,"center"],["class","trip-reservation-num",4,"ngIf","ngIfElse"],["reservationsCounter",""],[1,"trip-reservation-num"]],template:function(t,e){1&t&&a.YNc(0,_M,18,8,"section",0),2&t&&a.Q6J("ngIf",null!=e.trip)},dependencies:[xt,ii],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around}.center[_ngcontent-%COMP%]{text-align:center}.unavailibleFreeSeats[_ngcontent-%COMP%]{color:red}.trip-reservation-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.trip-reservation-buttons[_ngcontent-%COMP%]{display:flex}.trip-reservation-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{aspect-ratio:1 / 1}.trip-reservation-num[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}"]});class Bv{constructor(t){this.fbData=t}ngOnInit(){null!=this.tripId&&(this.tripObs=this.fbData.getTrip$ById(this.tripId))}}function yM(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"img",5),a.NdJ("click",function(){const d=a.CHM(e).index,g=a.oxw(2);return a.KtG(g.expandImg(d))}),a.qZA()}if(2&n){const e=t.$implicit;a.s9C("src",e.srcThumbnail,a.LSH),a.s9C("title",e.title),a.s9C("alt",e.alt)}}function CM(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",6)(1,"div",7)(2,"img",8),a.NdJ("click",function(){a.CHM(e);const l=a.oxw(2);return a.KtG(l.closeImg())}),a.qZA(),a.TgZ(3,"img",9),a.NdJ("click",function(){a.CHM(e);const l=a.oxw(2);return a.KtG(l.prevImg())}),a.qZA(),a.TgZ(4,"img",10),a.NdJ("click",function(){a.CHM(e);const l=a.oxw(2);return a.KtG(l.nextImg())}),a.qZA(),a._UZ(5,"img",11),a.qZA()()}if(2&n){const e=a.oxw(2);a.xp6(5),a.s9C("src",e.imgs[e.expandedImgIndex].srcFull,a.LSH),a.s9C("title",e.imgs[e.expandedImgIndex].title)}}function EM(n,t){if(1&n&&(a.TgZ(0,"section",1)(1,"div",2),a.YNc(2,yM,1,3,"img",3),a.qZA(),a.YNc(3,CM,6,2,"div",4),a.qZA()),2&n){const e=a.oxw();a.xp6(2),a.Q6J("ngForOf",e.imgs),a.xp6(1),a.Q6J("ngIf",null!=e.expandedImgIndex)}}Bv.\u0275fac=function(t){return new(t||Bv)(a.Y36(Ur))},Bv.\u0275cmp=a.Xpm({type:Bv,selectors:[["app-trip-details-ratings"]],inputs:{tripId:"tripId"},decls:2,vars:3,consts:[[3,"ratingDivisor","ratingDivisorMovable","ratingNum",4,"ngFor","ngForOf"],[3,"ratingDivisor","ratingDivisorMovable","ratingNum"]],template:function(t,e){if(1&t&&(a.YNc(0,vM,1,3,"app-trip-rating",0),a.ALo(1,"async")),2&t){let i;a.Q6J("ngForOf",null==(i=a.lcZ(1,1,e.tripObs))?null:i.ratings)}},dependencies:[An,Ud,es]});class $v{constructor(){this.expandedImgIndex=0}expandImg(t){this.expandedImgIndex=t}closeImg(){this.expandedImgIndex=null}getThumbnails(){let t=this.imgs?.map(e=>e.srcThumbnail);return t??new Array}nextImg(){null===this.expandedImgIndex||void 0===this.imgs||0==this.imgs.length||(this.expandedImgIndex==this.imgs.length-1?this.expandedImgIndex=0:this.expandedImgIndex++)}prevImg(){null===this.expandedImgIndex||void 0===this.imgs||0==this.imgs.length||(0==this.expandedImgIndex?this.expandedImgIndex=this.imgs?.length-1:this.expandedImgIndex--)}}function DM(n,t){if(1&n&&(a.TgZ(0,"div")(1,"h2",3),a._uU(2,"\u{1f3ab} Buy tickets"),a.qZA(),a._UZ(3,"app-trip-details-buy",6),a.qZA()),2&n){const e=a.oxw(2);a.xp6(3),a.Q6J("tripId",e.tripId)}}function bM(n,t){if(1&n&&(a.TgZ(0,"div")(1,"h2",3),a._uU(2,"\u{1f58b}\ufe0f My review"),a.qZA(),a._UZ(3,"app-trip-details-review",6),a.qZA()),2&n){const e=a.oxw(2);a.xp6(3),a.Q6J("tripId",e.tripId)}}function IM(n,t){1&n&&a._UZ(0,"div")}function wM(n,t){1&n&&(a.TgZ(0,"h3",3),a._uU(1,"Tris trip currently has no reviews"),a.qZA())}function TM(n,t){if(1&n&&(a.TgZ(0,"div",13)(1,"div"),a._uU(2),a.qZA(),a.TgZ(3,"div"),a._uU(4),a.ALo(5,"date"),a.qZA(),a._UZ(6,"app-trip-rating",14),a.TgZ(7,"p",15),a._uU(8),a.qZA()()),2&n){const e=t.$implicit;a.xp6(2),a.hij("By: ",e.nick,""),a.xp6(2),a.Oqu(a.xi3(5,5,e.date,"medium")),a.xp6(2),a.Q6J("ratingDivisor",e.rating)("ratingDivisorMovable",!1),a.xp6(2),a.Oqu(e.content)}}function AM(n,t){if(1&n&&a.YNc(0,TM,9,8,"div",12),2&n){const e=a.oxw(2);a.Q6J("ngForOf",e.reviews)}}function SM(n,t){if(1&n&&(a.TgZ(0,"article",2)(1,"h2",3),a._uU(2),a.qZA(),a.TgZ(3,"div",4)(4,"div")(5,"h2",3),a._uU(6,"Basic informations"),a.qZA(),a.TgZ(7,"p"),a._uU(8),a.ALo(9,"uppercase"),a.qZA(),a.TgZ(10,"p"),a._uU(11),a.ALo(12,"date"),a.ALo(13,"date"),a.qZA(),a.TgZ(14,"div"),a._uU(15,"\u2b50 Average rating:"),a.qZA(),a._UZ(16,"app-trip-rating",5)(17,"hr")(18,"app-trip-details-ratings",6),a.qZA(),a.YNc(19,DM,4,1,"div",7),a.TgZ(20,"div")(21,"h2",3),a._uU(22,"\u{1f4dd} Description"),a.qZA(),a.TgZ(23,"p"),a._uU(24),a.qZA()(),a.YNc(25,bM,4,1,"div",7),a.qZA(),a.TgZ(26,"div",8)(27,"h1",3),a._uU(28,"\u{1f58b}\ufe0f Reviews"),a.qZA(),a.YNc(29,IM,1,0,"div",9),a.YNc(30,wM,2,0,"ng-template",null,10,a.W1O),a.YNc(32,AM,1,1,"ng-template",null,11,a.W1O),a.qZA()()),2&n){const e=a.MAs(31),i=a.MAs(33),l=a.oxw();a.xp6(2),a.Oqu(l.trip.name),a.xp6(6),a.hij("\u{1f4cd} Destination: ",a.lcZ(9,13,l.trip.destination),""),a.xp6(3),a.AsE("\u{1f4c5} From ",a.xi3(12,15,l.trip.startDate,"dd-MM-yyyy")," to ",a.xi3(13,18,l.trip.endDate,"dd-MM-yyyy"),""),a.xp6(5),a.Q6J("ratingDivisor",l.getAverageRatingDivisor())("ratingNum",l.getAverageRating()),a.xp6(2),a.Q6J("tripId",l.tripId),a.xp6(1),a.Q6J("ngIf",null==l.userRoles?null:l.userRoles.client),a.xp6(5),a.Oqu(l.trip.description),a.xp6(1),a.Q6J("ngIf",null==l.userRoles?null:l.userRoles.client),a.xp6(4),a.Q6J("ngIf",l.reviews.length<=0)("ngIfThen",e)("ngIfElse",i)}}$v.\u0275fac=function(t){return new(t||$v)},$v.\u0275cmp=a.Xpm({type:$v,selectors:[["app-trip-details-gallery"]],inputs:{imgs:"imgs"},decls:1,vars:1,consts:[["id","gallery",4,"ngIf"],["id","gallery"],[1,"thumbnails-list"],["class","thumbnail",3,"src","title","alt","click",4,"ngFor","ngForOf"],["class","img-container",4,"ngIf"],[1,"thumbnail",3,"src","title","alt","click"],[1,"img-container"],[1,"img-container-position"],["src","assets/imgs/close_button.png",1,"btn","closebtn",3,"click"],["src","assets/imgs/left.png",1,"btn","leftbtn",3,"click"],["src","assets/imgs/right.png",1,"btn","rightbtn",3,"click"],["id","expanded-img","alt","imgs[expandedImgIndex].alt",3,"src","title"]],template:function(t,e){1&t&&a.YNc(0,EM,4,2,"section",0),2&t&&a.Q6J("ngIf",null!=e.imgs&&e.imgs.length>0)},dependencies:[An,xt],styles:['#gallery[_ngcontent-%COMP%]{margin-bottom:25px;--img-width: 80%}.thumbnail[_ngcontent-%COMP%]{height:15vh;width:auto;margin:5px 5px 5px 0;float:left;transition:all .5s}.thumbnail[_ngcontent-%COMP%]:hover{box-shadow:5px 5px 5px gray}.thumbnails-list[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}#expanded-img[_ngcontent-%COMP%]{width:var(--img-width);margin:10px}.img-container[_ngcontent-%COMP%]{position:relative;background-color:var(--color-beige)}.img-container-position[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;height:12%;aspect-ratio:1 / 1;cursor:pointer;transition:all .5s}.closebtn[_ngcontent-%COMP%]{right:calc((100% - var(--img-width))/2);top:10px}.leftbtn[_ngcontent-%COMP%]{left:calc((100% - var(--img-width))/2);top:calc(44% - 10px)}.rightbtn[_ngcontent-%COMP%]{right:calc((100% - var(--img-width))/2);top:calc(44% - 10px)}.btn[_ngcontent-%COMP%]:hover{background-color:var(--color-prim)}@media (max-width: 600px){.thumbnail[_ngcontent-%COMP%]{height:8vw}.btn[_ngcontent-%COMP%]{height:20%}#expanded-img[_ngcontent-%COMP%]{margin:0;width:100%}.closebtn[_ngcontent-%COMP%]{top:0;right:0}.leftbtn[_ngcontent-%COMP%]{left:0}.rightbtn[_ngcontent-%COMP%]{right:0}}']});class Hv{constructor(t,e,i,l,d,g){this.basket=t,this.activatedRoute=e,this.fbData=i,this.fbAuth=l,this.afa=d,this.location=g,this.userRoles=null,this.userReview=null,this.numOfReservations=0,this.tripHistory=[],this.reviews=[]}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{let e=t.get("tripId");null!=e&&(this.tripId=e,this.fbData.getTrip$ById(this.tripId).subscribe(l=>{this.trip=l,null!=this.tripId&&(this.numOfReservations=this.basket.getTripReservations(this.tripId))}),this.fbData.getReviewsForTrip$(this.tripId).subscribe(l=>{this.reviews=l}))}),this.afa.authState.subscribe(t=>this.userId=t?.uid),this.fbData.getCurrentUserPurchases$().subscribe(t=>this.tripHistory=t),this.fbAuth.getCurrentUserRoles$().subscribe(t=>this.userRoles=t)}getAverageRating(){let t=0,e=0;return this.trip?.ratings.forEach((i,l)=>{t+=i*(l+1),e+=i}),t/e}getAverageRatingDivisor(){return Math.round(this.getAverageRating()-1)}ifBoughtThisTrip(){return-1!=this.tripHistory.findIndex(t=>t.tripId==this.tripId)}navigateBack(){this.location.back()}}Hv.\u0275fac=function(t){return new(t||Hv)(a.Y36(ca),a.Y36(eo),a.Y36(Ur),a.Y36(Ln),a.Y36(ua),a.Y36(Te))},Hv.\u0275cmp=a.Xpm({type:Hv,selectors:[["app-trip-details"]],decls:2,vars:2,consts:[[3,"imgs"],["class","trip-info-whole",4,"ngIf"],[1,"trip-info-whole"],[1,"center"],[1,"trip-info"],[3,"ratingDivisor","ratingNum"],[3,"tripId"],[4,"ngIf"],[1,"all-reviews"],[4,"ngIf","ngIfThen","ngIfElse"],["noAllReviews",""],["yesAllReviews",""],["class","review",4,"ngFor","ngForOf"],[1,"review"],[3,"ratingDivisor","ratingDivisorMovable"],[1,"review-content"]],template:function(t,e){1&t&&(a._UZ(0,"app-trip-details-gallery",0),a.YNc(1,SM,34,21,"article",1)),2&t&&(a.Q6J("imgs",null==e.trip?null:e.trip.imgs),a.xp6(1),a.Q6J("ngIf",null!=e.trip))},dependencies:[An,xt,Ud,Uv,Vv,Bv,$v,po,Qn],styles:[".center[_ngcontent-%COMP%]{text-align:center}.trip-info-whole[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-prim-light);border-radius:20px}.trip-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.trip-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .all-reviews[_ngcontent-%COMP%]{border:2px solid var(--color-sec);flex:1 1 200px;margin:15px}.trip-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .trip-title[_ngcontent-%COMP%], .all-reviews[_ngcontent-%COMP%]{padding:10px;border-radius:10px}.review[_ngcontent-%COMP%]{width:80%;padding:5%;margin:5%;border-radius:10px;background-color:var(--color-sec-dark);transition:all .5s}.review[_ngcontent-%COMP%]:hover{background-color:var(--color-sec)}.review-content[_ngcontent-%COMP%]{word-break:break-all;white-space:normal}"]});const MM=function(){return["/log-in"]};class jv{constructor(t,e){this.fb=t,this.fbAuth=e,this.passwordVisible=!1,this.registerForm=this.fb.group({firstName:["",[bt.required]],lastName:["",[bt.required]],email:["",[bt.required,bt.email]],password:["",bt.required]})}getEyePath(){return this.passwordVisible?"../../assets/img/opened_eye.jpg":"../../assets/img/closed_eye.jpg"}togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}onSubmit(){let t=this.registerForm.value;this.fbAuth.signUpUser({firstName:t.firstName,lastName:t.lastName,email:t.email},t.password),this.registerForm.reset()}}jv.\u0275fac=function(t){return new(t||jv)(a.Y36(am),a.Y36(Ln))},jv.\u0275cmp=a.Xpm({type:jv,selectors:[["app-register"]],decls:23,vars:5,consts:[[3,"formGroup","ngSubmit"],["id","welcome"],[1,"form-div"],["for","firstName"],["name","firstName","id","firstName","formControlName","firstName"],["for","lastName"],["name","lastName","id","lastName","formControlName","lastName"],["for","email"],["type","email","name","email","id","email","formControlName","email"],[1,"form-div","no-flex"],["type","text","for","password"],["name","password","id","password","formControlName","password",3,"type"],["type","submit",1,"submit-form-button",3,"disabled"],["id","log-in-link",3,"routerLink"]],template:function(t,e){1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return e.onSubmit()}),a.TgZ(1,"h2",1),a._uU(2,"Register to FlyAway!"),a.qZA(),a.TgZ(3,"div",2)(4,"label",3),a._uU(5,"First name"),a.qZA(),a._UZ(6,"input",4),a.qZA(),a.TgZ(7,"div",2)(8,"label",5),a._uU(9,"Last name"),a.qZA(),a._UZ(10,"input",6),a.qZA(),a.TgZ(11,"div",2)(12,"label",7),a._uU(13,"Email"),a.qZA(),a._UZ(14,"input",8),a.qZA(),a.TgZ(15,"div",9)(16,"label",10),a._uU(17,"Password"),a.qZA(),a._UZ(18,"input",11),a.qZA(),a.TgZ(19,"button",12),a._uU(20,"Register"),a.qZA(),a.TgZ(21,"a",13),a._uU(22,"If you have already created your account, log in!"),a.qZA()()),2&t&&(a.Q6J("formGroup",e.registerForm),a.xp6(18),a.s9C("type",e.passwordVisible?"text":"password"),a.xp6(1),a.Q6J("disabled",!e.registerForm.valid),a.xp6(2),a.Q6J("routerLink",a.DdM(4,MM)))},dependencies:[jo,at,Uo,eu,p,Ve,no],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}#welcome[_ngcontent-%COMP%]{margin:10px}#password-visibility[_ngcontent-%COMP%]{position:relative;width:25px;height:15px;top:-27px;left:230px;z-index:1}#log-in-link[_ngcontent-%COMP%]{margin:10px}",".form-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:10px}.form-div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:250px;padding:5px;margin:0;border-radius:10px}.ng-valid[_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]{border-left:5px solid #42A948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}button[_ngcontent-%COMP%]{border-radius:10px;margin:10px;padding:10px}.submit-form-button[_ngcontent-%COMP%]{margin:10px;width:200px;border-radius:10px}"]});const RM=function(){return["/register"]};class Gv{constructor(t,e){this.fb=t,this.fbAuth=e,this.passwordVisible=!1,this.loginForm=this.fb.group({email:["",[bt.required,bt.email]],password:["",bt.required]})}getEyePath(){return this.passwordVisible?"assets/imgs/opened_eye.jpg":"assets/imgs/closed_eye.jpg"}togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}onSubmit(){let t=this.loginForm.value;this.fbAuth.logInUser(t.email,t.password),this.loginForm.reset()}}function xM(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2)(1,"p"),a._uU(2),a.qZA(),a.TgZ(3,"p"),a._uU(4),a.qZA(),a.TgZ(5,"div",3)(6,"div"),a._uU(7,"Roles:"),a.qZA(),a.TgZ(8,"div")(9,"input",4),a.NdJ("change",function(){const d=a.CHM(e).$implicit,g=a.oxw();return a.KtG(g.changeRole(d,"admin",!d[1].roles.admin))}),a.qZA(),a.TgZ(10,"label",5),a._uU(11,"Admin"),a.qZA()(),a.TgZ(12,"div")(13,"input",4),a.NdJ("change",function(){const d=a.CHM(e).$implicit,g=a.oxw();return a.KtG(g.changeRole(d,"banned",!d[1].roles.banned))}),a.qZA(),a.TgZ(14,"label",5),a._uU(15,"Banned"),a.qZA()(),a.TgZ(16,"div")(17,"input",4),a.NdJ("change",function(){const d=a.CHM(e).$implicit,g=a.oxw();return a.KtG(g.changeRole(d,"client",!d[1].roles.client))}),a.qZA(),a.TgZ(18,"label",5),a._uU(19,"Client"),a.qZA()(),a.TgZ(20,"div")(21,"input",4),a.NdJ("change",function(){const d=a.CHM(e).$implicit,g=a.oxw();return a.KtG(g.changeRole(d,"manager",!d[1].roles.manager))}),a.qZA(),a.TgZ(22,"label",5),a._uU(23,"Manager"),a.qZA()()()()}if(2&n){const e=t.$implicit,i=t.index;a.xp6(2),a.hij("Name: ",e[1].firstName+" "+e[1].lastName,""),a.xp6(2),a.hij("Email: ",e[1].email,""),a.xp6(5),a.MGl("id","admin-",i,""),a.Q6J("checked",e[1].roles.admin),a.xp6(1),a.MGl("for","admin-",i,""),a.xp6(3),a.MGl("id","banned-",i,""),a.Q6J("checked",e[1].roles.banned),a.xp6(1),a.MGl("for","banned-",i,""),a.xp6(3),a.MGl("id","client-",i,""),a.Q6J("checked",e[1].roles.client),a.xp6(1),a.MGl("for","client-",i,""),a.xp6(3),a.MGl("id","manager-",i,""),a.Q6J("checked",e[1].roles.manager),a.xp6(1),a.MGl("for","manager-",i,"")}}Gv.\u0275fac=function(t){return new(t||Gv)(a.Y36(am),a.Y36(Ln))},Gv.\u0275cmp=a.Xpm({type:Gv,selectors:[["app-log-in"]],decls:16,vars:6,consts:[[3,"formGroup","ngSubmit"],["id","welcome"],[1,"form-div"],["for","email"],["type","email","name","email","id","email","formControlName","email"],["type","text","for","password"],["name","password","id","password","formControlName","password",3,"type"],["id","password-visibility",3,"src","click"],["type","submit",1,"submit-form-button",3,"disabled"],["id","register-link",3,"routerLink"]],template:function(t,e){1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return e.onSubmit()}),a.TgZ(1,"h2",1),a._uU(2,"Welcome to FlyAway"),a.qZA(),a.TgZ(3,"div",2)(4,"label",3),a._uU(5,"Email"),a.qZA(),a._UZ(6,"input",4),a.qZA(),a.TgZ(7,"div",2)(8,"label",5),a._uU(9,"Password"),a.qZA(),a._UZ(10,"input",6),a.TgZ(11,"img",7),a.NdJ("click",function(){return e.togglePasswordVisibility()}),a.qZA()(),a.TgZ(12,"button",8),a._uU(13,"Log in"),a.qZA(),a.TgZ(14,"a",9),a._uU(15,"You haven't created an account yet? Join us!"),a.qZA()()),2&t&&(a.Q6J("formGroup",e.loginForm),a.xp6(10),a.s9C("type",e.passwordVisible?"text":"password"),a.xp6(1),a.s9C("src",e.getEyePath(),a.LSH),a.xp6(1),a.Q6J("disabled",!e.loginForm.valid),a.xp6(2),a.Q6J("routerLink",a.DdM(5,RM)))},dependencies:[jo,at,Uo,eu,p,Ve,no],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}#welcome[_ngcontent-%COMP%]{margin:10px}#password-visibility[_ngcontent-%COMP%]{position:relative;width:25px;height:15px;top:-27px;left:230px}#register-link[_ngcontent-%COMP%]{margin:10px}",".form-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:10px}.form-div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:250px;padding:5px;margin:0;border-radius:10px}.ng-valid[_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]{border-left:5px solid #42A948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}button[_ngcontent-%COMP%]{border-radius:10px;margin:10px;padding:10px}.submit-form-button[_ngcontent-%COMP%]{margin:10px;width:200px;border-radius:10px}"]});class Wv{constructor(t,e){this.fbAuth=t,this.fbData=e,this.users=[]}ngOnInit(){this.fbAuth.getAllUsersData().subscribe(t=>{this.users=t})}changeRole(t,e,i){this.fbAuth.updateUserRole(t[0],e,i)}}function OM(n,t){1&n&&(a.TgZ(0,"li"),a._uU(1,"Admin"),a.qZA())}function PM(n,t){1&n&&(a.TgZ(0,"li"),a._uU(1,"Banned"),a.qZA())}function NM(n,t){1&n&&(a.TgZ(0,"li"),a._uU(1,"Client"),a.qZA())}function kM(n,t){1&n&&(a.TgZ(0,"li"),a._uU(1,"Manager"),a.qZA())}Wv.\u0275fac=function(t){return new(t||Wv)(a.Y36(Ln),a.Y36(Ur))},Wv.\u0275cmp=a.Xpm({type:Wv,selectors:[["app-admin-panel"]],decls:3,vars:1,consts:[["id","users-list"],["class","user",4,"ngFor","ngForOf"],[1,"user"],[1,"user-roles"],["type","checkbox",3,"id","checked","change"],[3,"for"]],template:function(t,e){1&t&&(a.TgZ(0,"section",0),a.YNc(1,xM,24,14,"div",1),a._UZ(2,"section"),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",e.users))},dependencies:[An],styles:["section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.user[_ngcontent-%COMP%]{display:inline-block;background-color:var(--color-sec-light);padding:10px;margin:10px;border-radius:10px;transition:all .5s}.user[_ngcontent-%COMP%]:hover{background-color:var(--color-sec)}.user-roles[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]});class Zv{constructor(t,e){this.fbAuth=t,this.afa=e,this.userData=null,this.user=null,this.fbAuth.getCurrentUserData$().subscribe(i=>this.userData=i),this.afa.authState.subscribe(i=>this.user=i)}}function FM(n,t){if(1&n&&(a.TgZ(0,"option",2),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.s9C("routerLink",e[1]),a.xp6(1),a.AsE("",e[0].name,", id: ",e[1],"")}}Zv.\u0275fac=function(t){return new(t||Zv)(a.Y36(Ln),a.Y36(ua))},Zv.\u0275cmp=a.Xpm({type:Zv,selectors:[["app-user-info"]],decls:34,vars:8,consts:[[1,"center"],[1,"user-info"],[1,"no-bullets"],[4,"ngIf"]],template:function(t,e){1&t&&(a.TgZ(0,"section")(1,"h2",0),a._uU(2,"My profile"),a.qZA(),a.TgZ(3,"table",1)(4,"tr")(5,"th"),a._uU(6,"First name"),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA()(),a.TgZ(9,"tr")(10,"th"),a._uU(11,"Last name"),a.qZA(),a.TgZ(12,"td"),a._uU(13),a.qZA()(),a.TgZ(14,"tr")(15,"th"),a._uU(16,"Email"),a.qZA(),a.TgZ(17,"td"),a._uU(18),a.qZA()(),a.TgZ(19,"tr")(20,"th"),a._uU(21,"Email verified"),a.qZA(),a.TgZ(22,"td"),a._uU(23),a.qZA()(),a.TgZ(24,"tr")(25,"th"),a._uU(26,"Assigned roles"),a.qZA(),a.TgZ(27,"td")(28,"div")(29,"ul",2),a.YNc(30,OM,2,0,"li",3),a.YNc(31,PM,2,0,"li",3),a.YNc(32,NM,2,0,"li",3),a.YNc(33,kM,2,0,"li",3),a.qZA()()()()()()),2&t&&(a.xp6(8),a.Oqu(null==e.userData?null:e.userData.firstName),a.xp6(5),a.Oqu(null==e.userData?null:e.userData.lastName),a.xp6(5),a.Oqu(null==e.userData?null:e.userData.email),a.xp6(5),a.Oqu(null==e.user?null:e.user.emailVerified),a.xp6(7),a.Q6J("ngIf",null==e.userData||null==e.userData.roles?null:e.userData.roles.admin),a.xp6(1),a.Q6J("ngIf",null==e.userData||null==e.userData.roles?null:e.userData.roles.banned),a.xp6(1),a.Q6J("ngIf",null==e.userData||null==e.userData.roles?null:e.userData.roles.client),a.xp6(1),a.Q6J("ngIf",null==e.userData||null==e.userData.roles?null:e.userData.roles.manager))},dependencies:[xt],styles:["section[_ngcontent-%COMP%]{margin:15px}.center[_ngcontent-%COMP%]{text-align:center}.user-info[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;background-color:var(--color-sec)}.user-info[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:var(--color-sec-light)}.user-info[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .user-info[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border:2px solid black;padding:4vh 4vw;text-align:left}.no-bullets[_ngcontent-%COMP%]{list-style-position:inside;padding:0;margin:0}"]});class zv{constructor(t){this.fbdb=t,this.tripAndIds=[],t.getTripsAndIds$().subscribe(e=>this.tripAndIds=e.sort((i,l)=>i[0].name.localeCompare(l[0].name)))}}zv.\u0275fac=function(t){return new(t||zv)(a.Y36(Ur))},zv.\u0275cmp=a.Xpm({type:zv,selectors:[["app-manager-panel"]],decls:6,vars:1,consts:[["routerLink","create-new-trip",1,"button-color-sec"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,e){1&t&&(a.TgZ(0,"button",0),a._uU(1,"Add new trip"),a.qZA(),a.TgZ(2,"h2"),a._uU(3,"Modify existing trip"),a.qZA(),a.TgZ(4,"select"),a.YNc(5,FM,2,3,"option",1),a.qZA()),2&t&&(a.xp6(5),a.Q6J("ngForOf",e.tripAndIds))},dependencies:[An,Ya,mu,no]});class Lg{constructor(t,e){this.fbAuth=t,this.router=e}canActivate(t,e){return this.fbAuth.getCurrentUserRoles$().pipe((0,Ze.U)(i=>!0===i?.client||!0===i?.manager||(null===i?(this.router.navigate(["log-in"]),!0):(this.router.navigate(["home"]),!1))))}}Lg.\u0275fac=function(t){return new(t||Lg)(a.LFG(Ln),a.LFG(_n))},Lg.\u0275prov=a.Yz7({token:Lg,factory:Lg.\u0275fac,providedIn:"root"}),function cn(n,t,e){(0,a.dwT)(n,t,e)}(uS,"en-GB");const LM=[{path:"home",component:Pv},{path:"admin-panel",component:Wv,canActivate:[Og]},{path:"trips-list",component:xv},{path:"trip-details/:tripId",component:Hv,canActivate:[Lg]},{path:"manager-panel",component:zv,canActivate:[Lf]},{path:"manager-panel/:tripId",component:Ov,canActivate:[Lf]},{path:"basket",component:Nv,canActivate:[kf]},{path:"history",component:Fv,canActivate:[kf]},{path:"register",component:jv,canActivate:[Ff]},{path:"log-in",component:Gv,canActivate:[Ff]},{path:"user-info",component:Zv,canActivate:[Pg]},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:Lv}];class Ug{}Ug.\u0275fac=function(t){return new(t||Ug)},Ug.\u0275mod=a.oAB({type:Ug,bootstrap:[Mv]}),Ug.\u0275inj=a.cJS({providers:[{provide:a.soG,useValue:"en-GB"},{provide:a.EJc,useValue:"EUR"}],imports:[Wl,IE,ly,fs.hO.initializeApp({apiKey:"AIzaSyA7qi0eIGbaGUPH4xGmGupIr9qnkb5t_UU",authDomain:"travelagencywdailab6.firebaseapp.com",projectId:"travelagencywdailab6",storageBucket:"travelagencywdailab6.appspot.com",messagingSenderId:"906406865469",appId:"1:906406865469:web:48ce155bb1808e44b69854",databaseURL:"https://travelagencywdailab6-default-rtdb.europe-west1.firebasedatabase.app"}),oS,DC.forRoot(LM,{scrollPositionRestoration:"enabled"})]}),li().bootstrapModule(Ug).catch(n=>console.error(n))},9751:(qe,me,O)=>{O.d(me,{y:()=>ae});var a=O(930),K=O(727),x=O(8822),ie=O(9635),re=O(2416),se=O(576),ce=O(2806);let ae=(()=>{class q{constructor(ve){ve&&(this._subscribe=ve)}lift(ve){const Fe=new q;return Fe.source=this,Fe.operator=ve,Fe}subscribe(ve,Fe,We){const ue=function B(q){return q&&q instanceof a.Lv||function V(q){return q&&(0,se.m)(q.next)&&(0,se.m)(q.error)&&(0,se.m)(q.complete)}(q)&&(0,K.Nn)(q)}(ve)?ve:new a.Hp(ve,Fe,We);return(0,ce.x)(()=>{const{operator:ye,source:_e}=this;ue.add(ye?ye.call(ue,_e):_e?this._subscribe(ue):this._trySubscribe(ue))}),ue}_trySubscribe(ve){try{return this._subscribe(ve)}catch(Fe){ve.error(Fe)}}forEach(ve,Fe){return new(Fe=oe(Fe))((We,ue)=>{const ye=new a.Hp({next:_e=>{try{ve(_e)}catch(Te){ue(Te),ye.unsubscribe()}},error:ue,complete:We});this.subscribe(ye)})}_subscribe(ve){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(ve)}[x.L](){return this}pipe(...ve){return(0,ie.U)(ve)(this)}toPromise(ve){return new(ve=oe(ve))((Fe,We)=>{let ue;this.subscribe(ye=>ue=ye,ye=>We(ye),()=>Fe(ue))})}}return q.create=Me=>new q(Me),q})();function oe(q){var Me;return null!==(Me=q??re.v.Promise)&&void 0!==Me?Me:Promise}},7579:(qe,me,O)=>{O.d(me,{x:()=>ce});var a=O(9751),K=O(727);const ie=(0,O(3888).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=O(8737),se=O(2806);let ce=(()=>{class oe extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const q=new ae(this,this);return q.operator=B,q}_throwIfClosed(){if(this.closed)throw new ie}next(B){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(B)}})}error(B){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:q}=this;for(;q.length;)q.shift().error(B)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:q,isStopped:Me,observers:ve}=this;return q||Me?K.Lc:(this.currentObservers=null,ve.push(B),new K.w0(()=>{this.currentObservers=null,(0,re.P)(ve,B)}))}_checkFinalizedStatuses(B){const{hasError:q,thrownError:Me,isStopped:ve}=this;q?B.error(Me):ve&&B.complete()}asObservable(){const B=new a.y;return B.source=this,B}}return oe.create=(V,B)=>new ae(V,B),oe})();class ae extends ce{constructor(V,B){super(),this.destination=V,this.source=B}next(V){var B,q;null===(q=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===q||q.call(B,V)}error(V){var B,q;null===(q=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===q||q.call(B,V)}complete(){var V,B;null===(B=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===B||B.call(V)}_subscribe(V){var B,q;return null!==(q=null===(B=this.source)||void 0===B?void 0:B.subscribe(V))&&void 0!==q?q:K.Lc}}},930:(qe,me,O)=>{O.d(me,{Hp:()=>We,Lv:()=>q});var a=O(576),K=O(727),x=O(2416),ie=O(7849),re=O(5032);const se=oe("C",void 0,void 0);function oe(De,pe,be){return{kind:De,value:pe,error:be}}var V=O(3410),B=O(2806);class q extends K.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,K.Nn)(pe)&&pe.add(this)):this.destination=Te}static create(pe,be,Oe){return new We(pe,be,Oe)}next(pe){this.isStopped?_e(function ae(De){return oe("N",De,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?_e(function ce(De){return oe("E",void 0,De)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?_e(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function ve(De,pe){return Me.call(De,pe)}class Fe{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:be}=this;if(be.next)try{be.next(pe)}catch(Oe){ue(Oe)}}error(pe){const{partialObserver:be}=this;if(be.error)try{be.error(pe)}catch(Oe){ue(Oe)}else ue(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(be){ue(be)}}}class We extends q{constructor(pe,be,Oe){let Ae;if(super(),(0,a.m)(pe)||!pe)Ae={next:pe??void 0,error:be??void 0,complete:Oe??void 0};else{let U;this&&x.v.useDeprecatedNextContext?(U=Object.create(pe),U.unsubscribe=()=>this.unsubscribe(),Ae={next:pe.next&&ve(pe.next,U),error:pe.error&&ve(pe.error,U),complete:pe.complete&&ve(pe.complete,U)}):Ae=pe}this.destination=new Fe(Ae)}}function ue(De){x.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(De):(0,ie.h)(De)}function _e(De,pe){const{onStoppedNotification:be}=x.v;be&&V.z.setTimeout(()=>be(De,pe))}const Te={closed:!0,next:re.Z,error:function ye(De){throw De},complete:re.Z}},727:(qe,me,O)=>{O.d(me,{Lc:()=>se,w0:()=>re,Nn:()=>ce});var a=O(576);const x=(0,O(3888).d)(oe=>function(B){oe(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((q,Me)=>`${Me+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ie=O(8737);class re{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const ve of B)ve.remove(this);else B.remove(this);const{initialTeardown:q}=this;if((0,a.m)(q))try{q()}catch(ve){V=ve instanceof x?ve.errors:[ve]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const ve of Me)try{ae(ve)}catch(Fe){V=V??[],Fe instanceof x?V=[...V,...Fe.errors]:V.push(Fe)}}if(V)throw new x(V)}}add(V){var B;if(V&&V!==this)if(this.closed)ae(V);else{if(V instanceof re){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(V)}}_hasParent(V){const{_parentage:B}=this;return B===V||Array.isArray(B)&&B.includes(V)}_addParent(V){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(V),B):B?[B,V]:V}_removeParent(V){const{_parentage:B}=this;B===V?this._parentage=null:Array.isArray(B)&&(0,ie.P)(B,V)}remove(V){const{_finalizers:B}=this;B&&(0,ie.P)(B,V),V instanceof re&&V._removeParent(this)}}re.EMPTY=(()=>{const oe=new re;return oe.closed=!0,oe})();const se=re.EMPTY;function ce(oe){return oe instanceof re||oe&&"closed"in oe&&(0,a.m)(oe.remove)&&(0,a.m)(oe.add)&&(0,a.m)(oe.unsubscribe)}function ae(oe){(0,a.m)(oe)?oe():oe.unsubscribe()}},2416:(qe,me,O)=>{O.d(me,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(qe,me,O)=>{O.d(me,{E:()=>K});const K=new(O(9751).y)(re=>re.complete())},8996:(qe,me,O)=>{O.d(me,{D:()=>pe});var a=O(8421),K=O(5363),x=O(9468),se=O(9751),ae=O(2202),oe=O(576),V=O(9672);function q(be,Oe){if(!be)throw new Error("Iterable cannot be null");return new se.y(Ae=>{(0,V.f)(Ae,Oe,()=>{const U=be[Symbol.asyncIterator]();(0,V.f)(Ae,Oe,()=>{U.next().then(fe=>{fe.done?Ae.complete():Ae.next(fe.value)})},0,!0)})})}var Me=O(3670),ve=O(8239),Fe=O(1144),We=O(6495),ue=O(2206),ye=O(4532),_e=O(3260);function pe(be,Oe){return Oe?function De(be,Oe){if(null!=be){if((0,Me.c)(be))return function ie(be,Oe){return(0,a.Xf)(be).pipe((0,x.R)(Oe),(0,K.Q)(Oe))}(be,Oe);if((0,Fe.z)(be))return function ce(be,Oe){return new se.y(Ae=>{let U=0;return Oe.schedule(function(){U===be.length?Ae.complete():(Ae.next(be[U++]),Ae.closed||this.schedule())})})}(be,Oe);if((0,ve.t)(be))return function re(be,Oe){return(0,a.Xf)(be).pipe((0,x.R)(Oe),(0,K.Q)(Oe))}(be,Oe);if((0,ue.D)(be))return q(be,Oe);if((0,We.T)(be))return function B(be,Oe){return new se.y(Ae=>{let U;return(0,V.f)(Ae,Oe,()=>{U=be[ae.h](),(0,V.f)(Ae,Oe,()=>{let fe,W;try{({value:fe,done:W}=U.next())}catch(Y){return void Ae.error(Y)}W?Ae.complete():Ae.next(fe)},0,!0)}),()=>(0,oe.m)(U?.return)&&U.return()})}(be,Oe);if((0,_e.L)(be))return function Te(be,Oe){return q((0,_e.Q)(be),Oe)}(be,Oe)}throw(0,ye.z)(be)}(be,Oe):(0,a.Xf)(be)}},8421:(qe,me,O)=>{O.d(me,{Xf:()=>Me});var a=O(655),K=O(1144),x=O(8239),ie=O(9751),re=O(3670),se=O(2206),ce=O(4532),ae=O(6495),oe=O(3260),V=O(576),B=O(7849),q=O(8822);function Me(De){if(De instanceof ie.y)return De;if(null!=De){if((0,re.c)(De))return function ve(De){return new ie.y(pe=>{const be=De[q.L]();if((0,V.m)(be.subscribe))return be.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,K.z)(De))return function Fe(De){return new ie.y(pe=>{for(let be=0;be<De.length&&!pe.closed;be++)pe.next(De[be]);pe.complete()})}(De);if((0,x.t)(De))return function We(De){return new ie.y(pe=>{De.then(be=>{pe.closed||(pe.next(be),pe.complete())},be=>pe.error(be)).then(null,B.h)})}(De);if((0,se.D)(De))return ye(De);if((0,ae.T)(De))return function ue(De){return new ie.y(pe=>{for(const be of De)if(pe.next(be),pe.closed)return;pe.complete()})}(De);if((0,oe.L)(De))return function _e(De){return ye((0,oe.Q)(De))}(De)}throw(0,ce.z)(De)}function ye(De){return new ie.y(pe=>{(function Te(De,pe){var be,Oe,Ae,U;return(0,a.mG)(this,void 0,void 0,function*(){try{for(be=(0,a.KL)(De);!(Oe=yield be.next()).done;)if(pe.next(Oe.value),pe.closed)return}catch(fe){Ae={error:fe}}finally{try{Oe&&!Oe.done&&(U=be.return)&&(yield U.call(be))}finally{if(Ae)throw Ae.error}}pe.complete()})})(De,pe).catch(be=>pe.error(be))})}},6451:(qe,me,O)=>{O.d(me,{T:()=>se});var a=O(8189),K=O(8421),x=O(515),ie=O(7669),re=O(8996);function se(...ce){const ae=(0,ie.yG)(ce),oe=(0,ie._6)(ce,1/0),V=ce;return V.length?1===V.length?(0,K.Xf)(V[0]):(0,a.J)(oe)((0,re.D)(V,ae)):x.E}},5403:(qe,me,O)=>{O.d(me,{x:()=>K});var a=O(930);function K(ie,re,se,ce,ae){return new x(ie,re,se,ce,ae)}class x extends a.Lv{constructor(re,se,ce,ae,oe,V){super(re),this.onFinalize=oe,this.shouldUnsubscribe=V,this._next=se?function(B){try{se(B)}catch(q){re.error(q)}}:super._next,this._error=ae?function(B){try{ae(B)}catch(q){re.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(B){re.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(qe,me,O)=>{O.d(me,{U:()=>x});var a=O(4482),K=O(5403);function x(ie,re){return(0,a.e)((se,ce)=>{let ae=0;se.subscribe((0,K.x)(ce,oe=>{ce.next(ie.call(re,oe,ae++))}))})}},8189:(qe,me,O)=>{O.d(me,{J:()=>x});var a=O(5577),K=O(4671);function x(ie=1/0){return(0,a.z)(K.y,ie)}},5577:(qe,me,O)=>{O.d(me,{z:()=>ae});var a=O(4004),K=O(8421),x=O(4482),ie=O(9672),re=O(5403),ce=O(576);function ae(oe,V,B=1/0){return(0,ce.m)(V)?ae((q,Me)=>(0,a.U)((ve,Fe)=>V(q,ve,Me,Fe))((0,K.Xf)(oe(q,Me))),B):("number"==typeof V&&(B=V),(0,x.e)((q,Me)=>function se(oe,V,B,q,Me,ve,Fe,We){const ue=[];let ye=0,_e=0,Te=!1;const De=()=>{Te&&!ue.length&&!ye&&V.complete()},pe=Oe=>ye<q?be(Oe):ue.push(Oe),be=Oe=>{ve&&V.next(Oe),ye++;let Ae=!1;(0,K.Xf)(B(Oe,_e++)).subscribe((0,re.x)(V,U=>{Me?.(U),ve?pe(U):V.next(U)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(ye--;ue.length&&ye<q;){const U=ue.shift();Fe?(0,ie.f)(V,Fe,()=>be(U)):be(U)}De()}catch(U){V.error(U)}}))};return oe.subscribe((0,re.x)(V,pe,()=>{Te=!0,De()})),()=>{We?.()}}(q,Me,oe,B)))}},5363:(qe,me,O)=>{O.d(me,{Q:()=>ie});var a=O(9672),K=O(4482),x=O(5403);function ie(re,se=0){return(0,K.e)((ce,ae)=>{ce.subscribe((0,x.x)(ae,oe=>(0,a.f)(ae,re,()=>ae.next(oe),se),()=>(0,a.f)(ae,re,()=>ae.complete(),se),oe=>(0,a.f)(ae,re,()=>ae.error(oe),se)))})}},3099:(qe,me,O)=>{O.d(me,{B:()=>re});var a=O(8421),K=O(7579),x=O(930),ie=O(4482);function re(ce={}){const{connector:ae=(()=>new K.x),resetOnError:oe=!0,resetOnComplete:V=!0,resetOnRefCountZero:B=!0}=ce;return q=>{let Me,ve,Fe,We=0,ue=!1,ye=!1;const _e=()=>{ve?.unsubscribe(),ve=void 0},Te=()=>{_e(),Me=Fe=void 0,ue=ye=!1},De=()=>{const pe=Me;Te(),pe?.unsubscribe()};return(0,ie.e)((pe,be)=>{We++,!ye&&!ue&&_e();const Oe=Fe=Fe??ae();be.add(()=>{We--,0===We&&!ye&&!ue&&(ve=se(De,B))}),Oe.subscribe(be),!Me&&We>0&&(Me=new x.Hp({next:Ae=>Oe.next(Ae),error:Ae=>{ye=!0,_e(),ve=se(Te,oe,Ae),Oe.error(Ae)},complete:()=>{ue=!0,_e(),ve=se(Te,V),Oe.complete()}}),(0,a.Xf)(pe).subscribe(Me))})(q)}}function se(ce,ae,...oe){if(!0===ae)return void ce();if(!1===ae)return;const V=new x.Hp({next:()=>{V.unsubscribe(),ce()}});return ae(...oe).subscribe(V)}},9468:(qe,me,O)=>{O.d(me,{R:()=>K});var a=O(4482);function K(x,ie=0){return(0,a.e)((re,se)=>{se.add(x.schedule(()=>re.subscribe(se),ie))})}},8505:(qe,me,O)=>{O.d(me,{b:()=>re});var a=O(576),K=O(4482),x=O(5403),ie=O(4671);function re(se,ce,ae){const oe=(0,a.m)(se)||ce||ae?{next:se,error:ce,complete:ae}:se;return oe?(0,K.e)((V,B)=>{var q;null===(q=oe.subscribe)||void 0===q||q.call(oe);let Me=!0;V.subscribe((0,x.x)(B,ve=>{var Fe;null===(Fe=oe.next)||void 0===Fe||Fe.call(oe,ve),B.next(ve)},()=>{var ve;Me=!1,null===(ve=oe.complete)||void 0===ve||ve.call(oe),B.complete()},ve=>{var Fe;Me=!1,null===(Fe=oe.error)||void 0===Fe||Fe.call(oe,ve),B.error(ve)},()=>{var ve,Fe;Me&&(null===(ve=oe.unsubscribe)||void 0===ve||ve.call(oe)),null===(Fe=oe.finalize)||void 0===Fe||Fe.call(oe)}))}):ie.y}},4408:(qe,me,O)=>{O.d(me,{o:()=>re});var a=O(727);class K extends a.w0{constructor(ce,ae){super()}schedule(ce,ae=0){return this}}const x={setInterval(se,ce,...ae){const{delegate:oe}=x;return oe?.setInterval?oe.setInterval(se,ce,...ae):setInterval(se,ce,...ae)},clearInterval(se){const{delegate:ce}=x;return(ce?.clearInterval||clearInterval)(se)},delegate:void 0};var ie=O(8737);class re extends K{constructor(ce,ae){super(ce,ae),this.scheduler=ce,this.work=ae,this.pending=!1}schedule(ce,ae=0){var oe;if(this.closed)return this;this.state=ce;const V=this.id,B=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(B,V,ae)),this.pending=!0,this.delay=ae,this.id=null!==(oe=this.id)&&void 0!==oe?oe:this.requestAsyncId(B,this.id,ae),this}requestAsyncId(ce,ae,oe=0){return x.setInterval(ce.flush.bind(ce,this),oe)}recycleAsyncId(ce,ae,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return ae;null!=ae&&x.clearInterval(ae)}execute(ce,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ce,ae);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,ae){let V,oe=!1;try{this.work(ce)}catch(B){oe=!0,V=B||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:ce,scheduler:ae}=this,{actions:oe}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(oe,this),null!=ce&&(this.id=this.recycleAsyncId(ae,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(qe,me,O)=>{O.d(me,{v:()=>x});var a=O(6063);class K{constructor(re,se=K.now){this.schedulerActionCtor=re,this.now=se}schedule(re,se=0,ce){return new this.schedulerActionCtor(this,re).schedule(ce,se)}}K.now=a.l.now;class x extends K{constructor(re,se=K.now){super(re,se),this.actions=[],this._active=!1}flush(re){const{actions:se}=this;if(this._active)return void se.push(re);let ce;this._active=!0;do{if(ce=re.execute(re.state,re.delay))break}while(re=se.shift());if(this._active=!1,ce){for(;re=se.shift();)re.unsubscribe();throw ce}}}},4986:(qe,me,O)=>{O.d(me,{z:()=>x});var a=O(4408);const x=new(O(7565).v)(a.o)},6063:(qe,me,O)=>{O.d(me,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(qe,me,O)=>{O.d(me,{z:()=>a});const a={setTimeout(K,x,...ie){const{delegate:re}=a;return re?.setTimeout?re.setTimeout(K,x,...ie):setTimeout(K,x,...ie)},clearTimeout(K){const{delegate:x}=a;return(x?.clearTimeout||clearTimeout)(K)},delegate:void 0}},2202:(qe,me,O)=>{O.d(me,{h:()=>K});const K=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(qe,me,O)=>{O.d(me,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(qe,me,O)=>{O.d(me,{_6:()=>se,jO:()=>ie,yG:()=>re});var a=O(576);function x(ce){return ce[ce.length-1]}function ie(ce){return(0,a.m)(x(ce))?ce.pop():void 0}function re(ce){return function K(ce){return ce&&(0,a.m)(ce.schedule)}(x(ce))?ce.pop():void 0}function se(ce,ae){return"number"==typeof x(ce)?ce.pop():ae}},8737:(qe,me,O)=>{function a(K,x){if(K){const ie=K.indexOf(x);0<=ie&&K.splice(ie,1)}}O.d(me,{P:()=>a})},3888:(qe,me,O)=>{function a(K){const ie=K(re=>{Error.call(re),re.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}O.d(me,{d:()=>a})},2806:(qe,me,O)=>{O.d(me,{O:()=>ie,x:()=>x});var a=O(2416);let K=null;function x(re){if(a.v.useDeprecatedSynchronousErrorHandling){const se=!K;if(se&&(K={errorThrown:!1,error:null}),re(),se){const{errorThrown:ce,error:ae}=K;if(K=null,ce)throw ae}}else re()}function ie(re){a.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=re)}},9672:(qe,me,O)=>{function a(K,x,ie,re=0,se=!1){const ce=x.schedule(function(){ie(),se?K.add(this.schedule(null,re)):this.unsubscribe()},re);if(K.add(ce),!se)return ce}O.d(me,{f:()=>a})},4671:(qe,me,O)=>{function a(K){return K}O.d(me,{y:()=>a})},1144:(qe,me,O)=>{O.d(me,{z:()=>a});const a=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(qe,me,O)=>{O.d(me,{D:()=>K});var a=O(576);function K(x){return Symbol.asyncIterator&&(0,a.m)(x?.[Symbol.asyncIterator])}},576:(qe,me,O)=>{function a(K){return"function"==typeof K}O.d(me,{m:()=>a})},3670:(qe,me,O)=>{O.d(me,{c:()=>x});var a=O(8822),K=O(576);function x(ie){return(0,K.m)(ie[a.L])}},6495:(qe,me,O)=>{O.d(me,{T:()=>x});var a=O(2202),K=O(576);function x(ie){return(0,K.m)(ie?.[a.h])}},8239:(qe,me,O)=>{O.d(me,{t:()=>K});var a=O(576);function K(x){return(0,a.m)(x?.then)}},3260:(qe,me,O)=>{O.d(me,{L:()=>ie,Q:()=>x});var a=O(655),K=O(576);function x(re){return(0,a.FC)(this,arguments,function*(){const ce=re.getReader();try{for(;;){const{value:ae,done:oe}=yield(0,a.qq)(ce.read());if(oe)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ae)}}finally{ce.releaseLock()}})}function ie(re){return(0,K.m)(re?.getReader)}},4482:(qe,me,O)=>{O.d(me,{A:()=>K,e:()=>x});var a=O(576);function K(ie){return(0,a.m)(ie?.lift)}function x(ie){return re=>{if(K(re))return re.lift(function(se){try{return ie(se,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(qe,me,O)=>{function a(){}O.d(me,{Z:()=>a})},9635:(qe,me,O)=>{O.d(me,{U:()=>x,z:()=>K});var a=O(4671);function K(...ie){return x(ie)}function x(ie){return 0===ie.length?a.y:1===ie.length?ie[0]:function(se){return ie.reduce((ce,ae)=>ae(ce),se)}}},7849:(qe,me,O)=>{O.d(me,{h:()=>x});var a=O(2416),K=O(3410);function x(ie){K.z.setTimeout(()=>{const{onUnhandledError:re}=a.v;if(!re)throw ie;re(ie)})}},4532:(qe,me,O)=>{function a(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(me,{z:()=>a})},655:(qe,me,O)=>{function ie(W,Y){var ne={};for(var ee in W)Object.prototype.hasOwnProperty.call(W,ee)&&Y.indexOf(ee)<0&&(ne[ee]=W[ee]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ee=Object.getOwnPropertySymbols(W);Re<ee.length;Re++)Y.indexOf(ee[Re])<0&&Object.prototype.propertyIsEnumerable.call(W,ee[Re])&&(ne[ee[Re]]=W[ee[Re]])}return ne}function ae(W,Y,ne,ee){return new(ne||(ne=Promise))(function(Se,Ye){function Ut(Dt){try{_t(ee.next(Dt))}catch(Qe){Ye(Qe)}}function Wt(Dt){try{_t(ee.throw(Dt))}catch(Qe){Ye(Qe)}}function _t(Dt){Dt.done?Se(Dt.value):function Re(Se){return Se instanceof ne?Se:new ne(function(Ye){Ye(Se)})}(Dt.value).then(Ut,Wt)}_t((ee=ee.apply(W,Y||[])).next())})}function ue(W){return this instanceof ue?(this.v=W,this):new ue(W)}function ye(W,Y,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ee=ne.apply(W,Y||[]),Se=[];return Re={},Ye("next"),Ye("throw"),Ye("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Ye(Lt){ee[Lt]&&(Re[Lt]=function(Gn){return new Promise(function(tr,Je){Se.push([Lt,Gn,tr,Je])>1||Ut(Lt,Gn)})})}function Ut(Lt,Gn){try{!function Wt(Lt){Lt.value instanceof ue?Promise.resolve(Lt.value.v).then(_t,Dt):Qe(Se[0][2],Lt)}(ee[Lt](Gn))}catch(tr){Qe(Se[0][3],tr)}}function _t(Lt){Ut("next",Lt)}function Dt(Lt){Ut("throw",Lt)}function Qe(Lt,Gn){Lt(Gn),Se.shift(),Se.length&&Ut(Se[0][0],Se[0][1])}}function Te(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,Y=W[Symbol.asyncIterator];return Y?Y.call(W):(W=function q(W){var Y="function"==typeof Symbol&&Symbol.iterator,ne=Y&&W[Y],ee=0;if(ne)return ne.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ee>=W.length&&(W=void 0),{value:W&&W[ee++],done:!W}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ne={},ee("next"),ee("throw"),ee("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function ee(Se){ne[Se]=W[Se]&&function(Ye){return new Promise(function(Ut,Wt){!function Re(Se,Ye,Ut,Wt){Promise.resolve(Wt).then(function(_t){Se({value:_t,done:Ut})},Ye)}(Ut,Wt,(Ye=W[Se](Ye)).done,Ye.value)})}}}O.d(me,{FC:()=>ye,KL:()=>Te,_T:()=>ie,mG:()=>ae,qq:()=>ue})},4650:(qe,me,O)=>{O.d(me,{$8M:()=>Ac,$Z:()=>Fy,AFp:()=>Df,ALo:()=>og,AaK:()=>ae,AsE:()=>Zp,CHM:()=>Al,CRH:()=>B_,CZH:()=>yg,CqO:()=>fC,D6c:()=>lI,DdM:()=>gf,EJc:()=>tv,EpF:()=>hC,F4k:()=>Zm,FYo:()=>Kc,FiY:()=>Fo,GfV:()=>gy,Gpc:()=>B,JOm:()=>fi,Jf7:()=>fm,KtG:()=>_c,LFG:()=>Pe,LSH:()=>ay,Lbi:()=>Lb,Lck:()=>df,MAs:()=>$m,MGl:()=>Bp,MMx:()=>ln,NdJ:()=>zm,OlP:()=>jt,Oqu:()=>Qo,P3R:()=>wE,PXZ:()=>J0,Q6J:()=>Up,QGY:()=>Wm,QP$:()=>cn,Qsj:()=>NE,R0b:()=>mi,RDi:()=>Ti,Rgc:()=>ta,SBq:()=>Eu,Sil:()=>Bb,Suo:()=>I0,TTD:()=>vo,TgZ:()=>zh,VKq:()=>N_,W1O:()=>M0,X6Q:()=>rE,XFs:()=>Xe,Xpm:()=>co,Xts:()=>cy,Y36:()=>nd,YKP:()=>so,YNc:()=>Lp,Yjl:()=>fo,Yz7:()=>Je,Z0I:()=>nr,ZZ4:()=>Lr,_Bn:()=>rg,_UZ:()=>Hm,_Vd:()=>qc,_c5:()=>rc,_uU:()=>gd,aQg:()=>Fd,c2e:()=>W0,cJS:()=>Tr,cg1:()=>nf,dDg:()=>Wb,dqk:()=>ht,dwT:()=>BC,eFA:()=>xi,ekj:()=>n_,eoX:()=>Q0,f3M:()=>Be,g9A:()=>If,h0i:()=>_s,hGG:()=>yw,hij:()=>Jh,iGM:()=>b0,ifc:()=>At,ip1:()=>G0,jDz:()=>f0,kL8:()=>d_,lG2:()=>ho,lcZ:()=>_f,lqb:()=>Zo,lri:()=>Od,n5z:()=>Gl,oAB:()=>nn,oxw:()=>mC,q4F:()=>hs,qLn:()=>kn,qOj:()=>Nm,qZA:()=>Vp,rWj:()=>bg,s9C:()=>vC,sBO:()=>Yb,sIi:()=>ad,s_b:()=>lg,soG:()=>ec,tb:()=>Xu,tp0:()=>b,uIk:()=>Vm,vHH:()=>ue,vpe:()=>oo,wAp:()=>rt,xi3:()=>Id,xp6:()=>Iy,z2F:()=>Tg,zSh:()=>Th,zs3:()=>bu});var a=O(7579),K=O(727),x=O(9751),ie=O(6451),re=O(3099);function se(r){for(let s in r)if(r[s]===se)return s;throw Error("Could not find renamed property on target object.")}function ce(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function ae(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ae).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function oe(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const V=se({__forward_ref__:se});function B(r){return r.__forward_ref__=B,r.toString=function(){return ae(this())},r}function q(r){return Me(r)?r():r}function Me(r){return"function"==typeof r&&r.hasOwnProperty(V)&&r.__forward_ref__===B}function ve(r){return r&&!!r.\u0275providers}const We="https://g.co/ng/security#xss";class ue extends Error{constructor(s,o){super(function ye(r,s){return`NG0${Math.abs(r)}${s?": "+s.trim():""}`}(s,o)),this.code=s}}function _e(r){return"string"==typeof r?r:null==r?"":String(r)}function Oe(r,s){throw new ue(-201,!1)}function Dt(r,s){null==r&&function Qe(r,s,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,r,null,"!=")}function Je(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Tr(r){return{providers:r.providers||[],imports:r.imports||[]}}function cr(r){return Wn(r,rr)||Wn(r,Zt)}function nr(r){return null!==cr(r)}function Wn(r,s){return r.hasOwnProperty(s)?r[s]:null}function Ar(r){return r&&(r.hasOwnProperty(Ni)||r.hasOwnProperty(dr))?r[Ni]:null}const rr=se({\u0275prov:se}),Ni=se({\u0275inj:se}),Zt=se({ngInjectableDef:se}),dr=se({ngInjectorDef:se});var Xe=(()=>((Xe=Xe||{})[Xe.Default=0]="Default",Xe[Xe.Host=1]="Host",Xe[Xe.Self=2]="Self",Xe[Xe.SkipSelf=4]="SkipSelf",Xe[Xe.Optional=8]="Optional",Xe))();let yi;function Xt(r){const s=yi;return yi=r,s}function Zn(r,s,o){const u=cr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Xe.Optional?null:void 0!==s?s:void Oe(ae(r))}const ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),en={},Qt="__NG_DI_FLAG__",Br="ngTempTokenPath",Ds=/\n/gm,ei="__source";let Pt;function zn(r){const s=Pt;return Pt=r,s}function ti(r,s=Xe.Default){if(void 0===Pt)throw new ue(-203,!1);return null===Pt?Zn(r,void 0,s):Pt.get(r,s&Xe.Optional?null:void 0,s)}function Pe(r,s=Xe.Default){return(function Vr(){return yi}()||ti)(q(r),s)}function Be(r,s=Xe.Default){return Pe(r,ot(s))}function ot(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function ct(r){const s=[];for(let o=0;o<r.length;o++){const u=q(r[o]);if(Array.isArray(u)){if(0===u.length)throw new ue(900,!1);let c,f=Xe.Default;for(let _=0;_<u.length;_++){const y=u[_],E=$(y);"number"==typeof E?-1===E?c=y.token:f|=E:c=y}s.push(Pe(c,f))}else s.push(Pe(u))}return s}function vt(r,s){return r[Qt]=s,r.prototype[Qt]=s,r}function $(r){return r[Qt]}function de(r){return{toString:r}.toString()}var J=(()=>((J=J||{})[J.OnPush=0]="OnPush",J[J.Default=1]="Default",J))(),At=(()=>{return(r=At||(At={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",At;var r})();const tn={},nt=[],Mn=se({\u0275cmp:se}),It=se({\u0275dir:se}),wn=se({\u0275pipe:se}),bs=se({\u0275mod:se}),qn=se({\u0275fac:se}),uo=se({__NG_ELEMENT_ID__:se});let Vd=0;function co(r){return de(()=>{const o=!0===r.standalone,u={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===J.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||nt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||At.Emulated,id:"c"+Vd++,styles:r.styles||nt,_:null,setInput:null,schemas:r.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},f=r.dependencies,_=r.features;return c.inputs=Cl(r.inputs,u),c.outputs=Cl(r.outputs),_&&_.forEach(y=>y(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(yl).filter(ic):null,c.pipeDefs=f?()=>("function"==typeof f?f():f).map(un).filter(ic):null,c})}function yl(r){return Nt(r)||Tn(r)}function ic(r){return null!==r}function nn(r){return de(()=>({type:r.type,bootstrap:r.bootstrap||nt,declarations:r.declarations||nt,imports:r.imports||nt,exports:r.exports||nt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Cl(r,s){if(null==r)return tn;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),o[c]=u,s&&(s[c]=f)}return o}const ho=co;function fo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Nt(r){return r[Mn]||null}function Tn(r){return r[It]||null}function un(r){return r[wn]||null}function cn(r){const s=Nt(r)||Tn(r)||un(r);return null!==s&&s.standalone}function Yn(r,s){const o=r[bs]||null;if(!o&&!0===s)throw new Error(`Type ${ae(r)} does not have '\u0275mod' property.`);return o}function fr(r){return Array.isArray(r)&&"object"==typeof r[1]}function Hr(r){return Array.isArray(r)&&!0===r[1]}function go(r){return 0!=(4&r.flags)}function Qn(r){return r.componentOffset>-1}function El(r){return 1==(1&r.flags)}function pr(r){return null!==r.template}function mo(r){return 0!=(256&r[2])}function rs(r,s){return r.hasOwnProperty(qn)?r[qn]:null}class Li{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function vo(){return is}function is(r){return r.type.prototype.ngOnChanges&&(r.setInput=ma),ga}function ga(){const r=yo(this),s=r?.current;if(s){const o=r.previous;if(o===tn)r.previous=s;else for(let u in s)o[u]=s[u];r.current=null,this.ngOnChanges(s)}}function ma(r,s,o,u){const c=this.declaredInputs[o],f=yo(r)||function _a(r,s){return r[ss]=s}(r,{previous:tn,current:null}),_=f.current||(f.current={}),y=f.previous,E=y[c];_[c]=new Li(E&&E.currentValue,s,y===tn),r[u]=s}vo.ngInherit=!0;const ss="__ngSimpleChanges__";function yo(r){return r[ss]||null}function fn(r){for(;Array.isArray(r);)r=r[0];return r}function os(r,s){return fn(s[r])}function Bn(r,s){return fn(s[r.index])}function Ms(r,s){return r.data[s]}function Ui(r,s){return r[s]}function Rn(r,s){const o=s[r];return fr(o)?o:o[0]}function Do(r){return 64==(64&r[2])}function si(r,s){return null==s?null:r[s]}function bo(r){r[18]=0}function Io(r,s){r[5]+=s;let o=r,u=r[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const ft={lFrame:Vg(null),bindingsEnabled:!0};function Da(){return ft.bindingsEnabled}function Ce(){return ft.lFrame.lView}function kt(){return ft.lFrame.tView}function Al(r){return ft.lFrame.contextLView=r,r[8]}function _c(r){return ft.lFrame.contextLView=null,r}function $n(){let r=Rs();for(;null!==r&&64===r.type;)r=r.parent;return r}function Rs(){return ft.lFrame.currentTNode}function Rr(r,s){const o=ft.lFrame;o.currentTNode=r,o.isParent=s}function Ia(){return ft.lFrame.isParent}function rn(){const r=ft.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Di(){return ft.lFrame.bindingIndex++}function xr(r){const s=ft.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}function xl(r,s){const o=ft.lFrame;o.bindingIndex=o.bindingRootIndex=r,yc(s)}function yc(r){ft.lFrame.currentDirectiveIndex=r}function Cc(){return ft.lFrame.currentQueryIndex}function Ol(r){ft.lFrame.currentQueryIndex=r}function Ec(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function jd(r,s,o){if(o&Xe.SkipSelf){let c=s,f=r;for(;!(c=c.parent,null!==c||o&Xe.Host||(c=Ec(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,r=f}const u=ft.lFrame=Gd();return u.currentTNode=s,u.lView=r,!0}function wa(r){const s=Gd(),o=r[1];ft.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Gd(){const r=ft.lFrame,s=null===r?null:r.child;return null===s?Vg(r):s}function Vg(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function $f(){const r=ft.lFrame;return ft.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ta=$f;function Hf(){const r=$f();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function gr(){return ft.lFrame.selectedIndex}function To(r){ft.lFrame.selectedIndex=r}function Yt(){const r=ft.lFrame;return Ms(r.tView,r.selectedIndex)}function Vi(r,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const f=r.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:w,ngOnDestroy:S}=f;_&&(r.contentHooks||(r.contentHooks=[])).push(-o,_),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),w&&((r.viewHooks||(r.viewHooks=[])).push(o,w),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,w)),null!=S&&(r.destroyHooks||(r.destroyHooks=[])).push(o,S)}}function Or(r,s,o){kl(r,s,3,o)}function Aa(r,s,o,u){(3&r[2])===o&&kl(r,s,o,u)}function Gr(r,s){let o=r[2];(3&o)===s&&(o&=2047,o+=1,r[2]=o)}function kl(r,s,o,u){const f=u??-1,_=s.length-1;let y=0;for(let E=void 0!==u?65535&r[18]:0;E<_;E++)if("number"==typeof s[E+1]){if(y=s[E],null!=u&&y>=u)break}else s[E]<0&&(r[18]+=65536),(y<f||-1==f)&&(Dc(r,o,s,E),r[18]=(4294901760&r[18])+E+2),E++}function Dc(r,s,o,u){const c=o[u]<0,f=o[u+1],y=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class Ao{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Jt(r,s,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const f=o[u++],_=o[u++],y=o[u++];r.setAttribute(s,_,y,f)}else{const f=c,_=o[++u];Fs(f)?r.setProperty(s,f,_):r.setAttribute(s,f,_),u++}}return u}function ks(r){return 3===r||4===r||6===r}function Fs(r){return 64===r.charCodeAt(0)}function $i(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||Sa(r,o,c,null,-1===o||2===o?s[++u]:null)}}return r}function Sa(r,s,o,u,c){let f=0,_=r.length;if(-1===s)_=-1;else for(;f<r.length;){const y=r[f++];if("number"==typeof y){if(y===s){_=-1;break}if(y>s){_=f-1;break}}}for(;f<r.length;){const y=r[f];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(r[f+1]=c));if(u===r[f+1])return void(r[f+2]=c)}f++,null!==u&&f++,null!==c&&f++}-1!==_&&(r.splice(_,0,s),f=_+1),r.splice(f++,0,o),null!==u&&r.splice(f++,0,u),null!==c&&r.splice(f++,0,c)}function Ic(r){return-1!==r}function Ma(r){return 32767&r}function Ls(r,s){let o=function Ra(r){return r>>16}(r),u=s;for(;o>0;)u=u[15],o--;return u}let bi=!0;function xa(r){const s=bi;return bi=r,s}let Pa=0;const ar={};function Us(r,s){const o=Mo(r,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(r.injectorIndex=s.length,us(u.data,r),us(s,null),us(u.blueprint,null));const c=Na(r,s),f=r.injectorIndex;if(Ic(c)){const _=Ma(c),y=Ls(c,s),E=y[1].data;for(let w=0;w<8;w++)s[f+w]=y[_+w]|E[_+w]}return s[f+8]=c,f}function us(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Mo(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Na(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){if(u=Tc(c),null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Bl(r,s,o){!function Vl(r,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(uo)&&(u=o[uo]),null==u&&(u=o[uo]=Pa++);const c=255&u;s.data[r+(c>>5)]|=1<<c}(r,s,o)}function Ii(r,s,o){if(o&Xe.Optional||void 0!==r)return r;Oe()}function $l(r,s,o,u){if(o&Xe.Optional&&void 0===u&&(u=null),0==(o&(Xe.Self|Xe.Host))){const c=r[9],f=Xt(void 0);try{return c?c.get(s,u,o&Xe.Optional):Zn(s,u,o&Xe.Optional)}finally{Xt(f)}}return Ii(u,0,o)}function zd(r,s,o,u=Xe.Default,c){if(null!==r){if(1024&s[2]){const _=function Yd(r,s,o,u,c){let f=r,_=s;for(;null!==f&&null!==_&&1024&_[2]&&!(256&_[2]);){const y=Wr(f,_,o,u|Xe.Self,ar);if(y!==ar)return y;let E=f.parent;if(!E){const w=_[21];if(w){const S=w.get(o,ar,u);if(S!==ar)return S}E=Tc(_),_=_[15]}f=E}return c}(r,s,o,u,ar);if(_!==ar)return _}const f=Wr(r,s,o,u,ar);if(f!==ar)return f}return $l(s,o,u,c)}function Wr(r,s,o,u,c){const f=function jl(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(uo)?r[uo]:void 0;return"number"==typeof s?s>=0?255&s:qd:s}(o);if("function"==typeof f){if(!jd(s,r,u))return u&Xe.Host?Ii(c,0,u):$l(s,o,u,c);try{const _=f(u);if(null!=_||u&Xe.Optional)return _;Oe()}finally{Ta()}}else if("number"==typeof f){let _=null,y=Mo(r,s),E=-1,w=u&Xe.Host?s[16][6]:null;for((-1===y||u&Xe.SkipSelf)&&(E=-1===y?Na(r,s):s[y+8],-1!==E&&li(u,!1)?(_=s[1],y=Ma(E),s=Ls(E,s)):y=-1);-1!==y;){const S=s[1];if(ka(f,y,S.data)){const N=Hl(y,s,o,_,u,w);if(N!==ar)return N}E=s[y+8],-1!==E&&li(u,s[1].data[y+8]===w)&&ka(f,y,s)?(_=S,y=Ma(E),s=Ls(E,s)):y=-1}}return c}function Hl(r,s,o,u,c,f){const _=s[1],y=_.data[r+8],S=Ro(y,_,o,null==u?Qn(y)&&bi:u!=_&&0!=(3&y.type),c&Xe.Host&&f===y);return null!==S?Zr(s,_,S,y):ar}function Ro(r,s,o,u,c){const f=r.providerIndexes,_=s.data,y=1048575&f,E=r.directiveStart,S=f>>20,G=c?y+S:r.directiveEnd;for(let Q=u?y:y+S;Q<G;Q++){const he=_[Q];if(Q<E&&o===he||Q>=E&&he.type===o)return Q}if(c){const Q=_[E];if(Q&&pr(Q)&&Q.type===o)return E}return null}function Zr(r,s,o,u){let c=r[o];const f=s.data;if(function Pr(r){return r instanceof Ao}(c)){const _=c;_.resolving&&function De(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new ue(-200,`Circular dependency in DI detected for ${r}${o}`)}(function Te(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():_e(r)}(f[o]));const y=xa(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?Xt(_.injectImpl):null;jd(r,u,Xe.Default);try{c=r[o]=_.factory(void 0,f,r,u),s.firstCreatePass&&o>=u.directiveStart&&function Zd(r,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(u){const _=is(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,_)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,f))}(o,f[o],s)}finally{null!==E&&Xt(E),xa(y),_.resolving=!1,Ta()}}return c}function ka(r,s,o){return!!(o[s+(r>>5)]&1<<r)}function li(r,s){return!(r&Xe.Self||r&Xe.Host&&s)}class Nr{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return zd(this._tNode,this._lView,s,ot(u),o)}}function qd(){return new Nr($n(),Ce())}function Gl(r){return de(()=>{const s=r.prototype.constructor,o=s[qn]||Wl(s),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const f=c[qn]||Wl(c);if(f&&f!==o)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Wl(r){return Me(r)?()=>{const s=Wl(q(r));return s&&s()}:rs(r)}function Tc(r){const s=r[1],o=s.type;return 2===o?s.declTNode:1===o?r[6]:null}function Ac(r){return function wc(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const f=o[c];if(ks(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(f===s)return o[c+1];c+=2}}}return null}($n(),r)}const Vs="__parameters__";function Fa(r,s,o){return de(()=>{const u=function Kd(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(s);function c(...f){if(this instanceof c)return u.apply(this,f),this;const _=new c(...f);return y.annotation=_,y;function y(E,w,S){const N=E.hasOwnProperty(Vs)?E[Vs]:Object.defineProperty(E,Vs,{value:[]})[Vs];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(_),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class jt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Je({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ui(r,s){r.forEach(o=>Array.isArray(o)?ui(o,s):s(o))}function Ua(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function Po(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function St(r,s,o){let u=zr(r,s);return u>=0?r[1|u]=o:(u=~u,function Pc(r,s,o,u){let c=r.length;if(c==s)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>s;)r[c]=r[c-2],c--;r[s]=o,r[s+1]=u}}(r,u,s,o)),u}function _r(r,s){const o=zr(r,s);if(o>=0)return r[1|o]}function zr(r,s){return function Nc(r,s,o){let u=0,c=r.length>>o;for(;c!==u;){const f=u+(c-u>>1),_=r[f<<o];if(s===_)return f<<o;_>s?c=f:u=f+1}return~(c<<o)}(r,s,1)}const Fo=vt(Fa("Optional"),8),b=vt(Fa("SkipSelf"),4);var fi=(()=>((fi=fi||{})[fi.Important=1]="Important",fi[fi.DashCase=2]="DashCase",fi))();const Uc=new Map;let Kv=0;const Kf="__ngContext__";function Cr(r,s){fr(s)?(r[Kf]=s[20],function eu(r){Uc.set(r[20],r)}(s)):r[Kf]=s}function Zs(r,s){return undefined(r,s)}function cs(r){const s=r[3];return Hr(s)?s[3]:s}function su(r){return dh(r[13])}function Ba(r){return dh(r[4])}function dh(r){for(;null!==r&&!Hr(r);)r=r[4];return r}function Vo(r,s,o,u,c){if(null!=u){let f,_=!1;Hr(u)?f=u:fr(u)&&(_=!0,u=u[0]);const y=fn(u);0===r&&null!==o?null==c?$o(s,o,y):Bo(s,o,y,c||null,!0):1===r&&null!==o?Bo(s,o,y,c||null,!0):2===r?function ds(r,s,o){const u=Wa(r,s);u&&function nm(r,s,o,u){r.removeChild(s,o,u)}(r,u,s,o)}(s,y,_):3===r&&s.destroyNode(y),null!=f&&function im(r,s,o,u,c){const f=o[7];f!==fn(o)&&Vo(s,r,u,f,c);for(let y=10;y<o.length;y++){const E=o[y];za(E[1],E,r,s,u,f)}}(s,r,f,o,c)}}function Hc(r,s,o){return r.createElement(s,o)}function qs(r,s){const o=r[9],u=o.indexOf(s),c=s[3];512&s[2]&&(s[2]&=-513,Io(c,-1)),o.splice(u,1)}function Ga(r,s){if(r.length<=10)return;const o=10+s,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&qs(c,u),s>0&&(r[o-1][4]=u[4]);const f=Po(r,10+s);!function Xf(r,s){za(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const _=f[19];null!==_&&_.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function ep(r,s){if(!(128&s[2])){const o=s[11];o.destroyNode&&za(r,s,o,3,null,null),function ja(r){let s=r[13];if(!s)return au(r[1],r);for(;s;){let o=null;if(fr(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==r;)fr(s)&&au(s[1],s),s=s[3];null===s&&(s=r),fr(s)&&au(s[1],s),o=s&&s[4]}s=o}}(s)}}function au(r,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function tm(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof Ao)){const f=o[u+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const y=c[f[_]],E=f[_+1];try{E.call(y)}finally{}}else try{f.call(c)}finally{}}}}(r,s),function lu(r,s){const o=r.cleanup,u=s[7];let c=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const _=o[f+3];_>=0?u[c=_]():u[c=-_].unsubscribe(),f+=2}else{const _=u[c=o[f+1]];o[f].call(_)}if(null!==u){for(let f=c+1;f<u.length;f++)(0,u[f])();s[7]=null}}(r,s),1===s[1].type&&s[11].destroy();const o=s[17];if(null!==o&&Hr(s[3])){o!==s[3]&&qs(o,s);const u=s[19];null!==u&&u.detachView(r)}!function Vc(r){Uc.delete(r[20])}(s)}}function tp(r,s,o){return function hh(r,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];{const{componentOffset:c}=u;if(c>-1){const{encapsulation:f}=r.data[u.directiveStart+c];if(f===At.None||f===At.Emulated)return null}return Bn(u,o)}}(r,s.parent,o)}function Bo(r,s,o,u,c){r.insertBefore(s,o,u,c)}function $o(r,s,o){r.appendChild(s,o)}function np(r,s,o,u,c){null!==u?Bo(r,s,o,u,c):$o(r,s,o)}function Wa(r,s){return r.parentNode(s)}let vh,Zc,Gc=function uu(r,s,o){return 40&r.type?Bn(r,o):null};function Wc(r,s,o,u){const c=tp(r,u,s),f=s[11],y=function rm(r,s,o){return Gc(r,s,o)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)np(f,c,o[E],y,!1);else np(f,c,o,y,!1)}function du(r,s){if(null!==s){const o=s.type;if(3&o)return Bn(s,r);if(4&o)return xn(-1,r[s.index]);if(8&o){const u=s.child;if(null!==u)return du(r,u);{const c=r[s.index];return Hr(c)?xn(-1,c):fn(c)}}if(32&o)return Zs(s,r)()||fn(r[s.index]);{const u=rp(r,s);return null!==u?Array.isArray(u)?u[0]:du(cs(r[16]),u):du(r,s.next)}}return null}function rp(r,s){return null!==s?r[16][6].projection[s.projection]:null}function xn(r,s){const o=10+r+1;if(o<s.length){const u=s[o],c=u[1].firstChild;if(null!==c)return du(u,c)}return s[7]}function hu(r,s,o,u,c,f,_){for(;null!=o;){const y=u[o.index],E=o.type;if(_&&0===s&&(y&&Cr(fn(y),u),o.flags|=2),32!=(32&o.flags))if(8&E)hu(r,s,o.child,u,c,f,!1),Vo(s,r,c,y,f);else if(32&E){const w=Zs(o,u);let S;for(;S=w();)Vo(s,r,c,S,f);Vo(s,r,c,y,f)}else 16&E?fh(r,s,u,o,c,f):Vo(s,r,c,y,f);o=_?o.projectionNext:o.next}}function za(r,s,o,u,c,f){hu(o,u,r.firstChild,s,c,f,!1)}function fh(r,s,o,u,c,f){const _=o[16],E=_[6].projection[u.projection];if(Array.isArray(E))for(let w=0;w<E.length;w++)Vo(s,r,c,E[w],f);else hu(r,s,E,_[3],c,f,!0)}function Ys(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function ip(r,s,o){const{mergedAttrs:u,classes:c,styles:f}=o;null!==u&&Jt(r,s,u),null!==c&&Ys(r,s,c),null!==f&&function ey(r,s,o){r.setAttribute(s,"style",o)}(r,s,f)}function Ti(r){vh=r}function ap(r){return function fu(){if(void 0===Zc&&(Zc=null,ht.trustedTypes))try{Zc=ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Zc}()?.createScriptURL(r)||r}class yh{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}function v(r){return r instanceof yh?r.changingThisBreaksApplicationSecurity:r}function T(r,s){const o=function R(r){return r instanceof yh&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${We})`)}return o===s}const lp=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Pn=(()=>((Pn=Pn||{})[Pn.NONE=0]="NONE",Pn[Pn.HTML=1]="HTML",Pn[Pn.STYLE=2]="STYLE",Pn[Pn.SCRIPT=3]="SCRIPT",Pn[Pn.URL=4]="URL",Pn[Pn.RESOURCE_URL=5]="RESOURCE_URL",Pn))();function ay(r){const s=cp();return s?s.sanitize(Pn.URL,r)||"":T(r,"URL")?v(r):function Ka(r){return(r=String(r)).match(lp)?r:"unsafe:"+r}(_e(r))}function om(r){const s=cp();if(s)return ap(s.sanitize(Pn.RESOURCE_URL,r)||"");if(T(r,"ResourceURL"))return ap(v(r));throw new ue(904,!1)}function wE(r,s,o){return function LI(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?om:ay}(s,o)(r)}function cp(){const r=Ce();return r&&r[12]}const cy=new jt("ENVIRONMENT_INITIALIZER"),AE=new jt("INJECTOR",-1),tt=new jt("INJECTOR_DEF_TYPES");class Wo{get(s,o=en){if(o===en){const u=new Error(`NullInjectorError: No provider for ${ae(s)}!`);throw u.name="NullInjectorError",u}return o}}function SE(...r){return{\u0275providers:wh(0,r),\u0275fromNgModule:!0}}function wh(r,...s){const o=[],u=new Set;let c;return ui(s,f=>{const _=f;lm(_,o,[],u)&&(c||(c=[]),c.push(_))}),void 0!==c&&_u(c,o),o}function _u(r,s){for(let o=0;o<r.length;o++){const{providers:c}=r[o];um(c,f=>{s.push(f)})}}function lm(r,s,o,u){if(!(r=q(r)))return!1;let c=null,f=Ar(r);const _=!f&&Nt(r);if(f||_){if(_&&!_.standalone)return!1;c=r}else{const E=r.ngModule;if(f=Ar(E),!f)return!1;c=E}const y=u.has(c);if(_){if(y)return!1;if(u.add(c),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const w of E)lm(w,s,o,u)}}else{if(!f)return!1;{if(null!=f.imports&&!y){let w;u.add(c);try{ui(f.imports,S=>{lm(S,s,o,u)&&(w||(w=[]),w.push(S))})}finally{}void 0!==w&&_u(w,s)}if(!y){const w=rs(c)||(()=>new c);s.push({provide:c,useFactory:w,deps:nt},{provide:tt,useValue:c,multi:!0},{provide:cy,useValue:()=>Pe(c),multi:!0})}const E=f.providers;null==E||y||um(E,S=>{s.push(S)})}}return c!==r&&void 0!==r.providers}function um(r,s){for(let o of r)ve(o)&&(o=o.\u0275providers),Array.isArray(o)?um(o,s):s(o)}const dy=se({provide:String,useValue:se});function vu(r){return null!==r&&"object"==typeof r&&dy in r}function Xa(r){return"function"==typeof r}const Th=new jt("Set Injector scope."),el={},yu={};let hp;function Jn(){return void 0===hp&&(hp=new Wo),hp}class Zo{}class cm extends Zo{constructor(s,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zi(s,_=>this.processProvider(_)),this.records.set(AE,jn(void 0,this)),c.has("environment")&&this.records.set(Zo,jn(void 0,this));const f=this.records.get(Th);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(tt.multi,nt,Xe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=zn(this),u=Xt(void 0);try{return s()}finally{zn(o),Xt(u)}}get(s,o=en,u=Xe.Default){this.assertNotDestroyed(),u=ot(u);const c=zn(this),f=Xt(void 0);try{if(!(u&Xe.SkipSelf)){let y=this.records.get(s);if(void 0===y){const E=function OE(r){return"function"==typeof r||"object"==typeof r&&r instanceof jt}(s)&&cr(s);y=E&&this.injectableDefInScope(E)?jn(Nn(s),el):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(u&Xe.Self?Jn():this.parent).get(s,o=u&Xe.Optional&&o===en?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[Br]=_[Br]||[]).unshift(ae(s)),c)throw _;return function L(r,s,o,u){const c=r[Br];throw s[ei]&&c.unshift(s[ei]),r.message=function Z(r,s,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let c=ae(s);if(Array.isArray(s))c=s.map(ae).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let y=s[_];f.push(_+":"+("string"==typeof y?JSON.stringify(y):ae(y)))}c=`{${f.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(Ds,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[Br]=null,r}(_,s,"R3InjectorError",this.source)}throw _}finally{Xt(f),zn(c)}}resolveInjectorInitializers(){const s=zn(this),o=Xt(void 0);try{const u=this.get(cy.multi,nt,Xe.Self);for(const c of u)c()}finally{zn(s),Xt(o)}}toString(){const s=[],o=this.records;for(const u of o.keys())s.push(ae(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(s){let o=Xa(s=q(s))?s:q(s&&s.provide);const u=function xE(r){return vu(r)?jn(void 0,r.useValue):jn(Qs(r),el)}(s);if(Xa(s)||!0!==s.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=jn(void 0,el,!0),c.factory=()=>ct(c.multi),this.records.set(o,c)),o=s,c.multi.push(s)}this.records.set(o,u)}hydrate(s,o){return o.value===el&&(o.value=yu,o.value=o.factory()),"object"==typeof o.value&&o.value&&function fy(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=q(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Nn(r){const s=cr(r),o=null!==s?s.factory:rs(r);if(null!==o)return o;if(r instanceof jt)throw new ue(204,!1);if(r instanceof Function)return function Ah(r){const s=r.length;if(s>0)throw function Bs(r,s){const o=[];for(let u=0;u<r;u++)o.push(s);return o}(s,"?"),new ue(204,!1);const o=function Qi(r){const s=r&&(r[rr]||r[Zt]);if(s){const o=function Pi(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new ue(204,!1)}function Qs(r,s,o){let u;if(Xa(r)){const c=q(r);return rs(c)||Nn(c)}if(vu(r))u=()=>q(r.useValue);else if(function dp(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...ct(r.deps||[]));else if(function hy(r){return!(!r||!r.useExisting)}(r))u=()=>Pe(q(r.useExisting));else{const c=q(r&&(r.useClass||r.provide));if(!function fp(r){return!!r.deps}(r))return rs(c)||Nn(c);u=()=>new c(...ct(r.deps))}return u}function jn(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function Zi(r,s){for(const o of r)Array.isArray(o)?Zi(o,s):o&&ve(o)?Zi(o.\u0275providers,s):s(o)}class Cu{}class br{}class hm{resolveComponentFactory(s){throw function tl(r){const s=Error(`No component factory found for ${ae(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let qc=(()=>{class r{}return r.NULL=new hm,r})();function PE(){return Yc($n(),Ce())}function Yc(r,s){return new Eu(Bn(r,s))}let Eu=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=PE,r})();function Mt(r){return r instanceof Eu?r.nativeElement:r}class Kc{}let NE=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function Qc(){const r=Ce(),o=Rn($n().index,r);return(fr(o)?o:r)[11]}(),r})(),kE=(()=>{class r{}return r.\u0275prov=Je({token:r,providedIn:"root",factory:()=>null}),r})();class gy{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const hs=new gy("15.0.4"),pp={};function _y(r){return r.ngOriginalError}class kn{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&_y(s);for(;o&&_y(o);)o=_y(o);return o||null}}function fm(r){return r.ownerDocument.defaultView}function Js(r){return r instanceof Function?r():r}function rl(r,s,o){let u=r.length;for(;;){const c=r.indexOf(s,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const f=s.length;if(c+f===u||r.charCodeAt(c+f)<=32)return c}o=c+1}}const Ey="ng-template";function Sh(r,s,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==rl(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function vp(r){return 4===r.type&&r.value!==Ey}function UE(r,s,o){return s===(4!==r.type||o?r.value:Ey)}function yp(r,s,o){let u=4;const c=r.attrs||[],f=function pm(r){for(let s=0;s<r.length;s++)if(ks(r[s]))return s;return r.length}(c);let _=!1;for(let y=0;y<s.length;y++){const E=s[y];if("number"!=typeof E){if(!_)if(4&u){if(u=2|1&u,""!==E&&!UE(r,E,o)||""===E&&1===s.length){if(qr(u))return!1;_=!0}}else{const w=8&u?E:s[++y];if(8&u&&null!==r.attrs){if(!Sh(r.attrs,w,o)){if(qr(u))return!1;_=!0}continue}const N=Dy(8&u?"class":E,c,vp(r),o);if(-1===N){if(qr(u))return!1;_=!0;continue}if(""!==w){let G;G=N>f?"":c[N+1].toLowerCase();const Q=8&u?G:null;if(Q&&-1!==rl(Q,w,0)||2&u&&w!==G){if(qr(u))return!1;_=!0}}}}else{if(!_&&!qr(u)&&!qr(E))return!1;if(_&&qr(E))continue;_=!1,u=E|1&u}}return qr(u)||_}function qr(r){return 0==(1&r)}function Dy(r,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let f=!1;for(;c<s.length;){const _=s[c];if(_===r)return c;if(3===_||6===_)f=!0;else{if(1===_||2===_){let y=s[++c];for(;"string"==typeof y;)y=s[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=f?1:2}return-1}return function Cp(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,r)}function Mh(r,s,o=!1){for(let u=0;u<s.length;u++)if(yp(r,s[u],o))return!0;return!1}function gm(r,s){return r?":not("+s.trim()+")":s}function BE(r){let s=r[0],o=1,u=2,c="",f=!1;for(;o<r.length;){let _=r[o];if("string"==typeof _)if(2&u){const y=r[++o];c+="["+_+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+_:4&u&&(c+=" "+_);else""!==c&&!qr(_)&&(s+=gm(f,c),c=""),u=_,f=f||!qr(u);o++}return""!==c&&(s+=gm(f,c)),s}const mt={};function Iy(r){wy(kt(),Ce(),gr()+r,!1)}function wy(r,s,o,u){if(!u)if(3==(3&s[2])){const f=r.preOrderCheckHooks;null!==f&&Or(s,f,o)}else{const f=r.preOrderHooks;null!==f&&Aa(s,f,0,o)}To(o)}function Sy(r,s=null,o=null,u){const c=My(r,s,o,u);return c.resolveInjectorInitializers(),c}function My(r,s=null,o=null,u,c=new Set){const f=[o||nt,SE(r)];return u=u||("object"==typeof r?void 0:ae(r)),new cm(f,s||Jn(),u||null,c)}let bu=(()=>{class r{static create(o,u){if(Array.isArray(o))return Sy({name:""},u,o,"");{const c=o.name??"";return Sy({name:c},o.parent,o.providers,c)}}}return r.THROW_IF_NOT_FOUND=en,r.NULL=new Wo,r.\u0275prov=Je({token:r,providedIn:"any",factory:()=>Pe(AE)}),r.__NG_ELEMENT_ID__=-1,r})();function nd(r,s=Xe.Default){const o=Ce();return null===o?Pe(r,s):zd($n(),o,q(r),s)}function Fy(){throw new Error("invalid")}function Dm(r,s){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],f=o[u+1];if(-1!==f){const _=r.data[f];Ol(c),_.contentQueries(2,s[f],f)}}}function Ip(r,s,o,u,c,f,_,y,E,w,S){const N=s.blueprint.slice();return N[0]=c,N[2]=76|u,(null!==S||r&&1024&r[2])&&(N[2]|=1024),bo(N),N[3]=N[15]=r,N[8]=o,N[10]=_||r&&r[10],N[11]=y||r&&r[11],N[12]=E||r&&r[12]||null,N[9]=w||r&&r[9]||null,N[6]=f,N[20]=function Uo(){return Kv++}(),N[21]=S,N[16]=2==s.type?r[16]:N,N}function Ph(r,s,o,u,c){let f=r.data[s];if(null===f)f=function bm(r,s,o,u,c){const f=Rs(),_=Ia(),E=r.data[s]=function Vy(r,s,o,u,c,f){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,o,s,u,c);return null===r.firstChild&&(r.firstChild=E),null!==f&&(_?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(r,s,o,u,c),function Bf(){return ft.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=u,f.attrs=c;const _=function ba(){const r=ft.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return Rr(f,!0),f}function rd(r,s,o,u){if(0===o)return-1;const c=s.length;for(let f=0;f<o;f++)s.push(u),r.blueprint.push(u),r.data.push(null);return c}function Nh(r,s,o){wa(s);try{const u=r.viewQuery;null!==u&&Pm(1,u,o);const c=r.template;null!==c&&Xs(r,s,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Dm(r,s),r.staticViewQueries&&Pm(2,r.viewQuery,o);const f=r.components;null!==f&&function $I(r,s){for(let o=0;o<s.length;o++)zy(r,s[o])}(s,f)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[2]&=-5,Hf()}}function id(r,s,o,u){const c=s[2];if(128!=(128&c)){wa(s);try{bo(s),function Ml(r){return ft.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Xs(r,s,o,2,u);const _=3==(3&c);if(_){const w=r.preOrderCheckHooks;null!==w&&Or(s,w,null)}else{const w=r.preOrderHooks;null!==w&&Aa(s,w,0,null),Gr(s,0)}if(function oD(r){for(let s=su(r);null!==s;s=Ba(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const c=o[u],f=c[3];0==(512&c[2])&&Io(f,1),c[2]|=512}}}(s),function sD(r){for(let s=su(r);null!==s;s=Ba(s))for(let o=10;o<s.length;o++){const u=s[o],c=u[1];Do(u)&&id(c,u,c.template,u[8])}}(s),null!==r.contentQueries&&Dm(r,s),_){const w=r.contentCheckHooks;null!==w&&Or(s,w)}else{const w=r.contentHooks;null!==w&&Aa(s,w,1),Gr(s,1)}!function XE(r,s){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)To(~c);else{const f=c,_=o[++u],y=o[++u];xl(_,f),y(2,s[f])}}}finally{To(-1)}}(r,s);const y=r.components;null!==y&&function eD(r,s){for(let o=0;o<s.length;o++)Rm(r,s[o])}(s,y);const E=r.viewQuery;if(null!==E&&Pm(2,E,u),_){const w=r.viewCheckHooks;null!==w&&Or(s,w)}else{const w=r.viewHooks;null!==w&&Aa(s,w,2),Gr(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Io(s[3],-1))}finally{Hf()}}}function Xs(r,s,o,u,c){const f=gr(),_=2&u;try{To(-1),_&&s.length>22&&wy(r,s,22,!1),o(u,c)}finally{To(f)}}function ol(r,s,o){if(go(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const _=r.data[f];_.contentQueries&&_.contentQueries(1,o[f],f)}}}function wp(r,s,o){!Da()||(function Hy(r,s,o,u){const c=o.directiveStart,f=o.directiveEnd;Qn(o)&&function jI(r,s,o){const u=Bn(s,r),c=Ly(o),f=r[10],_=Mp(r,Ip(r,c,null,o.onPush?32:16,u,s,f,f.createRenderer(u,o),null,null,null));r[s.index]=_}(s,o,r.data[c+o.componentOffset]),r.firstCreatePass||Us(o,s),Cr(u,s);const _=o.initialInputs;for(let y=c;y<f;y++){const E=r.data[y],w=Zr(s,r,y,o);Cr(w,s),null!==_&&GI(0,y-c,w,E,0,_),pr(E)&&(Rn(o.index,s)[8]=Zr(s,r,y,o))}}(r,s,o,Bn(o,s)),64==(64&o.flags)&&jy(r,s,o))}function Tp(r,s,o=Bn){const u=s.localNames;if(null!==u){let c=s.index+1;for(let f=0;f<u.length;f+=2){const _=u[f+1],y=-1===_?o(s,r):r[_];r[c++]=y}}}function Ly(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=eo(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function eo(r,s,o,u,c,f,_,y,E,w){const S=22+u,N=S+c,G=function Uy(r,s){const o=[];for(let u=0;u<s;u++)o.push(u<r?null:mt);return o}(S,N),Q="function"==typeof w?w():w;return G[1]={type:r,blueprint:G,template:o,queries:null,viewQuery:y,declTNode:s,data:G.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:Q,incompleteFirstPass:!1}}function kh(r,s,o,u){const c=Tu(s);null===o?c.push(u):(c.push(o),r.firstCreatePass&&od(r).push(u,c.length-1))}function Ap(r,s,o,u){for(let c in r)if(r.hasOwnProperty(c)){o=null===o?{}:o;const f=r[c];null===u?Im(o,s,c,f):u.hasOwnProperty(c)&&Im(o,s,u[c],f)}return o}function Im(r,s,o,u){r.hasOwnProperty(o)?r[o].push(s,u):r[o]=[s,u]}function Ai(r,s,o,u,c,f,_,y){const E=Bn(s,o);let S,w=s.inputs;!y&&null!=w&&(S=w[u])?(Au(r,o,S,u,c),Qn(s)&&sd(o,s.index)):3&s.type&&(u=function Tm(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=_?_(c,s.value||"",u):c,f.setProperty(E,u,c))}function sd(r,s){const o=Rn(s,r);16&o[2]||(o[2]|=32)}function Fh(r,s,o,u){let c=!1;if(Da()){const f=null===u?null:{"":-1},_=function Sp(r,s){const o=r.directiveRegistry;let u=null,c=null;if(o)for(let f=0;f<o.length;f++){const _=o[f];if(Mh(s,_.selectors,!1))if(u||(u=[]),pr(_))if(null!==_.findHostDirectiveDefs){const y=[];c=c||new Map,_.findHostDirectiveDefs(_,y,c),u.unshift(...y,_),Uh(r,s,y.length)}else u.unshift(_),Uh(r,s,0);else c=c||new Map,_.findHostDirectiveDefs?.(_,u,c),u.push(_)}return null===u?null:[u,c]}(r,o);let y,E;null===_?y=E=null:[y,E]=_,null!==y&&(c=!0,Am(r,s,o,y,f,E)),f&&function rD(r,s,o){if(s){const u=r.localNames=[];for(let c=0;c<s.length;c+=2){const f=o[s[c+1]];if(null==f)throw new ue(-301,!1);u.push(s[c],f)}}}(o,u,f)}return o.mergedAttrs=$i(o.mergedAttrs,o.attrs),c}function Am(r,s,o,u,c,f){for(let w=0;w<u.length;w++)Bl(Us(o,s),r,u[w].type);!function Sm(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}(o,r.data.length,u.length);for(let w=0;w<u.length;w++){const S=u[w];S.providersResolver&&S.providersResolver(S)}let _=!1,y=!1,E=rd(r,s,u.length,null);for(let w=0;w<u.length;w++){const S=u[w];o.mergedAttrs=$i(o.mergedAttrs,S.hostAttrs),Gy(r,o,s,E,S),iD(E,S,c),null!==S.contentQueries&&(o.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(o.flags|=64);const N=S.type.prototype;!_&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),_=!0),!y&&(N.ngOnChanges||N.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),y=!0),E++}!function wm(r,s,o){const c=s.directiveEnd,f=r.data,_=s.attrs,y=[];let E=null,w=null;for(let S=s.directiveStart;S<c;S++){const N=f[S],G=o?o.get(N):null,he=G?G.outputs:null;E=Ap(N.inputs,S,E,G?G.inputs:null),w=Ap(N.outputs,S,w,he);const xe=null===E||null===_||vp(s)?null:Mm(E,S,_);y.push(xe)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=8),E.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=y,s.inputs=E,s.outputs=w}(r,o,f)}function jy(r,s,o){const u=o.directiveStart,c=o.directiveEnd,f=o.index,_=function wo(){return ft.lFrame.currentDirectiveIndex}();try{To(f);for(let y=u;y<c;y++){const E=r.data[y],w=s[y];yc(y),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Lh(E,w)}}finally{To(-1),yc(_)}}function Lh(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Uh(r,s,o){s.componentOffset=o,(r.components||(r.components=[])).push(s.index)}function iD(r,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=r;pr(s)&&(o[""]=r)}}function Gy(r,s,o,u,c){r.data[u]=c;const f=c.factory||(c.factory=rs(c.type)),_=new Ao(f,pr(c),nd);r.blueprint[u]=_,o[u]=_,function By(r,s,o,u,c){const f=c.hostBindings;if(f){let _=r.hostBindingOpCodes;null===_&&(_=r.hostBindingOpCodes=[]);const y=~s.index;(function $y(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(_)!=y&&_.push(y),_.push(o,u,f)}}(r,s,u,rd(r,o,c.hostVars,mt),c)}function qo(r,s,o,u,c,f){const _=Bn(r,s);!function Wy(r,s,o,u,c,f,_){if(null==f)r.removeAttribute(s,c,o);else{const y=null==_?_e(f):_(f,u||"",c);r.setAttribute(s,c,y,o)}}(s[11],_,f,r.value,o,u,c)}function GI(r,s,o,u,c,f){const _=f[s];if(null!==_){const y=u.setInput;for(let E=0;E<_.length;){const w=_[E++],S=_[E++],N=_[E++];null!==y?u.setInput(o,N,w,S):o[S]=N}}}function Mm(r,s,o){let u=null,c=0;for(;c<o.length;){const f=o[c];if(0!==f)if(5!==f){if("number"==typeof f)break;if(r.hasOwnProperty(f)){null===u&&(u=[]);const _=r[f];for(let y=0;y<_.length;y+=2)if(_[y]===s){u.push(f,_[y+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return u}function Zy(r,s,o,u){return[r,!0,!1,s,null,0,u,o,null,null]}function Rm(r,s){const o=Rn(s,r);if(Do(o)){const u=o[1];48&o[2]?id(u,o,u.template,o[8]):o[5]>0&&pi(o)}}function pi(r){for(let u=su(r);null!==u;u=Ba(u))for(let c=10;c<u.length;c++){const f=u[c];if(Do(f))if(512&f[2]){const _=f[1];id(_,f,_.template,f[8])}else f[5]>0&&pi(f)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Rn(o[u],r);Do(c)&&c[5]>0&&pi(c)}}function zy(r,s){const o=Rn(s,r),u=o[1];(function Vh(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])})(u,o),Nh(u,o,o[8])}function Mp(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function xm(r){for(;r;){r[2]|=32;const s=cs(r);if(mo(r)&&!s)return r;r=s}return null}function Bh(r,s,o,u=!0){const c=s[10];c.begin&&c.begin();try{id(r,s,r.template,o)}catch(_){throw u&&Yy(s,_),_}finally{c.end&&c.end()}}function Pm(r,s,o){Ol(0),s(r,o)}function Tu(r){return r[7]||(r[7]=[])}function od(r){return r.cleanup||(r.cleanup=[])}function Yy(r,s){const o=r[9],u=o?o.get(kn,null):null;u&&u.handleError(s)}function Au(r,s,o,u,c){for(let f=0;f<o.length;){const _=o[f++],y=o[f++],E=s[_],w=r.data[_];null!==w.setInput?w.setInput(E,c,u,y):E[y]=c}}function Si(r,s,o){const u=os(s,r);!function Ha(r,s,o){r.setValue(s,o)}(r[11],u,o)}function Rp(r,s,o){let u=o?r.styles:null,c=o?r.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const y=s[_];"number"==typeof y?f=y:1==f?c=oe(c,y):2==f&&(u=oe(u,y+": "+s[++_]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}function xp(r,s,o,u,c=!1){for(;null!==o;){const f=s[o.index];if(null!==f&&u.push(fn(f)),Hr(f))for(let y=10;y<f.length;y++){const E=f[y],w=E[1].firstChild;null!==w&&xp(E[1],E,w,u)}const _=o.type;if(8&_)xp(r,s,o.child,u);else if(32&_){const y=Zs(o,s);let E;for(;E=y();)u.push(E)}else if(16&_){const y=rp(s,o);if(Array.isArray(y))u.push(...y);else{const E=cs(s[16]);xp(E[1],E,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class $h{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return xp(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Hr(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(Ga(s,u),Po(o,u))}this._attachedToViewContainer=!1}ep(this._lView[1],this._lView)}onDestroy(s){kh(this._lView[1],this._lView,null,s)}markForCheck(){xm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Bh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zs(r,s){za(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=s}}class aD extends $h{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Bh(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class Ky extends qc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Nt(s);return new Su(o,this.ngModule)}}function Qy(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class lD{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,u){u=ot(u);const c=this.injector.get(s,pp,u);return c!==pp||o===pp?c:this.parentInjector.get(s,o,u)}}class Su extends br{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function $E(r){return r.map(BE).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Qy(this.componentDef.inputs)}get outputs(){return Qy(this.componentDef.outputs)}create(s,o,u,c){let f=(c=c||this.ngModule)instanceof Zo?c:c?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new lD(s,f):s,y=_.get(Kc,null);if(null===y)throw new ue(407,!1);const E=_.get(kE,null),w=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=u?function tD(r,s,o){return r.selectRootElement(s,o===At.ShadowDom)}(w,u,this.componentDef.encapsulation):Hc(w,S,function ZI(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(S)),G=this.componentDef.onPush?288:272,Q=eo(0,null,null,1,0,null,null,null,null,null),he=Ip(null,Q,null,G,null,null,y,w,E,_,null);let xe,Le;wa(he);try{const je=this.componentDef;let ut,we=null;je.findHostDirectiveDefs?(ut=[],we=new Map,je.findHostDirectiveDefs(je,ut,we),ut.push(je)):ut=[je];const Ct=function uD(r,s){const o=r[1];return r[22]=s,Ph(o,22,2,"#host",null)}(he,N),yn=function cD(r,s,o,u,c,f,_,y){const E=c[1];!function dD(r,s,o,u){for(const c of r)s.mergedAttrs=$i(s.mergedAttrs,c.hostAttrs);null!==s.mergedAttrs&&(Rp(s,s.mergedAttrs,!0),null!==o&&ip(u,o,s))}(u,r,s,_);const w=f.createRenderer(s,o),S=Ip(c,Ly(o),null,o.onPush?32:16,c[r.index],r,f,w,y||null,null,null);return E.firstCreatePass&&Uh(E,r,u.length-1),Mp(c,S),c[r.index]=S}(Ct,N,je,ut,he,y,w);Le=Ms(Q,22),N&&function fD(r,s,o,u){if(u)Jt(r,o,["ng-version",hs.full]);else{const{attrs:c,classes:f}=function HE(r){const s=[],o=[];let u=1,c=2;for(;u<r.length;){let f=r[u];if("string"==typeof f)2===c?""!==f&&s.push(f,r[++u]):8===c&&o.push(f);else{if(!qr(c))break;c=f}u++}return{attrs:s,classes:o}}(s.selectors[0]);c&&Jt(r,o,c),f&&f.length>0&&Ys(r,o,f.join(" "))}}(w,je,N,u),void 0!==o&&function pD(r,s,o){const u=r.projection=[];for(let c=0;c<s.length;c++){const f=o[c];u.push(null!=f?Array.from(f):null)}}(Le,this.ngContentSelectors,o),xe=function hD(r,s,o,u,c,f){const _=$n(),y=c[1],E=Bn(_,c);Am(y,c,_,o,null,u);for(let S=0;S<o.length;S++)Cr(Zr(c,y,_.directiveStart+S,_),c);jy(y,c,_),E&&Cr(E,c);const w=Zr(c,y,_.directiveStart+_.componentOffset,_);if(r[8]=c[8]=w,null!==f)for(const S of f)S(w,s);return ol(y,_,r),w}(yn,je,ut,we,he,[gD]),Nh(Q,he,null)}finally{Hf()}return new Op(this.componentType,xe,Yc(Le,he),he,Le)}}class Op extends Cu{constructor(s,o,u,c,f){super(),this.location=u,this._rootLView=c,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new aD(c),this.componentType=s}setInput(s,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[s])){const f=this._rootLView;Au(f[1],f,c,s,o),sd(f,this._tNode.index)}}get injector(){return new Nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function gD(){const r=$n();Vi(Ce()[1],r)}function Nm(r){let s=function Jy(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;s;){let c;if(pr(r))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ue(903,!1);c=s.\u0275dir}if(c){if(o){u.push(c);const _=r;_.inputs=km(r.inputs),_.declaredInputs=km(r.declaredInputs),_.outputs=km(r.outputs);const y=c.hostBindings;y&&Lm(r,y);const E=c.viewQuery,w=c.contentQueries;if(E&&Fm(r,E),w&&eC(r,w),ce(r.inputs,c.inputs),ce(r.declaredInputs,c.declaredInputs),ce(r.outputs,c.outputs),pr(c)&&c.data.animation){const S=r.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let _=0;_<f.length;_++){const y=f[_];y&&y.ngInherit&&y(r),y===Nm&&(o=!1)}}s=Object.getPrototypeOf(s)}!function Xy(r){let s=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=s+=c.hostVars,c.hostAttrs=$i(c.hostAttrs,o=$i(o,c.hostAttrs))}}(u)}function km(r){return r===tn?{}:r===nt?[]:r}function Fm(r,s){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function eC(r,s){const o=r.contentQueries;r.contentQueries=o?(u,c,f)=>{s(u,c,f),o(u,c,f)}:s}function Lm(r,s){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}let Mu=null;function al(){if(!Mu){const r=ht.Symbol;if(r&&r.iterator)Mu=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Mu=u)}}}return Mu}function ad(r){return!!Um(r)&&(Array.isArray(r)||!(r instanceof Map)&&al()in r)}function Um(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function to(r,s,o){return r[s]=o}function Fr(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function Ru(r,s,o,u){const c=Fr(r,s,o);return Fr(r,s+1,u)||c}function Vm(r,s,o,u){const c=Ce();return Fr(c,Di(),s)&&(kt(),qo(Yt(),c,r,s,o,u)),Vm}function cd(r,s,o,u){return Fr(r,Di(),o)?s+_e(o)+u:mt}function xu(r,s,o,u,c,f){const y=Ru(r,function oi(){return ft.lFrame.bindingIndex}(),o,c);return xr(2),y?s+_e(o)+u+_e(c)+f:mt}function Lp(r,s,o,u,c,f,_,y){const E=Ce(),w=kt(),S=r+22,N=w.firstCreatePass?function hd(r,s,o,u,c,f,_,y,E){const w=s.consts,S=Ph(s,r,4,_||null,si(w,y));Fh(s,o,S,si(w,E)),Vi(s,S);const N=S.tViews=eo(2,S,u,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,w);return null!==s.queries&&(s.queries.template(s,S),N.queries=s.queries.embeddedTView(S)),S}(S,w,E,s,o,u,c,f,_):w.data[S];Rr(N,!1);const G=E[11].createComment("");Wc(w,E,G,N),Cr(G,E),Mp(E,E[S]=Zy(G,E,G,N)),El(N)&&wp(w,E,N),null!=_&&Tp(E,N,y)}function $m(r){return Ui(function Sl(){return ft.lFrame.contextLView}(),22+r)}function Up(r,s,o){const u=Ce();return Fr(u,Di(),s)&&Ai(kt(),Yt(),u,r,s,u[11],o,!1),Up}function Zh(r,s,o,u,c){const _=c?"class":"style";Au(r,o,s.inputs[_],_,u)}function zh(r,s,o,u){const c=Ce(),f=kt(),_=22+r,y=c[11],E=c[_]=Hc(y,s,function jf(){return ft.lFrame.currentNamespace}()),w=f.firstCreatePass?function dC(r,s,o,u,c,f,_){const y=s.consts,w=Ph(s,r,2,c,si(y,f));return Fh(s,o,w,si(y,_)),null!==w.attrs&&Rp(w,w.attrs,!1),null!==w.mergedAttrs&&Rp(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(_,f,c,0,s,o,u):f.data[_];return Rr(w,!0),ip(y,E,w),32!=(32&w.flags)&&Wc(f,c,E,w),0===function Ea(){return ft.lFrame.elementDepthCount}()&&Cr(E,c),function Tl(){ft.lFrame.elementDepthCount++}(),El(w)&&(wp(f,c,w),ol(f,w,c)),null!==u&&Tp(c,w),zh}function Vp(){let r=$n();Ia()?function xs(){ft.lFrame.isParent=!1}():(r=r.parent,Rr(r,!1));const s=r;!function gc(){ft.lFrame.elementDepthCount--}();const o=kt();return o.firstCreatePass&&(Vi(o,r),go(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Ll(r){return 0!=(8&r.flags)}(s)&&Zh(o,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function bc(r){return 0!=(16&r.flags)}(s)&&Zh(o,s,Ce(),s.stylesWithoutHost,!1),Vp}function Hm(r,s,o,u){return zh(r,s,o,u),Vp(),Hm}function hC(){return Ce()}function Wm(r){return!!r&&"function"==typeof r.then}function Zm(r){return!!r&&"function"==typeof r.subscribe}const fC=Zm;function zm(r,s,o,u){const c=Ce(),f=kt(),_=$n();return function _n(r,s,o,u,c,f,_){const y=El(u),w=r.firstCreatePass&&od(r),S=s[8],N=Tu(s);let G=!0;if(3&u.type||_){const xe=Bn(u,s),Le=_?_(xe):xe,je=N.length,ut=_?Ct=>_(fn(Ct[u.index])):u.index;let we=null;if(!_&&y&&(we=function wD(r,s,o,u){const c=r.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const _=c[f];if(_===o&&c[f+1]===u){const y=s[7],E=c[f+2];return y.length>E?y[E]:null}"string"==typeof _&&(f+=2)}return null}(r,s,c,u.index)),null!==we)(we.__ngLastListenerFn__||we).__ngNextListenerFn__=f,we.__ngLastListenerFn__=f,G=!1;else{f=no(u,s,S,f,!1);const Ct=o.listen(Le,c,f);N.push(f,Ct),w&&w.push(c,ut,je,je+1)}}else f=no(u,s,S,f,!1);const Q=u.outputs;let he;if(G&&null!==Q&&(he=Q[c])){const xe=he.length;if(xe)for(let Le=0;Le<xe;Le+=2){const yn=s[he[Le]][he[Le+1]].subscribe(f),Fn=N.length;N.push(f,yn),w&&w.push(c,u.index,Fn,-(Fn+1))}}}(f,c,c[11],_,r,s,u),zm}function gC(r,s,o,u){try{return!1!==o(u)}catch(c){return Yy(r,c),!1}}function no(r,s,o,u,c){return function f(_){if(_===Function)return u;xm(r.componentOffset>-1?Rn(r.index,s):s);let E=gC(s,0,u,_),w=f.__ngNextListenerFn__;for(;w;)E=gC(s,0,w,_)&&E,w=w.__ngNextListenerFn__;return c&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function mC(r=1){return function Bg(r){return(ft.lFrame.contextLView=function Pl(r,s){for(;r>0;)s=s[15],r--;return s}(r,ft.lFrame.contextLView))[8]}(r)}function vC(r,s,o){return Bp(r,"",s,"",o),vC}function Bp(r,s,o,u,c){const f=Ce(),_=cd(f,s,o,u);return _!==mt&&Ai(kt(),Yt(),f,r,_,f[11],c,!1),Bp}function Km(r,s){return r<<17|s<<2}function Uu(r){return r>>17&32767}function Yh(r){return 2|r}function Vu(r){return(131068&r)>>2}function Qm(r,s){return-131069&r|s<<2}function jp(r){return 1|r}function Jm(r,s,o,u,c){const f=r[o+1],_=null===s;let y=u?Uu(f):Vu(f),E=!1;for(;0!==y&&(!1===E||_);){const S=r[y+1];MD(r[y],s)&&(E=!0,r[y+1]=u?jp(S):Yh(S)),y=u?Uu(S):Vu(S)}E&&(r[o+1]=u?Yh(f):jp(f))}function MD(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&zr(r,s)>=0}function n_(r,s){return function ps(r,s,o,u){const c=Ce(),f=kt(),_=xr(2);f.firstUpdatePass&&function ul(r,s,o,u){const c=r.data;if(null===c[o+1]){const f=c[gr()],_=function ll(r,s){return s>=r.expandoStartIndex}(r,o);(function r_(r,s){return 0!=(r.flags&(s?8:16))})(f,u)&&null===s&&!_&&(s=!1),s=function P(r,s,o,u){const c=function as(r){const s=ft.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let f=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=pd(o=Qh(null,r,s,o,u),s.attrs,u),f=null);else{const _=s.directiveStylingLast;if(-1===_||r[_]!==c)if(o=Qh(c,r,s,o,u),null===f){let E=function Gp(r,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Vu(u))return r[Uu(u)]}(r,s,u);void 0!==E&&Array.isArray(E)&&(E=Qh(null,r,s,E[1],u),E=pd(E,s.attrs,u),function AC(r,s,o,u){r[Uu(o?s.classBindings:s.styleBindings)]=u}(r,s,u,E))}else f=function SC(r,s,o){let u;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)u=pd(u,r[f].hostAttrs,o);return pd(u,s.attrs,o)}(r,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),o}(c,f,s,u),function Kh(r,s,o,u,c,f){let _=f?s.classBindings:s.styleBindings,y=Uu(_),E=Vu(_);r[u]=o;let S,w=!1;if(Array.isArray(o)){const N=o;S=N[1],(null===S||zr(N,S)>0)&&(w=!0)}else S=o;if(c)if(0!==E){const G=Uu(r[y+1]);r[u+1]=Km(G,y),0!==G&&(r[G+1]=Qm(r[G+1],u)),r[y+1]=function EC(r,s){return 131071&r|s<<17}(r[y+1],u)}else r[u+1]=Km(y,0),0!==y&&(r[y+1]=Qm(r[y+1],u)),y=u;else r[u+1]=Km(E,0),0===y?y=u:r[E+1]=Qm(r[E+1],u),E=u;w&&(r[u+1]=Yh(r[u+1])),Jm(r,S,u,!0),Jm(r,S,u,!1),function YI(r,s,o,u,c){const f=c?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof s&&zr(f,s)>=0&&(o[u+1]=jp(o[u+1]))}(s,S,r,u,f),_=Km(y,E),f?s.classBindings=_:s.styleBindings=_}(c,f,s,o,_,u)}}(f,r,_,u),s!==mt&&Fr(c,_,s)&&function cl(r,s,o,u,c,f,_,y){if(!(3&s.type))return;const E=r.data,w=E[y+1],S=function SD(r){return 1==(1&r)}(w)?Wp(E,s,o,c,Vu(w),_):void 0;Ko(S)||(Ko(f)||function CC(r){return 2==(2&r)}(w)&&(f=Wp(E,null,o,c,y,_)),function ph(r,s,o,u,c){if(s)c?r.addClass(o,u):r.removeClass(o,u);else{let f=-1===u.indexOf("-")?void 0:fi.DashCase;null==c?r.removeStyle(o,u,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=fi.Important),r.setStyle(o,u,c,f))}}(u,_,os(gr(),o),c,f))}(f,f.data[gr()],c,c[11],r,c[_+1]=function xC(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ae(v(r)))),r}(s,o),u,_)}(r,s,null,!0),n_}function Qh(r,s,o,u,c){let f=null;const _=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<_&&(f=s[y],u=pd(u,f.hostAttrs,c),f!==r);)y++;return null!==r&&(o.directiveStylingLast=y),u}function pd(r,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?c=_:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),St(r,_,!!o||s[++f]))}return void 0===r?null:r}function Wp(r,s,o,u,c,f){const _=null===s;let y;for(;c>0;){const E=r[c],w=Array.isArray(E),S=w?E[1]:E,N=null===S;let G=o[c+1];G===mt&&(G=N?nt:void 0);let Q=N?_r(G,u):S===u?G:void 0;if(w&&!Ko(Q)&&(Q=_r(E,u)),Ko(Q)&&(y=Q,_))return y;const he=r[c+1];c=_?Uu(he):Vu(he)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(y=_r(E,u))}return y}function Ko(r){return void 0!==r}function gd(r,s=""){const o=Ce(),u=kt(),c=r+22,f=u.firstCreatePass?Ph(u,c,1,s,null):u.data[c],_=o[c]=function $a(r,s){return r.createText(s)}(o[11],s);Wc(u,o,_,f),Rr(f,!1)}function Qo(r){return Jh("",r,""),Qo}function Jh(r,s,o){const u=Ce(),c=cd(u,r,s,o);return c!==mt&&Si(u,gr(),c),Jh}function Zp(r,s,o,u,c){const f=Ce(),_=xu(f,r,s,o,u,c);return _!==mt&&Si(f,gr(),_),Zp}const hl=void 0;var c_=["en",[["a","p"],["AM","PM"],hl],[["AM","PM"],hl,hl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hl,"{1} 'at' {0}",hl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VC(r){const o=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let $u={};function BC(r,s,o){"string"!=typeof s&&(o=s,s=r[rt.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),$u[s]=r,o&&($u[s][rt.ExtraData]=o)}function nf(r){const s=function h_(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=$C(s);if(o)return o;const u=s.split("-")[0];if(o=$C(u),o)return o;if("en"===u)return c_;throw new ue(701,!1)}function d_(r){return nf(r)[rt.PluralCase]}function $C(r){return r in $u||($u[r]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[r]),$u[r]}var rt=(()=>((rt=rt||{})[rt.LocaleId=0]="LocaleId",rt[rt.DayPeriodsFormat=1]="DayPeriodsFormat",rt[rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",rt[rt.DaysFormat=3]="DaysFormat",rt[rt.DaysStandalone=4]="DaysStandalone",rt[rt.MonthsFormat=5]="MonthsFormat",rt[rt.MonthsStandalone=6]="MonthsStandalone",rt[rt.Eras=7]="Eras",rt[rt.FirstDayOfWeek=8]="FirstDayOfWeek",rt[rt.WeekendRange=9]="WeekendRange",rt[rt.DateFormat=10]="DateFormat",rt[rt.TimeFormat=11]="TimeFormat",rt[rt.DateTimeFormat=12]="DateTimeFormat",rt[rt.NumberSymbols=13]="NumberSymbols",rt[rt.NumberFormats=14]="NumberFormats",rt[rt.CurrencyCode=15]="CurrencyCode",rt[rt.CurrencySymbol=16]="CurrencySymbol",rt[rt.CurrencyName=17]="CurrencyName",rt[rt.Currencies=18]="Currencies",rt[rt.Directionality=19]="Directionality",rt[rt.PluralCase=20]="PluralCase",rt[rt.ExtraData=21]="ExtraData",rt))();const Hu="en-US";let f_=Hu;function tg(r,s,o,u,c){if(r=q(r),Array.isArray(r))for(let f=0;f<r.length;f++)tg(r[f],s,o,u,c);else{const f=kt(),_=Ce();let y=Xa(r)?r:q(r.provide),E=Qs(r);const w=$n(),S=1048575&w.providerIndexes,N=w.directiveStart,G=w.providerIndexes>>20;if(Xa(r)||!r.multi){const Q=new Ao(E,c,nd),he=A_(y,s,c?S:S+G,N);-1===he?(Bl(Us(w,_),f,y),T_(f,r,s.length),s.push(y),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),o.push(Q),_.push(Q)):(o[he]=Q,_[he]=Q)}else{const Q=A_(y,s,S+G,N),he=A_(y,s,S,S+G),xe=Q>=0&&o[Q],Le=he>=0&&o[he];if(c&&!Le||!c&&!xe){Bl(Us(w,_),f,y);const je=function ng(r,s,o,u,c){const f=new Ao(r,o,nd);return f.multi=[],f.index=s,f.componentProviders=0,d0(f,c,u&&!o),f}(c?hb:sn,o.length,c,u,E);!c&&Le&&(o[he].providerFactory=je),T_(f,r,s.length,0),s.push(y),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),o.push(je),_.push(je)}else T_(f,r,Q>-1?Q:he,d0(o[c?he:Q],E,!c&&u));!c&&u&&Le&&o[he].componentProviders++}}}function T_(r,s,o,u){const c=Xa(s),f=function RE(r){return!!r.useClass}(s);if(c||f){const E=(f?q(s.useClass):s).prototype.ngOnDestroy;if(E){const w=r.destroyHooks||(r.destroyHooks=[]);if(!c&&s.multi){const S=w.indexOf(o);-1===S?w.push(o,[u,E]):w[S+1].push(u,E)}else w.push(o,E)}}}function d0(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function A_(r,s,o,u){for(let c=o;c<u;c++)if(s[c]===r)return c;return-1}function sn(r,s,o,u){return S_(this.multi,[])}function hb(r,s,o,u){const c=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,y=Zr(o,o[1],this.providerFactory.index,u);f=y.slice(0,_),S_(c,f);for(let E=_;E<y.length;E++)f.push(y[E])}else f=[],S_(c,f);return f}function S_(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function rg(r,s=[]){return o=>{o.providersResolver=(u,c)=>function c0(r,s,o){const u=kt();if(u.firstCreatePass){const c=pr(r);tg(o,u.data,u.blueprint,c,!0),tg(s,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,s)}}class _s{}class so{}function df(r,s){return new h0(r,s??null)}class h0 extends _s{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ky(this);const u=Yn(s);this._bootstrapComponents=Js(u.bootstrap),this._r3Injector=My(s,o,[{provide:_s,useValue:this},{provide:qc,useValue:this.componentFactoryResolver}],ae(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zu extends so{constructor(s){super(),this.moduleType=s}create(s){return new h0(this.moduleType,s)}}class fb extends _s{constructor(s,o,u){super(),this.componentFactoryResolver=new Ky(this),this.instance=null;const c=new cm([...s,{provide:_s,useValue:this},{provide:qc,useValue:this.componentFactoryResolver}],o||Jn(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function ln(r,s,o=null){return new fb(r,s,o).injector}let M_=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=wh(0,o.type),c=u.length>0?ln([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Je({token:r,providedIn:"environment",factory:()=>new r(Pe(Zo))}),r})();function f0(r){r.getStandaloneInjector=s=>s.get(M_).getOrCreateStandaloneInjector(r)}function gf(r,s,o){const u=rn()+r,c=Ce();return c[u]===mt?to(c,u,o?s.call(o):s()):function ld(r,s){return r[s]}(c,u)}function N_(r,s,o,u){return L_(Ce(),rn(),r,s,o,u)}function mf(r,s){const o=r[s];return o===mt?void 0:o}function L_(r,s,o,u,c,f){const _=s+o;return Fr(r,_,c)?to(r,_+1,f?u.call(f,c):u(c)):mf(r,_+1)}function og(r,s){const o=kt();let u;const c=r+22;o.firstCreatePass?(u=function U_(r,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(r===u.name)return u}}(s,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const f=u.factory||(u.factory=rs(u.type)),_=Xt(nd);try{const y=xa(!1),E=f();return xa(y),function bD(r,s,o,u){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),s[o]=u}(o,Ce(),c,E),E}finally{Xt(_)}}function _f(r,s,o){const u=r+22,c=Ce(),f=Ui(c,u);return vf(c,u)?L_(c,rn(),s,f.transform,o,f):f.transform(o)}function Id(r,s,o,u){const c=r+22,f=Ce(),_=Ui(f,c);return vf(f,c)?function m0(r,s,o,u,c,f,_){const y=s+o;return Ru(r,y,c,f)?to(r,y+2,_?u.call(_,c,f):u(c,f)):mf(r,y+2)}(f,rn(),s,_.transform,o,u,_):_.transform(o,u)}function vf(r,s){return r[1].data[s].pure}function Yu(r){return s=>{setTimeout(r,void 0,s)}}const oo=class Cb extends a.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){let c=s,f=o||(()=>null),_=u;if(s&&"object"==typeof s){const E=s;c=E.next?.bind(E),f=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(f=Yu(f),c&&(c=Yu(c)),_&&(_=Yu(_)));const y=super.subscribe({next:c,error:f,complete:_});return s instanceof K.w0&&s.add(y),y}};function Eb(){return this._results[al()]()}class Td{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=al(),u=Td.prototype;u[o]||(u[o]=Eb)}get changes(){return this._changes||(this._changes=new oo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=function mr(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Oc(r,s,o){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],f=s[u];if(o&&(c=o(c),f=o(f)),f!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ta=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ku,r})();const C0=ta,ag=class extends C0{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s,o){const u=this._declarationTContainer.tViews,c=Ip(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,o||null);c[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(c[19]=_.createEmbeddedView(u)),Nh(u,c,s),new $h(c)}};function Ku(){return Ad($n(),Ce())}function Ad(r,s){return 4&r.type?new ag(s,r,Yc(r,s)):null}let lg=(()=>{class r{}return r.__NG_ELEMENT_ID__=on,r})();function on(){return dg($n(),Ce())}const vs=lg,Sd=class extends vs{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Yc(this._hostTNode,this._hostLView)}get injector(){return new Nr(this._hostTNode,this._hostLView)}get parentInjector(){const s=Na(this._hostTNode,this._hostLView);if(Ic(s)){const o=Ls(s,this._hostLView),u=Ma(s);return new Nr(o[1].data[u+8],o)}return new Nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=ug(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){let c,f;"number"==typeof u?c=u:null!=u&&(c=u.index,f=u.injector);const _=s.createEmbeddedView(o||{},f);return this.insert(_,c),_}createComponent(s,o,u,c,f){const _=s&&!function Oo(r){return"function"==typeof r}(s);let y;if(_)y=o;else{const N=o||{};y=N.index,u=N.injector,c=N.projectableNodes,f=N.environmentInjector||N.ngModuleRef}const E=_?s:new Su(Nt(s)),w=u||this.parentInjector;if(!f&&null==E.ngModule){const G=(_?w:this.parentInjector).get(Zo,null);G&&(f=G)}const S=E.create(w,c,void 0,f);return this.insert(S.hostView,y),S}insert(s,o){const u=s._lView,c=u[1];if(function ya(r){return Hr(r[3])}(u)){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const N=u[3],G=new Sd(N,N[6],N[3]);G.detach(G.indexOf(s))}}const f=this._adjustIndex(o),_=this._lContainer;!function jc(r,s,o,u){const c=10+u,f=o.length;u>0&&(o[c-1][4]=s),u<f-10?(s[4]=o[c],Ua(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const _=s[17];null!==_&&o!==_&&function ou(r,s){const o=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===o?r[9]=[s]:o.push(s)}(_,s);const y=s[19];null!==y&&y.insertView(r),s[2]|=64}(c,u,_,f);const y=xn(f,_),E=u[11],w=Wa(E,_[7]);return null!==w&&function Qv(r,s,o,u,c,f){u[0]=c,u[6]=s,za(r,u,o,1,c,f)}(c,_[6],E,u,w,y),s.attachToViewContainerRef(),Ua(cg(_),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=ug(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=Ga(this._lContainer,o);u&&(Po(cg(this._lContainer),o),ep(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=Ga(this._lContainer,o);return u&&null!=Po(cg(this._lContainer),o)?new $h(u):null}_adjustIndex(s,o=0){return s??this.length+o}};function ug(r){return r[8]}function cg(r){return r[8]||(r[8]=[])}function dg(r,s){let o;const u=s[r.index];if(Hr(u))o=u;else{let c;if(8&r.type)c=fn(u);else{const f=s[11];c=f.createComment("");const _=Bn(r,s);Bo(f,Wa(f,_),c,function Xv(r,s){return r.nextSibling(s)}(f,_),!1)}s[r.index]=o=Zy(u,s,c,r),Mp(s,o)}return new Sd(o,r,s)}class na{constructor(s){this.queryList=s,this.matches=null}clone(){return new na(this.queryList)}setDirty(){this.queryList.setDirty()}}class hg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let f=0;f<u;f++){const _=o.getByIndex(f);c.push(this.queries[_.indexInDeclarationView].clone())}return new hg(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==S0(s,o).matches&&this.queries[o].setDirty()}}class ra{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class yf{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,f=this.getByIndex(u).embeddedTView(s,c);f&&(f.indexInDeclarationView=u,null!==o?o.push(f):o=[f])}return null!==o?new yf(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ml{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new ml(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const f=u[c];this.matchTNodeWithReadOption(s,o,E0(o,f)),this.matchTNodeWithReadOption(s,o,Ro(o,s,f,!1,!1))}else u===ta?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Ro(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Eu||c===lg||c===ta&&4&o.type)this.addMatch(o.index,-2);else{const f=Ro(o,s,c,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function E0(r,s){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function Db(r,s,o,u){return-1===o?function fg(r,s){return 11&r.type?Yc(r,s):4&r.type?Ad(r,s):null}(s,r):-2===o?function bb(r,s,o){return o===Eu?Yc(s,r):o===ta?Ad(s,r):o===lg?dg(s,r):void 0}(r,s,u):Zr(r,r[1],o,s)}function D0(r,s,o,u){const c=s[19].queries[u];if(null===c.matches){const f=r.data,_=o.matches,y=[];for(let E=0;E<_.length;E+=2){const w=_[E];y.push(w<0?null:Db(s,f[w],_[E+1],o.metadata.read))}c.matches=y}return c.matches}function V_(r,s,o,u){const c=r.queries.getByIndex(o),f=c.matches;if(null!==f){const _=D0(r,s,c,o);for(let y=0;y<f.length;y+=2){const E=f[y];if(E>0)u.push(_[y/2]);else{const w=f[y+1],S=s[-E];for(let N=10;N<S.length;N++){const G=S[N];G[17]===G[3]&&V_(G[1],G,w,u)}if(null!==S[9]){const N=S[9];for(let G=0;G<N.length;G++){const Q=N[G];V_(Q[1],Q,w,u)}}}}}return u}function b0(r){const s=Ce(),o=kt(),u=Cc();Ol(u+1);const c=S0(o,u);if(r.dirty&&function Eo(r){return 4==(4&r[2])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const f=c.crossesNgTemplate?V_(o,s,u,[]):D0(o,s,c,u);r.reset(f,Mt),r.notifyOnChanges()}return!0}return!1}function I0(r,s,o,u){const c=kt();if(c.firstCreatePass){const f=$n();(function A0(r,s,o){null===r.queries&&(r.queries=new yf),r.queries.track(new ml(s,o))})(c,new ra(s,o,u),f.index),function wb(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function T0(r,s,o){const u=new Td(4==(4&o));kh(r,s,u,u.destroy),null===s[19]&&(s[19]=new hg),s[19].queries.push(new na(u))}(c,Ce(),o)}function B_(){return function w0(r,s){return r[19].queries[s].queryList}(Ce(),Cc())}function S0(r,s){return r.queries.getByIndex(s)}function M0(r,s){return Ad(r,s)}function _l(...r){}const G0=new jt("Application Initializer");let yg=(()=>{class r{constructor(o){this.appInits=o,this.resolve=_l,this.reject=_l,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(Wm(f))o.push(f);else if(fC(f)){const _=new Promise((y,E)=>{f.subscribe({complete:y,error:E})});o.push(_)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Pe(G0,8))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Df=new jt("AppId",{providedIn:"root",factory:function ev(){return`${bf()}${bf()}${bf()}`}});function bf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const If=new jt("Platform Initializer"),Lb=new jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xu=new jt("appBootstrapListener");let W0=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const ec=new jt("LocaleId",{providedIn:"root",factory:()=>Be(ec,Xe.Optional|Xe.SkipSelf)||function wf(){return typeof $localize<"u"&&$localize.locale||Hu}()}),tv=new jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Tf{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Bb=(()=>{class r{compileModuleSync(o){return new Zu(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),f=Js(Yn(o).declarations).reduce((_,y)=>{const E=Nt(y);return E&&_.push(new Su(E)),_},[]);return new Tf(u,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const jb=(()=>Promise.resolve(0))();function Eg(r){typeof Zone>"u"?jb.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class mi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oo(!1),this.onMicrotaskEmpty=new oo(!1),this.onStable=new oo(!1),this.onError=new oo(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function rv(){let r=ht.requestAnimationFrame,s=ht.cancelAnimationFrame;if(typeof Zone<"u"&&r&&s){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function K0(r){const s=()=>{!function iv(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ht,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,sv(r),r.isCheckStableRunning=!0,oa(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),sv(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,f,_,y)=>{try{return Af(r),o.invokeTask(c,f,_,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&s(),ov(r)}},onInvoke:(o,u,c,f,_,y,E)=>{try{return Af(r),o.invoke(c,f,_,y,E)}finally{r.shouldCoalesceRunChangeDetection&&s(),ov(r)}},onHasTask:(o,u,c,f)=>{o.hasTask(c,f),u===c&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,sv(r),oa(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,u,c,f)=>(o.handleError(c,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mi.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(mi.isInAngularZone())throw new ue(909,!1)}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+c,s,Dg,_l,_l);try{return f.runTask(_,o,u)}finally{f.cancelTask(_)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const Dg={};function oa(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function sv(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Af(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function ov(r){r._nesting--,oa(r)}class Gb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oo,this.onMicrotaskEmpty=new oo,this.onStable=new oo,this.onError=new oo}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}const Od=new jt(""),bg=new jt("");let Sf,Wb=(()=>{class r{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sf||(function Zb(r){Sf=r}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mi.assertNotInAngularZone(),Eg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eg(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(Pe(mi),Pe(Q0),Pe(bg))},r.\u0275prov=Je({token:r,factory:r.\u0275fac}),r})(),Q0=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Sf?.findTestabilityInTree(this,o,u)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),Cs=null;const av=new jt("AllowMultipleToken"),lv=new jt("PlatformDestroyListeners");class J0{constructor(s,o){this.name=s,this.token=o}}function xi(r,s,o=[]){const u=`Platform: ${s}`,c=new jt(u);return(f=[])=>{let _=wg();if(!_||_.injector.get(av,!1)){const y=[...o,...f,{provide:c,useValue:!0}];r?r(y):function uv(r){if(Cs&&!Cs.get(av,!1))throw new ue(400,!1);Cs=r;const s=r.get(_i);(function Pd(r){const s=r.get(If,null);s&&s.forEach(o=>o())})(r)}(function eE(r=[],s){return bu.create({name:s,providers:[{provide:Th,useValue:"platform"},{provide:lv,useValue:new Set([()=>Cs=null])},...r]})}(y,u))}return function X0(r){const s=wg();if(!s)throw new ue(401,!1);return s}()}}function wg(){return Cs?.get(_i)??null}let _i=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function tE(r,s){let o;return o="noop"===r?new Gb:("zone.js"===r?void 0:r)||new mi(s),o}(u?.ngZone,function dv(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(u)),f=[{provide:mi,useValue:c}];return c.run(()=>{const _=bu.create({providers:f,parent:this.injector,name:o.moduleType.name}),y=o.create(_),E=y.injector.get(kn,null);if(!E)throw new ue(402,!1);return c.runOutsideAngular(()=>{const w=c.onError.subscribe({next:S=>{E.handleError(S)}});y.onDestroy(()=>{Ag(this._modules,y),w.unsubscribe()})}),function hv(r,s,o){try{const u=o();return Wm(u)?u.catch(c=>{throw s.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(E,c,()=>{const w=y.injector.get(yg);return w.runInitializers(),w.donePromise.then(()=>(function jC(r){Dt(r,"Expected localeId to be defined"),"string"==typeof r&&(f_=r.toLowerCase().replace(/_/g,"-"))}(y.injector.get(ec,Hu)||Hu),this._moduleDoBootstrap(y),y))})})}bootstrapModule(o,u=[]){const c=nE({},u);return function ao(r,s,o){const u=new Zu(o);return Promise.resolve(u)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(o){const u=o.injector.get(Tg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new ue(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(lv,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Pe(bu))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function nE(r,s){return Array.isArray(s)?s.reduce(nE,r):{...r,...s}}let Tg=(()=>{class r{constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new x.y(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),_=new x.y(y=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{mi.assertNotInAngularZone(),Eg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const w=this._zone.onUnstable.subscribe(()=>{mi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{E.unsubscribe(),w.unsubscribe()}});this.isStable=(0,ie.T)(f,_.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const c=o instanceof br;if(!this._injector.get(yg).done)throw!c&&cn(o),new ue(405,false);let _;_=c?o:this._injector.get(qc).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const y=function zb(r){return r.isBoundToModule}(_)?void 0:this._injector.get(_s),w=_.create(bu.NULL,[],u||_.selector,y),S=w.location.nativeElement,N=w.injector.get(Od,null);return N?.registerApplication(S),w.onDestroy(()=>{this.detachView(w.hostView),Ag(this.components,w),N?.unregisterApplication(S)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ag(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Xu,[]);u.push(...this._bootstrapListeners),u.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ag(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ue(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(Pe(mi),Pe(Zo),Pe(kn))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Ag(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}function rE(){return!1}let Yb=(()=>{class r{}return r.__NG_ELEMENT_ID__=pv,r})();function pv(r){return function Kb(r,s,o){if(Qn(r)&&!o){const u=Rn(r.index,s);return new $h(u,u)}return 47&r.type?new $h(s[16],s):null}($n(),Ce(),16==(16&r))}class Sg{constructor(){}supports(s){return ad(s)}create(s){return new iI(s)}}const rI=(r,s)=>s;class iI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||rI}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,f=null;for(;o||u;){const _=!u||o&&o.currentIndex<lE(u,c,f)?o:u,y=lE(_,c,f),E=_.currentIndex;if(_===u)c--,u=u._nextRemoved;else if(o=o._next,null==_.previousIndex)c++;else{f||(f=[]);const w=y-c,S=E-c;if(w!=S){for(let G=0;G<w;G++){const Q=G<f.length?f[G]:f[G]=0,he=Q+G;S<=he&&he<w&&(f[G]=Q+1)}f[_.previousIndex]=S-w}}y!==E&&s(_,y,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!ad(s))throw new ue(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,_,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],_=this._trackByFn(y,f),null!==o&&Object.is(o.trackById,_)?(u&&(o=this._verifyReinsertion(o,f,_,y)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,_,y),u=!0),o=o._next}else c=0,function ED(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[al()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,y=>{_=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,_)?(u&&(o=this._verifyReinsertion(o,y,_,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,_,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,c)):s=this._addAfter(new _v(o,u),f,c),s}_verifyReinsertion(s,o,u,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new vv),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class _v{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class vv{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new sI,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lE(r,s,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class yv{constructor(){}supports(s){return s instanceof Map||Um(s)}create(){return new uE}}class uE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Um(s)))throw new ue(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const f=c._prev,_=c._next;return f&&(f._next=_),_&&(_._prev=f),c._next=null,c._prev=null,c}const u=new Cv(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class Cv{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ev(){return new Lr([new Sg])}let Lr=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Ev()),deps:[[r,new b,new Fo]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new ue(901,!1)}}return r.\u0275prov=Je({token:r,providedIn:"root",factory:Ev}),r})();function aa(){return new Fd([new yv])}let Fd=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||aa()),deps:[[r,new b,new Fo]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new ue(901,!1)}}return r.\u0275prov=Je({token:r,providedIn:"root",factory:aa}),r})();const rc=xi(null,"core",[]);let yw=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Pe(Tg))},r.\u0275mod=nn({type:r}),r.\u0275inj=Tr({}),r})();function lI(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(qe,me,O)=>{O.d(me,{Z:()=>Fe});var a=O(2090),K=O(4859),x=O(9681),ie=O(1877);class re{constructor(ue,ye){this._delegate=ue,this.firebase=ye,(0,x._addComponent)(ue,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(ue,ye=x._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(ue);return!Te.isInitialized()&&"EXPLICIT"===(null===(_e=Te.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:ye})}_removeServiceInstance(ue,ye=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(ye)}_addComponent(ue){(0,x._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,x._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function oe(){const We=function ae(We){const ue={},ye={__esModule:!0,initializeApp:function De(Ae,U={}){const fe=x.initializeApp(Ae,U);if((0,a.r3)(ue,fe.name))return ue[fe.name];const W=new We(fe,ye);return ue[fe.name]=W,W},app:Te,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function be(Ae){const U=Ae.name,fe=U.replace("-compat","");if(x._registerComponent(Ae)&&"PUBLIC"===Ae.type){const W=(Y=Te())=>{if("function"!=typeof Y[fe])throw ce.create("invalid-app-argument",{appName:U});return Y[fe]()};void 0!==Ae.serviceProps&&(0,a.ZB)(W,Ae.serviceProps),ye[fe]=W,We.prototype[fe]=function(...Y){return this._getService.bind(this,U).apply(this,Ae.multipleInstances?Y:[])}}return"PUBLIC"===Ae.type?ye[fe]:null},removeApp:function _e(Ae){delete ue[Ae]},useAsService:function Oe(Ae,U){return"serverAuth"===U?null:U},modularAPIs:x}};function Te(Ae){if(!(0,a.r3)(ue,Ae=Ae||x._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:Ae});return ue[Ae]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function pe(){return Object.keys(ue).map(Ae=>ue[Ae])}}),Te.App=We,ye}(re);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function ue(ye){(0,a.ZB)(We,ye)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),We}(),B=new ie.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=V;!function ve(We){(0,x.registerVersion)("@firebase/app-compat","0.2.0",We)}()},9681:(qe,me,O)=>{O.r(me),O.d(me,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Qi,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>Gn,_apps:()=>Dt,_clearComponents:()=>Tr,_components:()=>Qe,_getProvider:()=>Je,_registerComponent:()=>tr,_removeServiceInstance:()=>qt,deleteApp:()=>Ni,getApp:()=>Ar,getApps:()=>rr,initializeApp:()=>Pi,onLog:()=>Xe,registerVersion:()=>dr,setLogLevel:()=>yi});var a=O(5861),K=O(4859),x=O(1877),ie=O(2090),re=O(8766);class se{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function ce(Pe){return"VERSION"===Pe.getComponent()?.type}(Be)){const ot=Be.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(Be=>Be).join(" ")}}const ae="@firebase/app",V=new x.Yd("@firebase/app"),Wt="[DEFAULT]",_t={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dt=new Map,Qe=new Map;function Lt(Pe,ge){try{Pe.container.addComponent(ge)}catch(Be){V.debug(`Component ${ge.name} failed to register with FirebaseApp ${Pe.name}`,Be)}}function Gn(Pe,ge){Pe.container.addOrOverwriteComponent(ge)}function tr(Pe){const ge=Pe.name;if(Qe.has(ge))return V.debug(`There were multiple attempts to register component ${ge}.`),!1;Qe.set(ge,Pe);for(const Be of Dt.values())Lt(Be,Pe);return!0}function Je(Pe,ge){const Be=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),Pe.container.getProvider(ge)}function qt(Pe,ge,Be=Wt){Je(Pe,ge).clearInstance(Be)}function Tr(){Qe.clear()}const nr=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(ge,Be,ot){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const Qi="9.15.0";function Pi(Pe,ge={}){let Be=Pe;"object"!=typeof ge&&(ge={name:ge});const ot=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},ge),ct=ot.name;if("string"!=typeof ct||!ct)throw nr.create("bad-app-name",{appName:String(ct)});if(Be||(Be=(0,ie.aH)()),!Be)throw nr.create("no-options");const vt=Dt.get(ct);if(vt){if((0,ie.vZ)(Be,vt.options)&&(0,ie.vZ)(ot,vt.config))return vt;throw nr.create("duplicate-app",{appName:ct})}const $=new K.H0(ct);for(const Z of Qe.values())$.addComponent(Z);const L=new Wn(Be,ot,$);return Dt.set(ct,L),L}function Ar(Pe=Wt){const ge=Dt.get(Pe);if(!ge&&Pe===Wt)return Pi();if(!ge)throw nr.create("no-app",{appName:Pe});return ge}function rr(){return Array.from(Dt.values())}function Ni(Pe){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(Pe){const ge=Pe.name;Dt.has(ge)&&(Dt.delete(ge),yield Promise.all(Pe.container.getProviders().map(Be=>Be.delete())),Pe.isDeleted=!0)})).apply(this,arguments)}function dr(Pe,ge,Be){var ot;let ct=null!==(ot=_t[Pe])&&void 0!==ot?ot:Pe;Be&&(ct+=`-${Be}`);const vt=ct.match(/\s|\//),$=ge.match(/\s|\//);if(vt||$){const L=[`Unable to register library "${ct}" with version "${ge}":`];return vt&&L.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),vt&&$&&L.push("and"),$&&L.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void V.warn(L.join(" "))}tr(new K.wA(`${ct}-version`,()=>({library:ct,version:ge}),"VERSION"))}function Xe(Pe,ge){if(null!==Pe&&"function"!=typeof Pe)throw nr.create("invalid-log-argument");(0,x.Am)(Pe,ge)}function yi(Pe){(0,x.Ub)(Pe)}const Zn="firebase-heartbeat-store";let ki=null;function ht(){return ki||(ki=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(Pe,ge)=>{0===ge&&Pe.createObjectStore(Zn)}}).catch(Pe=>{throw nr.create("idb-open",{originalErrorMessage:Pe.message})})),ki}function it(){return(it=(0,a.Z)(function*(Pe){try{return(yield ht()).transaction(Zn).objectStore(Zn).get(Qt(Pe))}catch(ge){if(ge instanceof ie.ZR)V.warn(ge.message);else{const Be=nr.create("idb-get",{originalErrorMessage:ge?.message});V.warn(Be.message)}}})).apply(this,arguments)}function Ci(Pe,ge){return en.apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(Pe,ge){try{const ot=(yield ht()).transaction(Zn,"readwrite");return yield ot.objectStore(Zn).put(ge,Qt(Pe)),ot.done}catch(Be){if(Be instanceof ie.ZR)V.warn(Be.message);else{const ot=nr.create("idb-set",{originalErrorMessage:Be?.message});V.warn(ot.message)}}})).apply(this,arguments)}function Qt(Pe){return`${Pe.name}!${Pe.options.appId}`}class Ds{constructor(ge){this.container=ge,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new Pt(Be),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var ge=this;return(0,a.Z)(function*(){const ot=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=Vt();if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),ge._heartbeatsCache.lastSentHeartbeatDate!==ct&&!ge._heartbeatsCache.heartbeats.some(vt=>vt.date===ct))return ge._heartbeatsCache.heartbeats.push({date:ct,agent:ot}),ge._heartbeatsCache.heartbeats=ge._heartbeatsCache.heartbeats.filter(vt=>{const $=new Date(vt.date).valueOf();return Date.now()-$<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,a.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache||0===ge._heartbeatsCache.heartbeats.length)return"";const Be=Vt(),{heartbeatsToSend:ot,unsentEntries:ct}=function ei(Pe,ge=1024){const Be=[];let ot=Pe.slice();for(const ct of Pe){const vt=Be.find($=>$.agent===ct.agent);if(vt){if(vt.dates.push(ct.date),zn(Be)>ge){vt.dates.pop();break}}else if(Be.push({agent:ct.agent,dates:[ct.date]}),zn(Be)>ge){Be.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:Be,unsentEntries:ot}}(ge._heartbeatsCache.heartbeats),vt=(0,ie.L)(JSON.stringify({version:2,heartbeats:ot}));return ge._heartbeatsCache.lastSentHeartbeatDate=Be,ct.length>0?(ge._heartbeatsCache.heartbeats=ct,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache.heartbeats=[],ge._storage.overwrite(ge._heartbeatsCache)),vt})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class Pt{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,a.Z)(function*(){return(yield ge._canUseIndexedDBPromise)&&(yield function et(Pe){return it.apply(this,arguments)}(ge.app))||{heartbeats:[]}})()}overwrite(ge){var Be=this;return(0,a.Z)(function*(){var ot;if(yield Be._canUseIndexedDBPromise){const vt=yield Be.read();return Ci(Be.app,{lastSentHeartbeatDate:null!==(ot=ge.lastSentHeartbeatDate)&&void 0!==ot?ot:vt.lastSentHeartbeatDate,heartbeats:ge.heartbeats})}})()}add(ge){var Be=this;return(0,a.Z)(function*(){var ot;if(yield Be._canUseIndexedDBPromise){const vt=yield Be.read();return Ci(Be.app,{lastSentHeartbeatDate:null!==(ot=ge.lastSentHeartbeatDate)&&void 0!==ot?ot:vt.lastSentHeartbeatDate,heartbeats:[...vt.heartbeats,...ge.heartbeats]})}})()}}function zn(Pe){return(0,ie.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function ti(Pe){tr(new K.wA("platform-logger",ge=>new se(ge),"PRIVATE")),tr(new K.wA("heartbeat",ge=>new Ds(ge),"PRIVATE")),dr(ae,"0.9.0",Pe),dr(ae,"0.9.0","esm2017"),dr("fire-js","")}("")},4859:(qe,me,O)=>{O.d(me,{H0:()=>ae,wA:()=>x,zt:()=>re});var a=O(5861),K=O(2090);class x{constructor(V,B,q){this.name=V,this.instanceFactory=B,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const ie="[DEFAULT]";class re{constructor(V,B){this.name=V,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const B=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(B)){const q=new K.BH;if(this.instancesDeferred.set(B,q),this.isInitialized(B)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:B});Me&&q.resolve(Me)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(V){var B;const q=this.normalizeInstanceIdentifier(V?.identifier),Me=null!==(B=V?.optional)&&void 0!==B&&B;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(ve){if(Me)return null;throw ve}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function ce(oe){return"EAGER"===oe.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[B,q]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(B);try{const ve=this.getOrInitializeService({instanceIdentifier:Me});q.resolve(ve)}catch{}}}}clearInstance(V=ie){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,a.Z)(function*(){const B=Array.from(V.instances.values());yield Promise.all([...B.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...B.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=ie){return this.instances.has(V)}getOptions(V=ie){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:B={}}=V,q=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:q,options:B});for(const[ve,Fe]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(ve)&&Fe.resolve(Me);return Me}onInit(V,B){var q;const Me=this.normalizeInstanceIdentifier(B),ve=null!==(q=this.onInitCallbacks.get(Me))&&void 0!==q?q:new Set;ve.add(V),this.onInitCallbacks.set(Me,ve);const Fe=this.instances.get(Me);return Fe&&V(Fe,Me),()=>{ve.delete(V)}}invokeOnInitCallbacks(V,B){const q=this.onInitCallbacks.get(B);if(q)for(const Me of q)try{Me(V,B)}catch{}}getOrInitializeService({instanceIdentifier:V,options:B={}}){let q=this.instances.get(V);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=V,oe===ie?void 0:oe),options:B}),this.instances.set(V,q),this.instancesOptions.set(V,B),this.invokeOnInitCallbacks(q,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,q)}catch{}var oe;return q||null}normalizeInstanceIdentifier(V=ie){return this.component?this.component.multipleInstances?V:ie:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const B=this.getProvider(V.name);if(B.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);B.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const B=new re(V,this);return this.providers.set(V,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(qe,me,O)=>{O.d(me,{Am:()=>oe,Ub:()=>ae,Yd:()=>ce,in:()=>K});const a=[];var K=(()=>{return(V=K||(K={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",K;var V})();const x={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ie=K.INFO,re={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},se=(V,B,...q)=>{if(B<V.logLevel)return;const Me=(new Date).toISOString(),ve=re[B];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[ve](`[${Me}]  ${V.name}:`,...q)};class ce{constructor(B){this.name=B,this._logLevel=ie,this._logHandler=se,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in K))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?x[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...B),this._logHandler(this,K.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...B),this._logHandler(this,K.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,K.INFO,...B),this._logHandler(this,K.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,K.WARN,...B),this._logHandler(this,K.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...B),this._logHandler(this,K.ERROR,...B)}}function ae(V){a.forEach(B=>{B.setLogLevel(V)})}function oe(V,B){for(const q of a){let Me=null;B&&B.level&&(Me=x[B.level]),q.userLogHandler=null===V?null:(ve,Fe,...We)=>{const ue=We.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Fe>=(Me??ve.logLevel)&&V({level:K[Fe].toLowerCase(),message:ue,args:We,type:ve.name})}}}},259:(qe,me,O)=>{O.d(me,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=O(9681);(0,a.registerVersion)("firebase","9.15.0","app")},9260:(qe,me,O)=>{O.d(me,{Z:()=>a.Z});var a=O(3942);a.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(qe,me,O)=>{O.r(me);var a=O(5861),K=O(3942),x=O(2090),ie=O(9681),re=O(1877),se=O(655),ce=O(4859);const Fe=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},We=function ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ue=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new re.Yd("@firebase/auth");function Te(m,...h){_e.logLevel<=re.in.ERROR&&_e.error(`Auth (${ie.SDK_VERSION}): ${m}`,...h)}function De(m,...h){throw Ae(m,...h)}function pe(m,...h){return Ae(m,...h)}function be(m,h,p){const v=Object.assign(Object.assign({},We()),{[h]:p});return new x.LL("auth","Firebase",v).create(h,{appName:m.name})}function Oe(m,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&De(m,"argument-error"),be(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ae(m,...h){if("string"!=typeof m){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(p,...v)}return ue.create(m,...h)}function U(m,h,...p){if(!m)throw Ae(h,...p)}function fe(m){const h="INTERNAL ASSERTION FAILED: "+m;throw Te(h),new Error(h)}function W(m,h){m||fe(h)}const Y=new Map;function ne(m){W(m instanceof Function,"Expected a class definition");let h=Y.get(m);return h?(W(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,Y.set(m,h),h)}function Se(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Ye(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Dt{constructor(h,p){this.shortDelay=h,this.longDelay=p,W(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ye()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qe(m,h){W(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Lt{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tr=new Dt(3e4,6e4);function Je(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function qt(m,h,p,v){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(m,h,p,v,T={}){return cr(m,T,(0,a.Z)(function*(){let R={},j={};v&&("GET"===h?j=v:R={body:JSON.stringify(v)});const le=(0,x.xO)(Object.assign({key:m.config.apiKey},j)).slice(1),Ne=yield m._getAdditionalHeaders();return Ne["Content-Type"]="application/json",m.languageCode&&(Ne["X-Firebase-Locale"]=m.languageCode),Lt.fetch()(Pi(m,m.config.apiHost,p,le),Object.assign({method:h,headers:Ne,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function cr(m,h,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(m,h,p){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},Gn),h);try{const T=new Ar(m),R=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const j=yield R.json();if("needConfirmation"in j)throw rr(m,"account-exists-with-different-credential",j);if(R.ok&&!("errorMessage"in j))return j;{const le=R.ok?j.errorMessage:j.error.message,[Ne,Ve]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw rr(m,"credential-already-in-use",j);if("EMAIL_EXISTS"===Ne)throw rr(m,"email-already-in-use",j);if("USER_DISABLED"===Ne)throw rr(m,"user-disabled",j);const lt=v[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Ve)throw be(m,lt,Ve);De(m,lt)}}catch(T){if(T instanceof x.ZR)throw T;De(m,"network-request-failed")}})).apply(this,arguments)}function Wn(m,h,p,v){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(m,h,p,v,T={}){const R=yield qt(m,h,p,v,T);return"mfaPendingCredential"in R&&De(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Pi(m,h,p,v){const T=`${h}${p}?${v}`;return m.config.emulator?Qe(m.config,T):`${m.config.apiScheme}://${T}`}class Ar{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(pe(this.auth,"network-request-failed")),tr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(m,h,p){const v={appName:m.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const T=pe(m,h,v);return T.customData._tokenResponse=p,T}function Zt(){return(Zt=(0,a.Z)(function*(m,h){return qt(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function dr(m,h){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,a.Z)(function*(m,h){return qt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function yi(m,h){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(m,h){return qt(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Xt(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function ht(){return(ht=(0,a.Z)(function*(m,h=!1){const p=(0,x.m9)(m),v=yield p.getIdToken(h),T=it(v);U(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,j=R?.sign_in_provider;return{claims:T,token:v,authTime:Xt(et(T.auth_time)),issuedAtTime:Xt(et(T.iat)),expirationTime:Xt(et(T.exp)),signInProvider:j||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function et(m){return 1e3*Number(m)}function it(m){const[h,p,v]=m.split(".");if(void 0===h||void 0===p||void 0===v)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,x.tV)(p);return T?JSON.parse(T):(Te("Failed to decode base64 JWT payload"),null)}catch(T){return Te("Caught error parsing JWT payload as JSON",T?.toString()),null}}function en(m,h){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*(m,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof x.ZR&&Br(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}function Br({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class Un{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,a.Z)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,a.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Ds{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vt(m){return ei.apply(this,arguments)}function ei(){return(ei=(0,a.Z)(function*(m){var h;const p=m.auth,v=yield m.getIdToken(),T=yield en(m,yi(p,{idToken:v}));U(T?.users.length,p,"internal-error");const R=T.users[0];m._notifyReloadListener(R);const j=null!==(h=R.providerUserInfo)&&void 0!==h&&h.length?Pe(R.providerUserInfo):[],le=ti(m.providerData,j),lt=!!m.isAnonymous&&!(m.email&&R.passwordHash||le?.length),Ke={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:le,metadata:new Ds(R.createdAt,R.lastLoginAt),isAnonymous:lt};Object.assign(m,Ke)})).apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(m){const h=(0,x.m9)(m);yield Vt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ti(m,h){return[...m.filter(v=>!h.some(T=>T.providerId===v.providerId)),...h]}function Pe(m){return m.map(h=>{var{providerId:p}=h,v=(0,se._T)(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Be(){return(Be=(0,a.Z)(function*(m,h){const p=yield cr(m,{},(0,a.Z)(function*(){const v=(0,x.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:R}=m.config,j=Pi(m,T,"/v1/token",`key=${R}`),le=yield m._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",Lt.fetch()(j,{method:"POST",headers:le,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){U(h.idToken,"internal-error"),U(typeof h.idToken<"u","internal-error"),U(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ci(m){const h=it(m);return U(h,"internal-error"),U(typeof h.exp<"u","internal-error"),U(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var v=this;return(0,a.Z)(function*(){return U(!v.accessToken||v.refreshToken,h,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,a.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:j}=yield function ge(m,h){return Be.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(T,R,Number(j))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:T,expirationTime:R}=p,j=new ot;return v&&(U("string"==typeof v,"internal-error",{appName:h}),j.refreshToken=v),T&&(U("string"==typeof T,"internal-error",{appName:h}),j.accessToken=T),R&&(U("number"==typeof R,"internal-error",{appName:h}),j.expirationTime=R),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ot,this.toJSON())}_performRefresh(){return fe("not implemented")}}function ct(m,h){U("string"==typeof m||typeof m>"u","internal-error",{appName:h})}class vt{constructor(h){var{uid:p,auth:v,stsTokenManager:T}=h,R=(0,se._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Ds(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,a.Z)(function*(){const v=yield en(p,p.stsTokenManager.getToken(p.auth,h));return U(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function ki(m){return ht.apply(this,arguments)}(this,h)}reload(){return function Pt(m){return zn.apply(this,arguments)}(this)}_assign(h){this!==h&&(U(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new vt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var v=this;return(0,a.Z)(function*(){let T=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),T=!0),p&&(yield Vt(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,a.Z)(function*(){const p=yield h.getIdToken();return yield en(h,function Ni(m,h){return Zt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,T,R,j,le,Ne,Ve,lt;const Ke=null!==(v=p.displayName)&&void 0!==v?v:void 0,On=null!==(T=p.email)&&void 0!==T?T:void 0,kr=null!==(R=p.phoneNumber)&&void 0!==R?R:void 0,Ya=null!==(j=p.photoURL)&&void 0!==j?j:void 0,lp=null!==(le=p.tenantId)&&void 0!==le?le:void 0,Ka=null!==(Ne=p._redirectEventId)&&void 0!==Ne?Ne:void 0,Wi=null!==(Ve=p.createdAt)&&void 0!==Ve?Ve:void 0,gu=null!==(lt=p.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:Qa,emailVerified:mu,isAnonymous:zc,providerData:Eh,stsTokenManager:Go}=p;U(Qa&&Go,h,"internal-error");const ty=ot.fromJSON(this.name,Go);U("string"==typeof Qa,h,"internal-error"),ct(Ke,h.name),ct(On,h.name),U("boolean"==typeof mu,h,"internal-error"),U("boolean"==typeof zc,h,"internal-error"),ct(kr,h.name),ct(Ya,h.name),ct(lp,h.name),ct(Ka,h.name),ct(Wi,h.name),ct(gu,h.name);const Ja=new vt({uid:Qa,auth:h,email:On,emailVerified:mu,displayName:Ke,isAnonymous:zc,photoURL:Ya,phoneNumber:kr,tenantId:lp,stsTokenManager:ty,createdAt:Wi,lastLoginAt:gu});return Eh&&Array.isArray(Eh)&&(Ja.providerData=Eh.map(Dh=>Object.assign({},Dh))),Ka&&(Ja._redirectEventId=Ka),Ja}static _fromIdTokenResponse(h,p,v=!1){return(0,a.Z)(function*(){const T=new ot;T.updateFromServerResponse(p);const R=new vt({uid:p.localId,auth:h,stsTokenManager:T,isAnonymous:v});return yield Vt(R),R})()}}const L=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(p,v){var T=this;return(0,a.Z)(function*(){T.storage[p]=v})()}_get(p){var v=this;return(0,a.Z)(function*(){const T=v.storage[p];return void 0===T?null:T})()}_remove(p){var v=this;return(0,a.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return m.type="NONE",m})();function Z(m,h,p){return`firebase:${m}:${h}:${p}`}class de{constructor(h,p,v){this.persistence=h,this.auth=p,this.userKey=v;const{config:T,name:R}=this.auth;this.fullUserKey=Z(this.userKey,T.apiKey,R),this.fullPersistenceKey=Z("persistence",T.apiKey,R),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,a.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?vt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,a.Z)(function*(){if(p.persistence===h)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,v="authUser"){return(0,a.Z)(function*(){if(!p.length)return new de(ne(L),h,v);const T=(yield Promise.all(p.map(function(){var Ve=(0,a.Z)(function*(lt){if(yield lt._isAvailable())return lt});return function(lt){return Ve.apply(this,arguments)}}()))).filter(Ve=>Ve);let R=T[0]||ne(L);const j=Z(v,h.config.apiKey,h.name);let le=null;for(const Ve of p)try{const lt=yield Ve._get(j);if(lt){const Ke=vt._fromJSON(h,lt);Ve!==R&&(le=Ke),R=Ve;break}}catch{}const Ne=T.filter(Ve=>Ve._shouldAllowMigration);return R._shouldAllowMigration&&Ne.length?(R=Ne[0],le&&(yield R._set(j,le.toJSON())),yield Promise.all(p.map(function(){var Ve=(0,a.Z)(function*(lt){if(lt!==R)try{yield lt._remove(j)}catch{}});return function(lt){return Ve.apply(this,arguments)}}())),new de(R,h,v)):new de(R,h,v)})()}}function J(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(tn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(He(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Mn(h))return"Blackberry";if(It(h))return"Webos";if(yt(h))return"Safari";if((h.includes("chrome/")||At(h))&&!h.includes("edge/"))return"Chrome";if(nt(h))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function He(m=(0,x.z$)()){return/firefox\//i.test(m)}function yt(m=(0,x.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function At(m=(0,x.z$)()){return/crios\//i.test(m)}function tn(m=(0,x.z$)()){return/iemobile/i.test(m)}function nt(m=(0,x.z$)()){return/android/i.test(m)}function Mn(m=(0,x.z$)()){return/blackberry/i.test(m)}function It(m=(0,x.z$)()){return/webos/i.test(m)}function wn(m=(0,x.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Vd(m=(0,x.z$)()){return wn(m)||nt(m)||It(m)||Mn(m)||/windows phone/i.test(m)||tn(m)}function da(m,h=[]){let p;switch(m){case"Browser":p=J((0,x.z$)());break;case"Worker":p=`${J((0,x.z$)())}-${m}`;break;default:p=m}const v=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ie.SDK_VERSION}/${v}`}class yl{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const v=R=>new Promise((j,le)=>{try{j(h(R))}catch(Ne){le(Ne)}});v.onAbort=p,this.queue.push(v);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,a.Z)(function*(){if(p.auth.currentUser===h)return;const v=[];try{for(const T of p.queue)yield T(h),T.onAbort&&v.push(T.onAbort)}catch(T){v.reverse();for(const R of v)try{R()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class ic{constructor(h,p,v){this.app=h,this.heartbeatServiceProvider=p,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sc(this),this.idTokenSubscription=new sc(this),this.beforeStateQueue=new yl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(h,p){var v=this;return p&&(this._popupRedirectResolver=ne(p)),this._initializationPromise=this.queue((0,a.Z)(function*(){var T,R;if(!v._deleted&&(v.persistenceManager=yield de.create(v,h),!v._deleted)){if(null!==(T=v._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(R=v.currentUser)||void 0===R?void 0:R.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,a.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,a.Z)(function*(){var v;const T=yield p.assertedPersistence.getCurrentUser();let R=T,j=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const le=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,Ne=R?._redirectEventId,Ve=yield p.tryRedirectSignIn(h);(!le||le===Ne)&&Ve?.user&&(R=Ve.user,j=!0)}if(!R)return p.directlySetCurrentUser(null);if(!R._redirectEventId){if(j)try{yield p.beforeStateQueue.runMiddleware(R)}catch(le){R=T,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(le))}return R?p.reloadAndSetCurrentUserOrClear(R):p.directlySetCurrentUser(null)}return U(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===R._redirectEventId?p.directlySetCurrentUser(R):p.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(h){var p=this;return(0,a.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,a.Z)(function*(){try{yield Vt(h)}catch(v){if("auth/network-request-failed"!==v?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function _t(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,a.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,a.Z)(function*(){const v=h?(0,x.m9)(h):null;return v&&U(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(h,p=!1){var v=this;return(0,a.Z)(function*(){if(!v._deleted)return h&&U(v.tenantId===h.tenantId,v,"tenant-id-mismatch"),p||(yield v.beforeStateQueue.runMiddleware(h)),v.queue((0,a.Z)(function*(){yield v.directlySetCurrentUser(h),v.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,a.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,a.Z)(function*(){yield p.assertedPersistence.setPersistence(ne(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new x.LL("auth","Firebase",h())}onAuthStateChanged(h,p,v){return this.registerStateListener(this.authStateSubscription,h,p,v)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,v){return this.registerStateListener(this.idTokenSubscription,h,p,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var v=this;return(0,a.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(p);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,a.Z)(function*(){if(!p.redirectPersistenceManager){const v=h&&ne(h)||p._popupRedirectResolver;U(v,p,"argument-error"),p.redirectPersistenceManager=yield de.create(p,[ne(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,a.Z)(function*(){var v,T;return p._isInitialized&&(yield p.queue((0,a.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===h?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,a.Z)(function*(){if(h===p.currentUser)return p.queue((0,a.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,v,T){if(this._deleted)return()=>{};const R="function"==typeof p?p:p.next.bind(p),j=this._isInitialized?Promise.resolve():this._initializationPromise;return U(j,this,"internal-error"),j.then(()=>R(this.currentUser)),"function"==typeof p?h.addObserver(p,v,T):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,a.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=da(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,a.Z)(function*(){var p;const v={"X-Client-Version":h.clientVersion};h.app.options.appId&&(v["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return T&&(v["X-Firebase-Client"]=T),v})()}}function nn(m){return(0,x.m9)(m)}class sc{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,x.ne)(p=>this.observer=p)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ho(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function Nt(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class un{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return fe("not implemented")}_getIdTokenResponse(h){return fe("not implemented")}_linkToIdToken(h,p){return fe("not implemented")}_getReauthenticationResolver(h){return fe("not implemented")}}function cn(m,h){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(m,h){return qt(m,"POST","/v1/accounts:resetPassword",Je(m,h))})).apply(this,arguments)}function $r(m,h){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,a.Z)(function*(m,h){return qt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function pt(m,h){return zt.apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(m,h){return qt(m,"POST","/v1/accounts:update",Je(m,h))})).apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(m,h){return Wn(m,"POST","/v1/accounts:signInWithPassword",Je(m,h))})).apply(this,arguments)}function dn(m,h){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(m,h){return qt(m,"POST","/v1/accounts:sendOobCode",Je(m,h))})).apply(this,arguments)}function xt(m,h){return Is.apply(this,arguments)}function Is(){return(Is=(0,a.Z)(function*(m,h){return dn(m,h)})).apply(this,arguments)}function Ji(m,h){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(m,h){return dn(m,h)})).apply(this,arguments)}function ha(m,h){return ws.apply(this,arguments)}function ws(){return(ws=(0,a.Z)(function*(m,h){return dn(m,h)})).apply(this,arguments)}function Bd(m,h){return ri.apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(m,h){return dn(m,h)})).apply(this,arguments)}function Xi(){return(Xi=(0,a.Z)(function*(m,h){return Wn(m,"POST","/v1/accounts:signInWithEmailLink",Je(m,h))})).apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(m,h){return Wn(m,"POST","/v1/accounts:signInWithEmailLink",Je(m,h))})).apply(this,arguments)}class Fi extends un{constructor(h,p,v,T=null){super("password",v),this._email=h,this._password=p,this._tenantId=T}static _fromEmailAndPassword(h,p){return new Fi(h,p,"password")}static _fromEmailAndCode(h,p,v=null){return new Fi(h,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,a.Z)(function*(){switch(p.signInMethod){case"password":return function hr(m,h){return An.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Vn(m,h){return Xi.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:De(h,"internal-error")}})()}_linkToIdToken(h,p){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return $r(h,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ii(m,h){return Sr.apply(this,arguments)}(h,{idToken:p,email:v._email,oobCode:v._password});default:De(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function hn(m,h){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(m,h){return Wn(m,"POST","/v1/accounts:signInWithIdp",Je(m,h))})).apply(this,arguments)}class Mr extends un{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Mr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):De("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T}=p,R=(0,se._T)(p,["providerId","signInMethod"]);if(!v||!T)return null;const j=new Mr(v,T);return j.idToken=R.idToken||void 0,j.accessToken=R.accessToken||void 0,j.secret=R.secret,j.nonce=R.nonce,j.pendingToken=R.pendingToken||null,j}_getIdTokenResponse(h){return hn(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,hn(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,hn(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,x.xO)(p)}return h}}function oc(m,h){return es.apply(this,arguments)}function es(){return(es=(0,a.Z)(function*(m,h){return qt(m,"POST","/v1/accounts:sendVerificationCode",Je(m,h))})).apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(m,h){return Wn(m,"POST","/v1/accounts:signInWithPhoneNumber",Je(m,h))})).apply(this,arguments)}function po(){return(po=(0,a.Z)(function*(m,h){const p=yield Wn(m,"POST","/v1/accounts:signInWithPhoneNumber",Je(m,h));if(p.temporaryProof)throw rr(m,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const fr={USER_NOT_FOUND:"user-not-found"};function go(){return(go=(0,a.Z)(function*(m,h){return Wn(m,"POST","/v1/accounts:signInWithPhoneNumber",Je(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),fr)})).apply(this,arguments)}class Qn extends un{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Qn({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Qn({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function ts(m,h){return ir.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Kn(m,h){return po.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Hr(m,h){return go.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:T}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:R}=h;return v||p||T||R?new Qn({verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:R}):null}}class mo{constructor(h){var p,v,T,R,j,le;const Ne=(0,x.zd)((0,x.pd)(h)),Ve=null!==(p=Ne.apiKey)&&void 0!==p?p:null,lt=null!==(v=Ne.oobCode)&&void 0!==v?v:null,Ke=function El(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ne.mode)&&void 0!==T?T:null);U(Ve&&lt&&Ke,"argument-error"),this.apiKey=Ve,this.operation=Ke,this.code=lt,this.continueUrl=null!==(R=Ne.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(j=Ne.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(le=Ne.tenantId)&&void 0!==le?le:null}static parseLink(h){const p=function pr(m){const h=(0,x.zd)((0,x.pd)(m)).link,p=h?(0,x.zd)((0,x.pd)(h)).deep_link_id:null,v=(0,x.zd)((0,x.pd)(m)).deep_link_id;return(v?(0,x.zd)((0,x.pd)(v)).link:null)||v||p||h||m}(h);try{return new mo(p)}catch{return null}}}let Dl=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(p,v){return Fi._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const T=mo.parseLink(v);return U(T,"argument-error"),Fi._fromEmailAndCode(p,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Ei{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ns extends Ei{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ts extends ns{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return U("providerId"in p&&"signInMethod"in p,"argument-error"),Mr._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return U(h.idToken||h.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ts.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ts.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:R,nonce:j,providerId:le}=h;if(!v&&!T&&!p&&!R||!le)return null;try{return new Ts(le)._credential({idToken:p,accessToken:v,nonce:j,pendingToken:R})}catch{return null}}}let ac=(()=>{class m extends ns{constructor(){super("facebook.com")}static credential(p){return Mr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),_o=(()=>{class m extends ns{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return Mr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:T}=p;if(!v&&!T)return null;try{return m.credential(v,T)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),bl=(()=>{class m extends ns{constructor(){super("github.com")}static credential(p){return Mr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class fa extends un{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return hn(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,hn(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,hn(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T,pendingToken:R}=p;return v&&T&&R&&v===T?new fa(v,R):null}static _create(h,p){return new fa(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jr extends Ei{constructor(h){U(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return jr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return jr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=fa.fromJSON(h);return U(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:v}=h;if(!p||!v)return null;try{return fa._create(v,p)}catch{return null}}}let uc=(()=>{class m extends ns{constructor(){super("twitter.com")}static credential(p,v){return Mr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=p;if(!v||!T)return null;try{return m.credential(v,T)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Il(m,h){return cc.apply(this,arguments)}function cc(){return(cc=(0,a.Z)(function*(m,h){return Wn(m,"POST","/v1/accounts:signUp",Je(m,h))})).apply(this,arguments)}class sr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v,T=!1){return(0,a.Z)(function*(){const R=yield vt._fromIdTokenResponse(h,v,T),j=dc(v);return new sr({user:R,providerId:j,_tokenResponse:v,operationType:p})})()}static _forOperation(h,p,v){return(0,a.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const T=dc(v);return new sr({user:h,providerId:T,_tokenResponse:v,operationType:p})})()}}function dc(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Hd(){return(Hd=(0,a.Z)(function*(m){var h;const p=nn(m);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new sr({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield Il(p,{returnSecureToken:!0}),T=yield sr._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class fc extends x.ZR{constructor(h,p,v,T){var R;super(p.code,p.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,fc.prototype),this.customData={appName:h.name,tenantId:null!==(R=h.tenantId)&&void 0!==R?R:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,p,v,T){return new fc(h,p,v,T)}}function rs(m,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?fc._fromErrorAndOperation(m,R,h,v):R})}function Li(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function is(){return(is=(0,a.Z)(function*(m,h){const p=(0,x.m9)(m);yield ss(!0,p,h);const{providerUserInfo:v}=yield dr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),T=Li(v||[]);return p.providerData=p.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ga(m,h){return ma.apply(this,arguments)}function ma(){return(ma=(0,a.Z)(function*(m,h,p=!1){const v=yield en(m,h._linkToIdToken(m.auth,yield m.getIdToken()),p);return sr._forOperation(m,"link",v)})).apply(this,arguments)}function ss(m,h,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,a.Z)(function*(m,h,p){yield Vt(h);const T=!1===m?"provider-already-linked":"no-such-provider";U(Li(h.providerData).has(p)===m,h.auth,T)})).apply(this,arguments)}function _a(m,h){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(m,h,p=!1){const{auth:v}=m,T="reauthenticate";try{const R=yield en(m,rs(v,T,h,m),p);U(R.idToken,v,"internal-error");const j=it(R.idToken);U(j,v,"internal-error");const{sub:le}=j;return U(m.uid===le,v,"user-mismatch"),sr._forOperation(m,T,R)}catch(R){throw"auth/user-not-found"===R?.code&&De(v,"user-mismatch"),R}})).apply(this,arguments)}function va(m,h){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(m,h,p=!1){const v="signIn",T=yield rs(m,v,h),R=yield sr._fromIdTokenResponse(m,v,T);return p||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function an(m,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(m,h){return va(nn(m),h)})).apply(this,arguments)}function fn(m,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,a.Z)(function*(m,h){const p=(0,x.m9)(m);return yield ss(!1,p,h.providerId),ga(p,h)})).apply(this,arguments)}function os(m,h){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(m,h){return _a((0,x.m9)(m),h)})).apply(this,arguments)}function pc(m,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,a.Z)(function*(m,h){return Wn(m,"POST","/v1/accounts:signInWithCustomToken",Je(m,h))})).apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(m,h){const p=nn(m),v=yield pc(p,{token:h,returnSecureToken:!0}),T=yield sr._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class Eo{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Do._fromServerResponse(h,p):De(h,"internal-error")}}class Do extends Eo{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Do(p)}}function ya(m,h,p){var v;U((null===(v=p.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),U(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(U(p.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(U(p.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function bo(){return(bo=(0,a.Z)(function*(m,h,p){const v=(0,x.m9)(m),T={requestType:"PASSWORD_RESET",email:h};p&&ya(v,T,p),yield Ji(v,T)})).apply(this,arguments)}function ft(){return(ft=(0,a.Z)(function*(m,h,p){yield cn((0,x.m9)(m),{oobCode:h,newPassword:p})})).apply(this,arguments)}function wl(){return(wl=(0,a.Z)(function*(m,h){yield pt((0,x.m9)(m),{oobCode:h})})).apply(this,arguments)}function Ea(m,h){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,a.Z)(function*(m,h){const p=(0,x.m9)(m),v=yield cn(p,{oobCode:h}),T=v.requestType;switch(U(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(v.mfaInfo,p,"internal-error");default:U(v.email,p,"internal-error")}let R=null;return v.mfaInfo&&(R=Eo._fromServerResponse(nn(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function Da(){return(Da=(0,a.Z)(function*(m,h){const{data:p}=yield Ea((0,x.m9)(m),h);return p.email})).apply(this,arguments)}function mc(){return(mc=(0,a.Z)(function*(m,h,p){const v=nn(m),T=yield Il(v,{returnSecureToken:!0,email:h,password:p}),R=yield sr._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}function Al(){return(Al=(0,a.Z)(function*(m,h,p){const v=(0,x.m9)(m),T={requestType:"EMAIL_SIGNIN",email:h};U(p.handleCodeInApp,v,"argument-error"),p&&ya(v,T,p),yield ha(v,T)})).apply(this,arguments)}function Rs(){return(Rs=(0,a.Z)(function*(m,h,p){const v=(0,x.m9)(m),T=Dl.credentialWithLink(h,p||Se());return U(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),an(v,T)})).apply(this,arguments)}function ba(m,h){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,a.Z)(function*(m,h){return qt(m,"POST","/v1/accounts:createAuthUri",Je(m,h))})).apply(this,arguments)}function xs(){return(xs=(0,a.Z)(function*(m,h){const v={identifier:h,continueUri:Ye()?Se():"http://localhost"},{signinMethods:T}=yield ba((0,x.m9)(m),v);return T||[]})).apply(this,arguments)}function vc(){return(vc=(0,a.Z)(function*(m,h){const p=(0,x.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&ya(p.auth,T,h);const{email:R}=yield xt(p.auth,T);R!==m.email&&(yield m.reload())})).apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(m,h,p){const v=(0,x.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};p&&ya(v.auth,R,p);const{email:j}=yield Bd(v.auth,R);j!==m.email&&(yield m.reload())})).apply(this,arguments)}function oi(m,h){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,a.Z)(function*(m,h){return qt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(m,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,x.m9)(m),R={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},j=yield en(v,oi(v.auth,R));v.displayName=j.displayName||null,v.photoURL=j.photoUrl||null;const le=v.providerData.find(({providerId:Ne})=>"password"===Ne);le&&(le.displayName=v.displayName,le.photoURL=v.photoURL),yield v._updateTokensIfNecessary(j)})).apply(this,arguments)}function xl(m,h,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,a.Z)(function*(m,h,p){const{auth:v}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(R.email=h),p&&(R.password=p);const j=yield en(m,$r(v,R));yield m._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class as{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class Cc extends as{constructor(h,p,v,T){super(h,p,v),this.username=T}}class Ol extends as{constructor(h,p){super(h,"facebook.com",p)}}class Ec extends Cc{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class jd extends as{constructor(h,p){super(h,"google.com",p)}}class wa extends Cc{constructor(h,p,v){super(h,"twitter.com",p,v)}}function Gd(m){const{user:h,_tokenResponse:p}=m;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function yc(m){var h,p;if(!m)return null;const{providerId:v}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&m?.idToken){const j=null===(p=null===(h=it(m.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(j)return new as(R,"anonymous"!==j&&"custom"!==j?j:null)}if(!v)return null;switch(v){case"facebook.com":return new Ol(R,T);case"github.com":return new Ec(R,T);case"google.com":return new jd(R,T);case"twitter.com":return new wa(R,T,m.screenName||null);case"custom":case"anonymous":return new as(R,null);default:return new as(R,v,T)}}(p)}class Ps{constructor(h,p,v){this.type=h,this.credential=p,this.auth=v}static _fromIdtoken(h,p){return new Ps("enroll",h,p)}static _fromMfaPendingCredential(h){return new Ps("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Ps._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(v=h.multiFactorSession)&&void 0!==v&&v.idToken)return Ps._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Nl{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=nn(h),T=p.customData._serverResponse,R=(T.mfaInfo||[]).map(le=>Eo._fromServerResponse(v,le));U(T.mfaPendingCredential,v,"internal-error");const j=Ps._fromMfaPendingCredential(T.mfaPendingCredential);return new Nl(j,R,function(){var le=(0,a.Z)(function*(Ne){const Ve=yield Ne._process(v,j);delete T.mfaInfo,delete T.mfaPendingCredential;const lt=Object.assign(Object.assign({},T),{idToken:Ve.idToken,refreshToken:Ve.refreshToken});switch(p.operationType){case"signIn":const Ke=yield sr._fromIdTokenResponse(v,p.operationType,lt);return yield v._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return U(p.user,v,"internal-error"),sr._forOperation(p.user,p.operationType,lt);default:De(v,"internal-error")}});return function(Ne){return le.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,a.Z)(function*(){return p.signInResolver(h)})()}}function Wd(m,h){return qt(m,"POST","/v2/accounts/mfaEnrollment:start",Je(m,h))}class Vi{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Eo._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Vi(h)}getSession(){var h=this;return(0,a.Z)(function*(){return Ps._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,p){var v=this;return(0,a.Z)(function*(){const T=h,R=yield v.getSession(),j=yield en(v.user,T._process(v.user.auth,R,p));return yield v.user._updateTokensIfNecessary(j),v.user.reload()})()}unenroll(h){var p=this;return(0,a.Z)(function*(){const v="string"==typeof h?h:h.uid,T=yield p.user.getIdToken(),R=yield en(p.user,function Zd(m,h){return qt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Je(m,h))}(p.user.auth,{idToken:T,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:j})=>j!==v),yield p.user._updateTokensIfNecessary(R);try{yield p.user.reload()}catch(j){if("auth/user-token-expired"!==j?.code)throw j}})()}}const Or=new WeakMap,Gr="__sak";class kl{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Gr,"1"),this.storage.removeItem(Gr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fl=(()=>{class m extends kl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dc(){const m=(0,x.z$)();return yt(m)||wn(m)}()&&function co(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vd(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),R=this.localCache[v];T!==R&&p(v,R,T)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((le,Ne,Ve)=>{this.notifyListeners(le,Ve)});const T=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(T);if(p.newValue!==le)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!v)return}const R=()=>{const le=this.storage.getItem(T);!v&&this.localCache[T]===le||this.notifyListeners(T,le)},j=this.storage.getItem(T);!function uo(){return(0,x.w1)()&&10===document.documentMode}()||j===p.newValue||p.newValue===p.oldValue?R():setTimeout(R,10)}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const R of Array.from(T))R(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var T=()=>super._set,R=this;return(0,a.Z)(function*(){yield T().call(R,p,v),R.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,T=this;return(0,a.Z)(function*(){const R=yield v().call(T,p);return T.localCache[p]=JSON.stringify(R),R})()}_remove(p){var v=()=>super._remove,T=this;return(0,a.Z)(function*(){yield v().call(T,p),delete T.localCache[p]})()}}return m.type="LOCAL",m})(),ai=(()=>{class m extends kl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return m.type="SESSION",m})();let bc=(()=>{class m{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(R=>R.isListeningto(p));if(v)return v;const T=new m(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,a.Z)(function*(){const T=p,{eventId:R,eventType:j,data:le}=T.data,Ne=v.handlersMap[j];if(!Ne?.size)return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:j});const Ve=Array.from(Ne).map(function(){var Ke=(0,a.Z)(function*(On){return On(T.origin,le)});return function(On){return Ke.apply(this,arguments)}}()),lt=yield function Ll(m){return Promise.all(m.map(function(){var h=(0,a.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return h.apply(this,arguments)}}()))}(Ve);T.ports[0].postMessage({status:"done",eventId:R,eventType:j,response:lt})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Bi(m="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return m+p}class Ul{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,v=50){var T=this;return(0,a.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let j,le;return new Promise((Ne,Ve)=>{const lt=Bi("",20);R.port1.start();const Ke=setTimeout(()=>{Ve(new Error("unsupported_event"))},v);le={messageChannel:R,onMessage(On){const kr=On;if(kr.data.eventId===lt)switch(kr.data.status){case"ack":clearTimeout(Ke),j=setTimeout(()=>{Ve(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Ne(kr.data.response);break;default:clearTimeout(Ke),clearTimeout(j),Ve(new Error("invalid_response"))}}},T.handlers.add(le),R.port1.addEventListener("message",le.onMessage),T.target.postMessage({eventType:h,eventId:lt,data:p},[R.port2])}).finally(()=>{le&&T.removeMessageHandler(le)})})()}}function Jt(){return window}function Fs(){return typeof Jt().WorkerGlobalScope<"u"&&"function"==typeof Jt().importScripts}function Sa(){return(Sa=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ra="firebaseLocalStorageDb",bi="firebaseLocalStorage",xa="fbase_key";class Hi{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ls(m,h){return m.transaction([bi],h?"readwrite":"readonly").objectStore(bi)}function Pa(){const m=indexedDB.open(Ra,1);return new Promise((h,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(bi,{keyPath:xa})}catch(T){p(T)}}),m.addEventListener("success",(0,a.Z)(function*(){const v=m.result;v.objectStoreNames.contains(bi)?h(v):(v.close(),yield function Oa(){const m=indexedDB.deleteDatabase(Ra);return new Hi(m).toPromise()}(),h(yield Pa()))}))})}function ar(m,h,p){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,a.Z)(function*(m,h,p){const v=ls(m,!0).put({[xa]:h,value:p});return new Hi(v).toPromise()})).apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(m,h){const p=ls(m,!1).get(h),v=yield new Hi(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Mo(m,h){const p=ls(m,!0).delete(h);return new Hi(p).toPromise()}const Ii=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,a.Z)(function*(){return p.db||(p.db=yield Pa()),p.db})()}_withRetries(p){var v=this;return(0,a.Z)(function*(){let T=0;for(;;)try{const R=yield v._openDb();return yield p(R)}catch(R){if(T++>3)throw R;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,a.Z)(function*(){return Fs()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,a.Z)(function*(){p.receiver=bc._getInstance(function Ma(){return Fs()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,a.Z)(function*(T,R){return{keyProcessed:(yield p._poll()).includes(R.key)}});return function(T,R){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,a.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,a.Z)(function*(){var v,T;if(p.activeServiceWorker=yield function $i(){return Sa.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ul(p.activeServiceWorker);const R=yield p.sender._send("ping",{},800);!R||(null===(v=R[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,a.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Ic(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Pa();return yield ar(p,Gr,"1"),yield Mo(p,Gr),!0}catch{}return!1})()}_withPendingWrite(p){var v=this;return(0,a.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var T=this;return(0,a.Z)(function*(){return T._withPendingWrite((0,a.Z)(function*(){return yield T._withRetries(R=>ar(R,p,v)),T.localCache[p]=v,T.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,a.Z)(function*(){const T=yield v._withRetries(R=>function Us(m,h){return us.apply(this,arguments)}(R,p));return v.localCache[p]=T,T})()}_remove(p){var v=this;return(0,a.Z)(function*(){return v._withPendingWrite((0,a.Z)(function*(){return yield v._withRetries(T=>Mo(T,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,a.Z)(function*(){const v=yield p._withRetries(j=>{const le=ls(j,!1).getAll();return new Hi(le).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:j,value:le}of v)R.add(j),JSON.stringify(p.localCache[j])!==JSON.stringify(le)&&(p.notifyListeners(j,le),T.push(j));for(const j of Object.keys(p.localCache))p.localCache[j]&&!R.has(j)&&(p.notifyListeners(j,null),T.push(j));return T})()}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const R of Array.from(T))R(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function $l(m,h){return qt(m,"POST","/v2/accounts/mfaSignIn:start",Je(m,h))}function Hl(){return(Hl=(0,a.Z)(function*(m){return(yield qt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zr(m){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=h,v.onerror=T=>{const R=pe("internal-error");R.customData=T,p(R)},v.type="text/javascript",v.charset="UTF-8",function Ro(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(v)})}function jl(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Nr=1e12;class qd{constructor(h){this.auth=h,this.counter=Nr,this._widgets=new Map}render(h,p){const v=this.counter;return this._widgets.set(v,new Gl(h,this.auth.name,p||{})),this.counter++,v}reset(h){var p;const v=h||Nr;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(h){var p;return(null===(p=this._widgets.get(h||Nr))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,a.Z)(function*(){var v;return null===(v=p._widgets.get(h||Nr))||void 0===v||v.execute(),""})()}}class Gl{constructor(h,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;U(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wl(m){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<m;v++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yd=jl("rcb"),Tc=new Dt(3e4,6e4);class ji{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Jt().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return U(function Vs(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Jt().grecaptcha):new Promise((v,T)=>{const R=Jt().setTimeout(()=>{T(pe(h,"network-request-failed"))},Tc.get());Jt()[Yd]=()=>{Jt().clearTimeout(R),delete Jt()[Yd];const le=Jt().grecaptcha;if(!le)return void T(pe(h,"internal-error"));const Ne=le.render;le.render=(Ve,lt)=>{const Ke=Ne(Ve,lt);return this.counter++,Ke},this.hostLanguage=p,v(le)},Zr(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:Yd,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(R),T(pe(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Jt().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xo{load(h){return(0,a.Z)(function*(){return new qd(h)})()}clearedOneInstance(){}}const Sc="recaptcha",Kd={theme:"light",type:"image"};class Fa{constructor(h,p=Object.assign({},Kd),v){this.parameters=p,this.type=Sc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nn(v),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;U(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xo:new ji,this.validateStartingState()}verify(){var h=this;return(0,a.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(p)||new Promise(R=>{const j=le=>{!le||(h.tokenChangeListeners.delete(j),R(le))};h.tokenChangeListeners.add(j),h.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof h)h(p);else if("string"==typeof h){const v=Jt()[h];"function"==typeof v&&v(p)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,a.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,a.Z)(function*(){U(Ye()&&!Fs(),h.auth,"internal-error"),yield function Qd(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Wr(m){return Hl.apply(this,arguments)}(h.auth);U(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wi{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Qn._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Zl(){return(Zl=(0,a.Z)(function*(m,h,p){const v=nn(m),T=yield Rc(v,h,(0,x.m9)(p));return new wi(T,R=>an(v,R))})).apply(this,arguments)}function zl(){return(zl=(0,a.Z)(function*(m,h,p){const v=(0,x.m9)(m);yield ss(!1,v,"phone");const T=yield Rc(v.auth,h,(0,x.m9)(p));return new wi(T,R=>fn(v,R))})).apply(this,arguments)}function Jd(){return(Jd=(0,a.Z)(function*(m,h,p){const v=(0,x.m9)(m),T=yield Rc(v.auth,h,(0,x.m9)(p));return new wi(T,R=>os(v,R))})).apply(this,arguments)}function Rc(m,h,p){return xc.apply(this,arguments)}function xc(){return(xc=(0,a.Z)(function*(m,h,p){var v;const T=yield p.verify();try{let R;if(U("string"==typeof T,m,"argument-error"),U(p.type===Sc,m,"argument-error"),R="string"==typeof h?{phoneNumber:h}:h,"session"in R){const j=R.session;if("phoneNumber"in R)return U("enroll"===j.type,m,"internal-error"),(yield Wd(m,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{U("signin"===j.type,m,"internal-error");const le=(null===(v=R.multiFactorHint)||void 0===v?void 0:v.uid)||R.multiFactorUid;return U(le,m,"missing-multi-factor-info"),(yield $l(m,{mfaPendingCredential:j.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield oc(m,{phoneNumber:R.phoneNumber,recaptchaToken:T});return j}}finally{p._reset()}})).apply(this,arguments)}function Xd(){return(Xd=(0,a.Z)(function*(m,h){yield ga((0,x.m9)(m),h)})).apply(this,arguments)}let Yl=(()=>{class m{constructor(p){this.providerId=m.PROVIDER_ID,this.auth=nn(p)}verifyPhoneNumber(p,v){return Rc(this.auth,p,(0,x.m9)(v))}static credential(p,v){return Qn._fromVerification(p,v)}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:T}=p;return v&&T?Qn._fromTokenResponse(v,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Kt(m,h){return h?ne(h):(U(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class La extends un{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return hn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return hn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return hn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Oo(m){return va(m.auth,new La(m),m.bypassAuthState)}function Oc(m){const{auth:h,user:p}=m;return U(p,h,"internal-error"),_a(p,new La(m),m.bypassAuthState)}function mr(m){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(m){const{auth:h,user:p}=m;return U(p,h,"internal-error"),ga(p,new La(m),m.bypassAuthState)})).apply(this,arguments)}class Ua{constructor(h,p,v,T,R=!1){this.auth=h,this.resolver=v,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,a.Z)(function*(v,T){h.pendingPromise={resolve:v,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(R){h.reject(R)}});return function(v,T){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,a.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:R,tenantId:j,error:le,type:Ne}=h;if(le)return void p.reject(le);const Ve={auth:p.auth,requestUri:v,sessionId:T,tenantId:j||void 0,postBody:R||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ne)(Ve))}catch(lt){p.reject(lt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Oo;case"linkViaPopup":case"linkViaRedirect":return mr;case"reauthViaPopup":case"reauthViaRedirect":return Oc;default:De(this.auth,"internal-error")}}resolve(h){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Po=new Dt(2e3,1e4);function Va(){return(Va=(0,a.Z)(function*(m,h,p){const v=nn(m);Oe(m,h,Ei);const T=Kt(v,p);return new _r(v,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function Pc(){return(Pc=(0,a.Z)(function*(m,h,p){const v=(0,x.m9)(m);Oe(v.auth,h,Ei);const T=Kt(v.auth,p);return new _r(v.auth,"reauthViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(m,h,p){const v=(0,x.m9)(m);Oe(v.auth,h,Ei);const T=Kt(v.auth,p);return new _r(v.auth,"linkViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}let _r=(()=>{class m extends Ua{constructor(p,v,T,R,j){super(p,v,R,j),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var p=this;return(0,a.Z)(function*(){const v=yield p.execute();return U(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,a.Z)(function*(){W(1===p.filter.length,"Popup operations only handle one event");const v=Bi();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(pe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,T;this.pollId=null!==(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Po.get())};p()}}return m.currentPopupAction=null,m})();const No=new Map;class Nc extends Ua{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,a.Z)(function*(){let v=No.get(p.auth._key());if(!v){try{const R=(yield function eh(m,h){return ci.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(R)}catch(T){v=()=>Promise.reject(T)}No.set(p.auth._key(),v)}return p.bypassAuthState||No.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,a.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const T=yield v.auth._redirectUserForId(h.eventId);if(T)return v.user=T,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function ci(){return(ci=(0,a.Z)(function*(m,h){const p=ko(h),v=Ze(m);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(p));return yield v._remove(p),T})).apply(this,arguments)}function Kl(m,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(m,h){return Ze(m)._set(ko(h),"true")})).apply(this,arguments)}function Dn(m,h){No.set(m._key(),h)}function Ze(m){return ne(m._redirectPersistence)}function ko(m){return Z("pendingRedirect",m.config.apiKey,m.name)}function D(){return(D=(0,a.Z)(function*(m,h,p){const v=nn(m);Oe(m,h,Ei);const T=Kt(v,p);return yield Kl(T,v),T._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function k(){return(k=(0,a.Z)(function*(m,h,p){const v=(0,x.m9)(m);Oe(v.auth,h,Ei);const T=Kt(v.auth,p);yield Kl(T,v.auth);const R=yield dt(v);return T._openRedirect(v.auth,h,"reauthViaRedirect",R)})).apply(this,arguments)}function Ee(){return(Ee=(0,a.Z)(function*(m,h,p){const v=(0,x.m9)(m);Oe(v.auth,h,Ei);const T=Kt(v.auth,p);yield ss(!1,v,h.providerId),yield Kl(T,v.auth);const R=yield dt(v);return T._openRedirect(v.auth,h,"linkViaRedirect",R)})).apply(this,arguments)}function ze(){return(ze=(0,a.Z)(function*(m,h){return yield nn(m)._initializationPromise,Ge(m,h,!1)})).apply(this,arguments)}function Ge(m,h){return at.apply(this,arguments)}function at(){return(at=(0,a.Z)(function*(m,h,p=!1){const v=nn(m),T=Kt(v,h),j=yield new Nc(v,T,p).execute();return j&&!p&&(delete j.user._redirectEventId,yield v._persistUserIfCurrent(j.user),yield v._setRedirectUser(null,h)),j})).apply(this,arguments)}function dt(m){return gn.apply(this,arguments)}function gn(){return(gn=(0,a.Z)(function*(m){const h=Bi(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class mn{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function bt(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hs(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!Hs(h)){const T=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(pe(this.auth,T))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(di(h))}saveEventToCache(h){this.cachedEventUids.add(di(h)),this.lastProcessedEventTime=Date.now()}}function di(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Hs({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===h?.code}function hi(m){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,a.Z)(function*(m,h={}){return qt(m,"GET","/v1/projects",h)})).apply(this,arguments)}const th=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gf=/^https?/;function rh(){return(rh=(0,a.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield hi(m);for(const p of h)try{if(ih(p))return}catch{}De(m,"unauthorized-domain")})).apply(this,arguments)}function ih(m){const h=Se(),{protocol:p,hostname:v}=new URL(h);if(m.startsWith("chrome-extension://")){const j=new URL(m);return""===j.hostname&&""===v?"chrome-extension:"===p&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&j.hostname===v}if(!Gf.test(p))return!1;if(th.test(m))return v===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const Hg=new Dt(3e4,6e4);function Jl(){const m=Jt().___jsl;if(m?.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}let Lo=null;function jg(m){return Lo=Lo||function Wf(m){return new Promise((h,p)=>{var v,T,R;function j(){Jl(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Jl(),p(pe(m,"network-request-failed"))},timeout:Hg.get()})}if(null!==(T=null===(v=Jt().gapi)||void 0===v?void 0:v.iframes)&&void 0!==T&&T.Iframe)h(gapi.iframes.getContext());else{if(null===(R=Jt().gapi)||void 0===R||!R.load){const le=jl("iframefcb");return Jt()[le]=()=>{gapi.load?j():p(pe(m,"network-request-failed"))},Zr(`https://apis.google.com/js/api.js?onload=${le}`).catch(Ne=>p(Ne))}j()}}).catch(h=>{throw Lo=null,h})}(m),Lo}const Gg=new Dt(5e3,15e3),Zg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zg(m){const h=m.config;U(h.authDomain,m,"auth-domain-config-required");const p=h.emulator?Qe(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:m.name,v:ie.SDK_VERSION},T=Zf.get(m.config.apiHost);T&&(v.eid=T);const R=m._getFrameworks();return R.length&&(v.fw=R.join(",")),`${p}?${(0,x.xO)(v).slice(1)}`}function kc(){return kc=(0,a.Z)(function*(m){const h=yield jg(m),p=Jt().gapi;return U(p,m,"internal-error"),h.open({where:document.body,url:zg(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zg,dontclear:!0},v=>new Promise(function(){var T=(0,a.Z)(function*(R,j){yield v.restyle({setHideOnLeave:!1});const le=pe(m,"network-request-failed"),Ne=Jt().setTimeout(()=>{j(le)},Gg.get());function Ve(){Jt().clearTimeout(Ne),R(v)}v.ping(Ve).then(Ve,()=>{j(le)})});return function(R,j){return T.apply(this,arguments)}}()))}),kc.apply(this,arguments)}const oh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fi{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uc(m,h,p,v,T,R){U(m.config.authDomain,m,"auth-domain-config-required"),U(m.config.apiKey,m,"invalid-api-key");const j={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:v,v:ie.SDK_VERSION,eventId:T};if(h instanceof Ei){h.setDefaultLanguage(m.languageCode),j.providerId=h.providerId||"",(0,x.xb)(h.getCustomParameters())||(j.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ne,Ve]of Object.entries(R||{}))j[Ne]=Ve}if(h instanceof ns){const Ne=h.getScopes().filter(Ve=>""!==Ve);Ne.length>0&&(j.scopes=Ne.join(","))}m.tenantId&&(j.tid=m.tenantId);const le=j;for(const Ne of Object.keys(le))void 0===le[Ne]&&delete le[Ne];return`${function Kv({config:m}){return m.emulator?Qe(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,x.xO)(le).slice(1)}`}const Uo="webStorageSupport",tu=class eu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ai,this._completeRedirectFn=Ge,this._overrideRedirectResult=Dn}_openPopup(h,p,v,T){var R=this;return(0,a.Z)(function*(){var j;W(null===(j=R.eventManagers[h._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const le=Uc(h,p,v,Se(),T);return function qf(m,h,p,v=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),j=Math.max((window.screen.availWidth-v)/2,0).toString();let le="";const Ne=Object.assign(Object.assign({},oh),{width:v.toString(),height:T.toString(),top:R,left:j}),Ve=(0,x.z$)().toLowerCase();p&&(le=At(Ve)?"_blank":p),He(Ve)&&(h=h||"http://localhost",Ne.scrollbars="yes");const lt=Object.entries(Ne).reduce((On,[kr,Ya])=>`${On}${kr}=${Ya},`,"");if(function qn(m=(0,x.z$)()){var h;return wn(m)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Ve)&&"_self"!==le)return function yr(m,h){const p=document.createElement("a");p.href=m,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",le),new fi(null);const Ke=window.open(h||"",le,lt);U(Ke,m,"popup-blocked");try{Ke.focus()}catch{}return new fi(Ke)}(h,le,Bi())})()}_openRedirect(h,p,v,T){var R=this;return(0,a.Z)(function*(){return yield R._originValidation(h),function ks(m){Jt().location.href=m}(Uc(h,p,v,Se(),T)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:T,promise:R}=this.eventManagers[p];return T?Promise.resolve(T):(W(R,"If manager is not set, promise should be"),R)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(h){var p=this;return(0,a.Z)(function*(){const v=yield function zf(m){return kc.apply(this,arguments)}(h),T=new mn(h);return v.register("authEvent",R=>(U(R?.authEvent,h,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:T},p.iframes[h._key()]=v,T})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Uo,{type:Uo},T=>{var R;const j=null===(R=T?.[0])||void 0===R?void 0:R[Uo];void 0!==j&&p(!!j),De(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function nh(m){return rh.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Vd()||yt()||wn()}};class Vc{constructor(h){this.factorId=h}_process(h,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,v);case"signin":return this._finalizeSignIn(h,p.credential);default:return fe("unexpected MultiFactorSessionType")}}}class uh extends Vc{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new uh(h)}_finalizeEnroll(h,p,v){return function jf(m,h){return qt(m,"POST","/v2/accounts/mfaEnrollment:finalize",Je(m,h))}(h,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function zd(m,h){return qt(m,"POST","/v2/accounts/mfaSignIn:finalize",Je(m,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lr=(()=>{class m{constructor(){}static assertion(p){return uh._fromCredential(p)}}return m.FACTOR_ID="phone",m})();var Bc="@firebase/auth";class Kf{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,a.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(v=>{h(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gs(){return window}function nu(){return(nu=(0,a.Z)(function*(m,h,p){var v;const{BuildInfo:T}=Gs();W(h.sessionId,"AuthEvent did not contain a session ID");const R=yield ch(h.sessionId),j={};return wn()?j.ibi=T.packageName:nt()?j.apn=T.packageName:De(m,"operation-not-supported-in-this-environment"),T.displayName&&(j.appDisplayName=T.displayName),j.sessionId=R,Uc(m,p,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,j)})).apply(this,arguments)}function Ws(){return(Ws=(0,a.Z)(function*(m){const{BuildInfo:h}=Gs(),p={};wn()?p.iosBundleId=h.packageName:nt()?p.androidPackageName=h.packageName:De(m,"operation-not-supported-in-this-environment"),yield hi(m,p)})).apply(this,arguments)}function cs(){return(cs=(0,a.Z)(function*(m,h,p){const{cordova:v}=Gs();let T=()=>{};try{yield new Promise((R,j)=>{let le=null;function Ne(){var Ke;R();const On=null===(Ke=v.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof On&&On(),"function"==typeof p?.close&&p.close()}function Ve(){le||(le=window.setTimeout(()=>{j(pe(m,"redirect-cancelled-by-user"))},2e3))}function lt(){"visible"===document?.visibilityState&&Ve()}h.addPassiveListener(Ne),document.addEventListener("resume",Ve,!1),nt()&&document.addEventListener("visibilitychange",lt,!1),T=()=>{h.removePassiveListener(Ne),document.removeEventListener("resume",Ve,!1),document.removeEventListener("visibilitychange",lt,!1),le&&window.clearTimeout(le)}})}finally{T()}})).apply(this,arguments)}function ch(m){return su.apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(m){const h=Ba(m),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ba(m){if(W(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),p=new Uint8Array(h);for(let v=0;v<m.length;v++)p[v]=m.charCodeAt(v);return p}(0,x.Pz)("authIdTokenMaxAge"),function $c(m){(0,ie._registerComponent)(new ce.wA("auth",(h,{options:p})=>{const v=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),{apiKey:R,authDomain:j}=v.options;return((le,Ne)=>{U(R&&!R.includes(":"),"invalid-api-key",{appName:le.name}),U(!j?.includes(":"),"argument-error",{appName:le.name});const Ve={apiKey:R,authDomain:j,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:da(m)},lt=new ic(le,Ne,Ve);return function Re(m,h){const p=h?.persistence||[],v=(Array.isArray(p)?p:[p]).map(ne);h?.errorMap&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(v,h?.popupRedirectResolver)}(lt,p),lt})(v,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,v)=>{h.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ce.wA("auth-internal",h=>{const p=nn(h.getProvider("auth").getImmediate());return new Kf(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Bc,"0.21.0",function Cr(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ie.registerVersion)(Bc,"0.21.0","esm2017")}("Browser");class Vo extends mn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,a.Z)(function*(){yield h.initPromise})()}}function em(m){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,a.Z)(function*(m){const h=yield zs()._get(ja(m));return h&&(yield zs()._remove(ja(m))),h})).apply(this,arguments)}function Qv(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const v=Math.floor(Math.random()*h.length);m.push(h.charAt(v))}return m.join("")}function zs(){return ne(Fl)}function ja(m){return Z("authEvent",m.config.apiKey,m.name)}function qs(m){if(!m?.includes("?"))return{};const[h,...p]=m.split("?");return(0,x.zd)(p.join("?"))}const au=class ep{constructor(){this._redirectPersistence=ai,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ge,this._overrideRedirectResult=Dn}_initialize(h){var p=this;return(0,a.Z)(function*(){const v=h._key();let T=p.eventManagers.get(v);return T||(T=new Vo(h),p.eventManagers.set(v,T),p.attachCallbackListeners(h,T)),T})()}_openPopup(h){De(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,v,T){var R=this;return(0,a.Z)(function*(){!function Xg(m){var h,p,v,T,R,j,le,Ne,Ve,lt;const Ke=Gs();U("function"==typeof(null===(h=Ke?.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(p=Ke?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(R=null===(T=null===(v=Ke?.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Ne=null===(le=null===(j=Ke?.cordova)||void 0===j?void 0:j.plugins)||void 0===le?void 0:le.browsertab)||void 0===Ne?void 0:Ne.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(lt=null===(Ve=Ke?.cordova)||void 0===Ve?void 0:Ve.InAppBrowser)||void 0===lt?void 0:lt.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const j=yield R._initialize(h);yield j.initialized(),j.resetRedirect(),function $s(){No.clear()}(),yield R._originValidation(h);const le=function $a(m,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Qv(),postBody:null,tenantId:m.tenantId,error:pe(m,"no-auth-event")}}(h,v,T);yield function Ha(m,h){return zs()._set(ja(m),h)}(h,le);const Ne=yield function Jf(m,h,p){return nu.apply(this,arguments)}(h,le,p),Ve=yield function Zs(m){const{cordova:h}=Gs();return new Promise(p=>{h.plugins.browsertab.isAvailable(v=>{let T=null;v?h.plugins.browsertab.openUrl(m):T=h.InAppBrowser.open(m,function bs(m=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),p(T)})})}(Ne);return function iu(m,h,p){return cs.apply(this,arguments)}(h,j,Ve)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ru(m){return Ws.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:v,handleOpenURL:T,BuildInfo:R}=Gs(),j=setTimeout((0,a.Z)(function*(){yield em(h),p.onEvent(lu())}),500),le=function(){var lt=(0,a.Z)(function*(Ke){clearTimeout(j);const On=yield em(h);let kr=null;On&&Ke?.url&&(kr=function Xf(m,h){var p,v;const T=function ou(m){const h=qs(m),p=h.link?decodeURIComponent(h.link):void 0,v=qs(p).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return qs(T).link||T||v||p||m}(h);if(T.includes("/__/auth/callback")){const R=qs(T),j=R.firebaseError?function jc(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,le=null===(v=null===(p=j?.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],Ne=le?pe(le):null;return Ne?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(On,Ke.url)),p.onEvent(kr||lu())});return function(On){return lt.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,le);const Ne=T,Ve=`${R.packageName.toLowerCase()}://`;Gs().handleOpenURL=function(){var lt=(0,a.Z)(function*(Ke){if(Ke.toLowerCase().startsWith(Ve)&&le({url:Ke}),"function"==typeof Ne)try{Ne(Ke)}catch(On){console.error(On)}});return function(Ke){return lt.apply(this,arguments)}}()}};function lu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pe("no-auth-event")}}function $o(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function nm(m=(0,x.z$)()){return!("file:"!==$o()&&"ionic:"!==$o()&&"capacitor:"!==$o()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function uu(){try{const m=self.localStorage,h=Bi();if(m)return m.setItem(h,"1"),m.removeItem(h),!function rm(m=(0,x.z$)()){return function Wa(){return(0,x.w1)()&&11===document?.documentMode}()||function Xv(m=(0,x.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,x.hl)()}catch{return Gc()&&(0,x.hl)()}return!1}function Gc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Za(){return(function np(){return"http:"===$o()||"https:"===$o()}()||(0,x.ru)()||nm())&&!function Jv(){return(0,x.b$)()||(0,x.UG)()}()&&uu()&&!Gc()}function cu(){return nm()&&typeof document<"u"}function du(){return(du=(0,a.Z)(function*(){return!!cu()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},ds=U,hu="persistence";function Ho(m){return fh.apply(this,arguments)}function fh(){return(fh=(0,a.Z)(function*(m){yield m._initializationPromise;const h=ph(),p=Z(hu,m.config.apiKey,m.name);h&&h.setItem(p,m._getPersistence())})).apply(this,arguments)}function ph(){var m;try{return(null===(m=function rp(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const ey=U;class Ys{constructor(){this.browserResolver=ne(tu),this.cordovaResolver=ne(au),this.underlyingResolver=null,this._redirectPersistence=ai,this._completeRedirectFn=Ge,this._overrideRedirectResult=Dn}_initialize(h){var p=this;return(0,a.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,v,T){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(h,p,v,T)})()}_openRedirect(h,p,v,T){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(h,p,v,T)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return cu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ey(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,a.Z)(function*(){if(h.underlyingResolver)return;const p=yield function Wc(){return du.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function ip(m){return m.unwrap()}function mh(m){return sp(m)}function sp(m){const{_tokenResponse:h}=m instanceof x.ZR?m.customData:m;if(!h)return null;if(!(m instanceof x.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Yl.credentialFromResult(m);const p=h.providerId;if(!p||"password"===p)return null;let v;switch(p){case"google.com":v=_o;break;case"facebook.com":v=ac;break;case"github.com":v=bl;break;case"twitter.com":v=uc;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:j,pendingToken:le,nonce:Ne}=h;return R||j||T||le?le?p.startsWith("saml.")?fa._create(p,le):Mr._fromParams({providerId:p,signInMethod:p,pendingToken:le,idToken:T,accessToken:R}):new Ts(p).credential({idToken:T,accessToken:R,rawNonce:Ne}):null}return m instanceof x.ZR?v.credentialFromError(m):v.credentialFromResult(m)}function Er(m,h){return h.catch(p=>{throw p instanceof x.ZR&&function Ks(m,h){var p;const v=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new vh(m,function Hn(m,h){var p;const v=(0,x.m9)(m),T=h;return U(h.customData.operationType,v,"argument-error"),U(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),Nl._fromError(v,T)}(m,h));else if(v){const T=sp(h),R=h;T&&(R.credential=T,R.tenantId=v.tenantId||void 0,R.email=v.email||void 0,R.phoneNumber=v.phoneNumber||void 0)}}(m,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:mh(p),additionalUserInfo:Gd(p),user:Ti.getOrCreate(T)}})}function _h(m,h){return jo.apply(this,arguments)}function jo(){return(jo=(0,a.Z)(function*(m,h){const p=yield h;return{verificationId:p.verificationId,confirm:v=>Er(m,p.confirm(v))}})).apply(this,arguments)}class vh{constructor(h,p){this.resolver=p,this.auth=function gh(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Er(ip(this.auth),this.resolver.resolveSignIn(h))}}class Ti{constructor(h){this._delegate=h,this.multiFactor=function Aa(m){const h=(0,x.m9)(m);return Or.has(h)||Or.set(h,Vi._fromUser(h)),Or.get(h)}(h)}static getOrCreate(h){return Ti.USER_MAP.has(h)||Ti.USER_MAP.set(h,new Ti(h)),Ti.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,a.Z)(function*(){return Er(p.auth,fn(p._delegate,h))})()}linkWithPhoneNumber(h,p){var v=this;return(0,a.Z)(function*(){return _h(v.auth,function Mc(m,h,p){return zl.apply(this,arguments)}(v._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,a.Z)(function*(){return Er(p.auth,function Yv(m,h,p){return St.apply(this,arguments)}(p._delegate,h,Ys))})()}linkWithRedirect(h){var p=this;return(0,a.Z)(function*(){return yield Ho(nn(p.auth)),function z(m,h,p){return function te(m,h,p){return Ee.apply(this,arguments)}(m,h,p)}(p._delegate,h,Ys)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,a.Z)(function*(){return Er(p.auth,os(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return _h(this.auth,function $g(m,h,p){return Jd.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return Er(this.auth,function qv(m,h,p){return Pc.apply(this,arguments)}(this._delegate,h,Ys))}reauthenticateWithRedirect(h){var p=this;return(0,a.Z)(function*(){return yield Ho(nn(p.auth)),function b(m,h,p){return function A(m,h,p){return k.apply(this,arguments)}(m,h,p)}(p._delegate,h,Ys)})()}sendEmailVerification(h){return function Sl(m,h){return vc.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,a.Z)(function*(){return yield function vo(m,h){return is.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function Bf(m,h){return xl((0,x.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function Rl(m,h){return xl((0,x.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function ql(m,h){return Xd.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Di(m,h){return xr.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function Os(m,h,p){return rn.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ti.USER_MAP=new WeakMap;const qa=U;let Zc=(()=>{class m{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=p.options;qa(T,"invalid-api-key",{appName:p.name}),qa(T,"invalid-api-key",{appName:p.name});const R=typeof window<"u"?Ys:void 0;this._delegate=v.initialize({options:{persistence:op(T,p.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ti.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function Cl(m,h,p){const v=nn(m);U(v._canInitEmulator,v,"emulator-config-failed"),U(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const T=!!p?.disableWarnings,R=ho(h),{host:j,port:le}=function fo(m){const h=ho(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const R=T[1];return{host:R,port:Nt(v.substr(R.length+1))}}{const[R,j]=v.split(":");return{host:R,port:Nt(j)}}}(h);v.config.emulator={url:`${R}//${j}${null===le?"":`:${le}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:j,port:le,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Tn(){function m(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,p,v)}applyActionCode(p){return function Ca(m,h){return wl.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ea(this._delegate,p)}confirmPasswordReset(p,v){return function Io(m,h,p){return ft.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var T=this;return(0,a.Z)(function*(){return Er(T._delegate,function pn(m,h,p){return mc.apply(this,arguments)}(T._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Ia(m,h){return xs.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function _c(m,h){return"EMAIL_SIGNIN"===mo.parseLink(h)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,a.Z)(function*(){qa(Za(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function $e(m,h){return ze.apply(this,arguments)}(p._delegate,Ys);return v?Er(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function tm(m,h){nn(m)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,v,T){const{next:R,error:j,complete:le}=fu(p,v,T);return this._delegate.onAuthStateChanged(R,j,le)}onIdTokenChanged(p,v,T){const{next:R,error:j,complete:le}=fu(p,v,T);return this._delegate.onIdTokenChanged(R,j,le)}sendSignInLinkToEmail(p,v){return function kt(m,h,p){return Al.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function si(m,h,p){return bo.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,a.Z)(function*(){let T;switch(function za(m,h){ds(Object.values(xn).includes(h),m,"invalid-persistence-type"),(0,x.b$)()?ds(h!==xn.SESSION,m,"unsupported-persistence-type"):(0,x.UG)()?ds(h===xn.NONE,m,"unsupported-persistence-type"):Gc()?ds(h===xn.NONE||h===xn.LOCAL&&(0,x.hl)(),m,"unsupported-persistence-type"):ds(h===xn.NONE||uu(),m,"unsupported-persistence-type")}(v._delegate,p),p){case xn.SESSION:T=ai;break;case xn.LOCAL:T=(yield ne(Ii)._isAvailable())?Ii:Fl;break;case xn.NONE:T=L;break;default:return De("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Er(this._delegate,function hc(m){return Hd.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Er(this._delegate,an(this._delegate,p))}signInWithCustomToken(p){return Er(this._delegate,function Ui(m,h){return Rn.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return Er(this._delegate,function Ce(m,h,p){return an((0,x.m9)(m),Dl.credential(h,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return Er(this._delegate,function $n(m,h,p){return Rs.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return _h(this._delegate,function jt(m,h,p){return Zl.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,a.Z)(function*(){return qa(Za(),v._delegate,"operation-not-supported-in-this-environment"),Er(v._delegate,function Bs(m,h,p){return Va.apply(this,arguments)}(v._delegate,p,Ys))})()}signInWithRedirect(p){var v=this;return(0,a.Z)(function*(){return qa(Za(),v._delegate,"operation-not-supported-in-this-environment"),yield Ho(v._delegate),function Ql(m,h,p){return function Fo(m,h,p){return D.apply(this,arguments)}(m,h,p)}(v._delegate,p,Ys)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function gc(m,h){return Da.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=xn,m})();function fu(m,h,p){let v=m;"function"!=typeof m&&({next:v,error:h,complete:p}=m);const T=v;return{next:j=>T(j&&Ti.getOrCreate(j)),error:h,complete:p}}function op(m,h){const p=function im(m,h){const p=ph();if(!p)return[];const v=Z(hu,m,h);switch(p.getItem(v)){case xn.NONE:return[L];case xn.LOCAL:return[Ii,ai];case xn.SESSION:return[ai];default:return[]}}(m,h);if(typeof self<"u"&&!p.includes(Ii)&&p.push(Ii),typeof window<"u")for(const v of[Fl,ai])p.includes(v)||p.push(v);return p.includes(L)||p.push(L),p}class pu{constructor(){this.providerId="phone",this._delegate=new Yl(ip(K.Z.auth()))}static credential(h,p){return Yl.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}pu.PHONE_SIGN_IN_METHOD=Yl.PHONE_SIGN_IN_METHOD,pu.PROVIDER_ID=Yl.PROVIDER_ID;const ap=U;class yh{constructor(h,p,v=K.Z.app()){var T;ap(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Fa(h,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function sm(m){m.INTERNAL.registerComponent(new ce.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Zc(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Dl,FacebookAuthProvider:ac,GithubAuthProvider:bl,GoogleAuthProvider:_o,OAuthProvider:Ts,SAMLAuthProvider:jr,PhoneAuthProvider:pu,PhoneMultiFactorGenerator:lr,RecaptchaVerifier:yh,TwitterAuthProvider:uc,Auth:Zc,AuthCredential:un,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.3.0")}(K.Z)},8766:(qe,me,O)=>{O.d(me,{Lj:()=>De,X3:()=>Te});var a=O(5861);let x,ie;const ce=new WeakMap,ae=new WeakMap,oe=new WeakMap,V=new WeakMap,B=new WeakMap;let ve={get(U,fe,W){if(U instanceof IDBTransaction){if("done"===fe)return ae.get(U);if("objectStoreNames"===fe)return U.objectStoreNames||oe.get(U);if("store"===fe)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return ye(U[fe])},set:(U,fe,W)=>(U[fe]=W,!0),has:(U,fe)=>U instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in U};function ue(U){return"function"==typeof U?function We(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...fe){return U.apply(_e(this),fe),ye(ce.get(this))}:function(...fe){return ye(U.apply(_e(this),fe))}:function(fe,...W){const Y=U.call(_e(this),fe,...W);return oe.set(Y,fe.sort?fe.sort():[fe]),ye(Y)}}(U):(U instanceof IDBTransaction&&function Me(U){if(ae.has(U))return;const fe=new Promise((W,Y)=>{const ne=()=>{U.removeEventListener("complete",ee),U.removeEventListener("error",Re),U.removeEventListener("abort",Re)},ee=()=>{W(),ne()},Re=()=>{Y(U.error||new DOMException("AbortError","AbortError")),ne()};U.addEventListener("complete",ee),U.addEventListener("error",Re),U.addEventListener("abort",Re)});ae.set(U,fe)}(U),((U,fe)=>fe.some(W=>U instanceof W))(U,function re(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,ve):U)}function ye(U){if(U instanceof IDBRequest)return function q(U){const fe=new Promise((W,Y)=>{const ne=()=>{U.removeEventListener("success",ee),U.removeEventListener("error",Re)},ee=()=>{W(ye(U.result)),ne()},Re=()=>{Y(U.error),ne()};U.addEventListener("success",ee),U.addEventListener("error",Re)});return fe.then(W=>{W instanceof IDBCursor&&ce.set(W,U)}).catch(()=>{}),B.set(fe,U),fe}(U);if(V.has(U))return V.get(U);const fe=ue(U);return fe!==U&&(V.set(U,fe),B.set(fe,U)),fe}const _e=U=>B.get(U);function Te(U,fe,{blocked:W,upgrade:Y,blocking:ne,terminated:ee}={}){const Re=indexedDB.open(U,fe),Se=ye(Re);return Y&&Re.addEventListener("upgradeneeded",Ye=>{Y(ye(Re.result),Ye.oldVersion,Ye.newVersion,ye(Re.transaction))}),W&&Re.addEventListener("blocked",()=>W()),Se.then(Ye=>{ee&&Ye.addEventListener("close",()=>ee()),ne&&Ye.addEventListener("versionchange",()=>ne())}).catch(()=>{}),Se}function De(U,{blocked:fe}={}){const W=indexedDB.deleteDatabase(U);return fe&&W.addEventListener("blocked",()=>fe()),ye(W).then(()=>{})}const pe=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],Oe=new Map;function Ae(U,fe){if(!(U instanceof IDBDatabase)||fe in U||"string"!=typeof fe)return;if(Oe.get(fe))return Oe.get(fe);const W=fe.replace(/FromIndex$/,""),Y=fe!==W,ne=be.includes(W);if(!(W in(Y?IDBIndex:IDBObjectStore).prototype)||!ne&&!pe.includes(W))return;const ee=function(){var Re=(0,a.Z)(function*(Se,...Ye){const Ut=this.transaction(Se,ne?"readwrite":"readonly");let Wt=Ut.store;return Y&&(Wt=Wt.index(Ye.shift())),(yield Promise.all([Wt[W](...Ye),ne&&Ut.done]))[0]});return function(Ye){return Re.apply(this,arguments)}}();return Oe.set(fe,ee),ee}!function Fe(U){ve=U(ve)}(U=>({...U,get:(fe,W,Y)=>Ae(fe,W)||U.get(fe,W,Y),has:(fe,W)=>!!Ae(fe,W)||U.has(fe,W)}))},5861:(qe,me,O)=>{function a(x,ie,re,se,ce,ae,oe){try{var V=x[ae](oe),B=V.value}catch(q){return void re(q)}V.done?ie(B):Promise.resolve(B).then(se,ce)}function K(x){return function(){var ie=this,re=arguments;return new Promise(function(se,ce){var ae=x.apply(ie,re);function oe(B){a(ae,se,ce,oe,V,"next",B)}function V(B){a(ae,se,ce,oe,V,"throw",B)}oe(void 0)})}}O.d(me,{Z:()=>K})}},qe=>{qe(qe.s=1150)}]);